##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.31A/W32 EVALUATION    10/Jan/2016  16:54:34 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\src\interrupt_Usart.c  #
#    Command line    =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\src\interrupt_Usart.c  #
#                       -lC H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27 #
#                       ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+L #
#                       QR_2014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Debug #
#                       \List\ -o H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\201 #
#                       5-6-27ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶ #
#                       ¹æ»®+LQR_2014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH #
#                       _Debug\Obj\ -z9 --debug --cpu_mode thumb --endian    #
#                       little --cpu ARM7TDMI --stack_align 4 --interwork    #
#                       -e --fpu None --ec++ --dlib_config                   #
#                       D:\IAREWE431\ARM\LIB\dl4tptinl8n.h -I                #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\srcIAR\ -I      #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\..\src\ -I      #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\ -I       #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\kalman\   #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\pcm\   #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\spi\   #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\timer\ #
#                        -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27 #
#                       ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+L #
#                       QR_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\pid\  #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\avcs\  #
#                       -I D:\IAREWE431\ARM\INC\                             #
#    List file       =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Debug\Lis #
#                       t\interrupt_Usart.lst                                #
#    Object file     =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Debug\Obj #
#                       \interrupt_Usart.r79                                 #
#                                                                            #
#                                                                            #
##############################################################################

H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2014_7_31\AT91SAM7SE-USART_USB\src\interrupt_Usart.c
      1          #include<includs.h>

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code16?? __code __interwork __atpcs unsigned int AT91F_AIC_ConfigureIt(AT91PS_AIC, unsigned int, unsigned int, unsigned int, void (*)())
   \                     ??AT91F_AIC_ConfigureIt:
   \   00000000   F4B4               PUSH        {R2,R4-R7}
   \   00000002   021C               MOV         R2,R0
   \   00000004   0C1C               MOV         R4,R1
   \   00000006   059E               LDR         R6,[SP, #+20]
   \   00000008   8900               LSL         R1,R1,#+2
   \   0000000A   4718               ADD         R7,R0,R1
   \   0000000C   8037               ADD         R7,#+128
   \   0000000E   3868               LDR         R0,[R7, #+0]
   \   00000010   0125               MOV         R5,#+1
   \   00000012   A540               LSL         R5,R4
   \   00000014   2C1C               MOV         R4,R5
   \   00000016   9225               MOV         R5,#+146
   \   00000018   6D00               LSL         R5,R5,#+1          ;; #+292
   \   0000001A   5519               ADD         R5,R2,R5
   \   0000001C   2C60               STR         R4,[R5, #+0]
   \   0000001E   3E60               STR         R6,[R7, #+0]
   \   00000020   009E               LDR         R6,[SP, #+0]
   \   00000022   1E43               ORR         R6,R3
   \   00000024   5650               STR         R6,[R2, R1]
   \   00000026   6C60               STR         R4,[R5, #+4]
   \   00000028   F8BC               POP         {R3-R7}
   \   0000002A   7047               BX          LR                 ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code16?? __code __interwork __atpcs void AT91F_PDC_Open(AT91PS_PDC)
   \                     ??AT91F_PDC_Open:
   \   00000000   0221               MOV         R1,#+2
   \   00000002   0162               STR         R1,[R0, #+32]
   \   00000004   0902               LSL         R1,R1,#+8
   \   00000006   0162               STR         R1,[R0, #+32]
   \   00000008   0021               MOV         R1,#+0
   \   0000000A   8161               STR         R1,[R0, #+24]
   \   0000000C   C161               STR         R1,[R0, #+28]
   \   0000000E   0161               STR         R1,[R0, #+16]
   \   00000010   4161               STR         R1,[R0, #+20]
   \   00000012   8160               STR         R1,[R0, #+8]
   \   00000014   C160               STR         R1,[R0, #+12]
   \   00000016   0160               STR         R1,[R0, #+0]
   \   00000018   4160               STR         R1,[R0, #+4]
   \   0000001A   0121               MOV         R1,#+1
   \   0000001C   0162               STR         R1,[R0, #+32]
   \   0000001E   0902               LSL         R1,R1,#+8
   \   00000020   0162               STR         R1,[R0, #+32]
   \   00000022   7047               BX          LR                 ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code16?? __code __interwork __atpcs void AT91F_US_Configure(AT91PS_USART, unsigned int, unsigned int, unsigned int, unsigned int)
   \                     ??AT91F_US_Configure:
   \   00000000   30B5               PUSH        {R4,R5,LR}
   \   00000002   041C               MOV         R4,R0
   \   00000004   081C               MOV         R0,R1
   \   00000006   151C               MOV         R5,R2
   \   00000008   039A               LDR         R2,[SP, #+12]
   \   0000000A   0021               MOV         R1,#+0
   \   0000000C   C943               MVN         R1,R1              ;; #-1
   \   0000000E   E160               STR         R1,[R4, #+12]
   \   00000010   AC21               MOV         R1,#+172
   \   00000012   2160               STR         R1,[R4, #+0]
   \   00000014   0A21               MOV         R1,#+10
   \   00000016   4843               MUL         R0,R1
   \   00000018   1901               LSL         R1,R3,#+4
   \   0000001A   ........           _BLF        ??divu32_t,??rT??divu32_t
   \   0000001E   0B1C               MOV         R3,R1
   \   00000020   081C               MOV         R0,R1
   \   00000022   0A21               MOV         R1,#+10
   \   00000024   ........           _BLF        ??divu32_t,??rT??divu32_t
   \   00000028   0528               CMP         R0,#+5
   \   0000002A   05D3               BCC         ??AT91F_US_Configure_1
   \   0000002C   181C               MOV         R0,R3
   \   0000002E   0A21               MOV         R1,#+10
   \   00000030   ........           _BLF        ??divu32_t,??rT??divu32_t
   \   00000034   491C               ADD         R1,R1,#+1
   \   00000036   03E0               B           ??AT91F_US_Configure_2
   \                     ??AT91F_US_Configure_1:
   \   00000038   181C               MOV         R0,R3
   \   0000003A   0A21               MOV         R1,#+10
   \   0000003C   ........           _BLF        ??divu32_t,??rT??divu32_t
   \                     ??AT91F_US_Configure_2:
   \   00000040   2162               STR         R1,[R4, #+32]
   \   00000042   A262               STR         R2,[R4, #+40]
   \   00000044   8020               MOV         R0,#+128
   \   00000046   4000               LSL         R0,R0,#+1          ;; #+256
   \   00000048   2018               ADD         R0,R4,R0
   \   0000004A   ........           _BLF        ??AT91F_PDC_Open,??AT91F_PDC_Open??rT
   \   0000004E   6560               STR         R5,[R4, #+4]
   \   00000050   30BC               POP         {R4,R5}
   \   00000052   01BC               POP         {R0}
   \   00000054   0047               BX          R0                 ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code16?? __code __interwork __atpcs unsigned int CharCounter(char *, int)
   \                     ??CharCounter:
   \   00000000   021C               MOV         R2,R0
   \   00000002   0020               MOV         R0,#+0
   \   00000004   05E0               B           ??CharCounter_1
   \                     ??CharCounter_2:
   \   00000006   131C               MOV         R3,R2
   \   00000008   521C               ADD         R2,R2,#+1
   \   0000000A   1B78               LDRB        R3,[R3, #+0]
   \   0000000C   8B42               CMP         R3,R1
   \   0000000E   00D1               BNE         ??CharCounter_1
   \   00000010   401C               ADD         R0,R0,#+1
   \                     ??CharCounter_1:
   \   00000012   1378               LDRB        R3,[R2, #+0]
   \   00000014   002B               CMP         R3,#+0
   \   00000016   F6D1               BNE         ??CharCounter_2
   \   00000018   00B0               ADD         SP,#+0
   \   0000001A   7047               BX          LR                 ;; return
      2          
      3          	
      4          AT91PS_USART COM0;
      5          AT91PS_USART COM1;
      6          
      7          //extern unsigned int imu_count;
      8          //extern volatile  bool compass_update_flag ;
      9          
     10          unsigned char AVR_PCM[PCM_NUM];

   \                                 In segment DATA_Z, align 4, align-sorted
     11          unsigned char raw_AVR_PCM[PCM_NUM];
   \                     raw_AVR_PCM:
   \   00000000                      DS8 28

   \                                 In segment DATA_Z, align 4, align-sorted
     12          unsigned char PCM_buffer[PCM_BUF_NUM] ;//11.01
   \                     PCM_buffer:
   \   00000000                      DS8 100
     13          

   \                                 In segment DATA_Z, align 1, align-sorted
     14          unsigned char last_char;
   \                     last_char:
   \   00000000                      DS8 1

   \                                 In segment DATA_Z, align 1, align-sorted
     15          unsigned char new_char;
   \                     new_char:
   \   00000000                      DS8 1

   \                                 In segment DATA_I, align 4, align-sorted
     16          
     17          
     18          //int round_count;
     19          //int gps_len=0;
     20          char groundtoarm[UPLOAD_NUM];
     21          
     22          char groundtoarm_flag=0;
   \                     groundtoarm_flag:
   \   00000000                      DS8 1
   \   00000001                      REQUIRE `?<Initializer for groundtoarm_flag>`
     23          
     24          char hmc_save_line[GPS_BUF_NUM];
     25          volatile bool hmc_update_flag = false  ;
     26          
     27          
     28           
     29          char put2ground[400]="$DATA";  //********Êý×é³¤¶ÈÒª×ã¹»´ó£¬·ÀÖ¹Ö¸ÕëÔ½½ç
     30          bool to_ground_transmit_flag=true;
   \                     to_ground_transmit_flag:
   \   00000001                      DS8 1
   \   00000002                      REQUIRE `?<Initializer for to_ground_transmit_flag>`
   \   00000002                      DS8 2
   \                     groundtoarm:
   \   00000004                      DS8 40
   \   0000002C                      REQUIRE `?<Initializer for groundtoarm>`
   \                     COM0:
   \   0000002C                      DS8 4
   \   00000030                      REQUIRE `?<Initializer for COM0>`
     31          
     32          
     33          volatile bool gga_update_flag = false  ;
     34          volatile bool vtg_update_flag = false ;
     35          

   \                                 In segment DATA_Z, align 4, align-sorted
     36          char GPS_buffer[GPS_BUF_NUM] ;
   \                     GPS_buffer:
   \   00000000                      DS8 100
     37          char gga_save_line[GPS_BUF_NUM];
     38          char vtg_save_line[GPS_BUF_NUM];
     39          //extern inline void uncharcpy(unsigned char* des,unsigned char* src, int num);
     40          	
     41          //*------------------------- Interrupt Function -------------------------------
     42          
     43          //*----------------------------------------------------------------------------
     44          //* Function Name       : Usart_c_irq_handler
     45          //* Object              : C handler interrupt function called by the interrupts
     46          //*                       assembling routine
     47          //*----------------------------------------------------------------------------

   \                                 In segment CODE, align 4, keep-with-next
     48          void Usart_c_irq_handler(void)
     49          {
   \                     ??Usart_c_irq_handler:
   \   00000000   30B5               PUSH        {R4,R5,LR}
     50          	AT91PS_USART USART_pt = COM0;
   \   00000002   1449               LDR         R1,??Usart_c_irq_handler_1  ;; groundtoarm_flag
   \   00000004   CB6A               LDR         R3,[R1, #+44]
   \   00000006   181C               MOV         R0,R3
     51          	unsigned int status;
     52          
     53          	//* get Usart status register and active interrupt
     54          	status = USART_pt->US_CSR ;
   \   00000008   5C69               LDR         R4,[R3, #+20]
     55                  status &= USART_pt->US_IMR;
   \   0000000A   1A69               LDR         R2,[R3, #+16]
   \   0000000C   2240               AND         R2,R4
     56          
     57          	if ( status & AT91C_US_RXBUFF)
   \   0000000E   D404               LSL         R4,R2,#+19
   \   00000010   0ED5               BPL         ??Usart_c_irq_handler_2
     58          	{
     59          	    if(*groundtoarm=='$')
   \   00000012   8024               MOV         R4,#+128
   \   00000014   6400               LSL         R4,R4,#+1          ;; #+256
   \   00000016   1B19               ADD         R3,R3,R4
   \   00000018   0C1D               ADD         R4,R1,#+4
   \   0000001A   0D79               LDRB        R5,[R1, #+4]
   \   0000001C   242D               CMP         R5,#+36
   \   0000001E   1C60               STR         R4,[R3, #+0]
   \   00000020   04D1               BNE         ??Usart_c_irq_handler_3
     60                      {
     61           	     COM0->US_RPR = (unsigned int) groundtoarm;
     62          	     COM0->US_RCR = UPLOAD_NUM;
   \   00000022   2824               MOV         R4,#+40
   \   00000024   5C60               STR         R4,[R3, #+4]
     63                       groundtoarm_flag=1;
   \   00000026   0123               MOV         R3,#+1
   \   00000028   0B70               STRB        R3,[R1, #+0]
   \   0000002A   01E0               B           ??Usart_c_irq_handler_2
     64                      }
     65                      else
     66                      {
     67           	     COM0->US_RPR = (unsigned int) groundtoarm;
     68          	     COM0->US_RCR = 1;
   \                     ??Usart_c_irq_handler_3:
   \   0000002C   0124               MOV         R4,#+1
   \   0000002E   5C60               STR         R4,[R3, #+4]
     69                      } 
     70                      
     71          	}
     72                  
     73                  if ( status & AT91C_US_TXBUFE)
   \                     ??Usart_c_irq_handler_2:
   \   00000030   8023               MOV         R3,#+128
   \   00000032   1B01               LSL         R3,R3,#+4          ;; #+2048
   \   00000034   1A42               TST         R2,R3
   \   00000036   08D0               BEQ         ??Usart_c_irq_handler_4
     74          	{ 
     75                    AT91F_US_DisableIt(AT91C_BASE_US0,AT91C_US_TXBUFE  );
   \   00000038   074A               LDR         R2,??Usart_c_irq_handler_1+0x4  ;; 0xfffc000c
   \   0000003A   1360               STR         R3,[R2, #+0]
     76                    to_ground_transmit_flag=true;
   \   0000003C   0122               MOV         R2,#+1
   \   0000003E   4A70               STRB        R2,[R1, #+1]
     77                    AT91C_BASE_US0->US_TPR = (unsigned int)NULL;
   \   00000040   0021               MOV         R1,#+0
   \   00000042   ....               LDR         R2,??DataTable0    ;; 0xfffc0108
   \   00000044   1160               STR         R1,[R2, #+0]
     78                    AT91C_BASE_US0->US_TCR = 0;
   \   00000046   ....               LDR         R2,??DataTable1    ;; 0xfffc010c
   \   00000048   1160               STR         R1,[R2, #+0]
     79                   
     80          	}
     81             //* Reset the satus bit for error
     82          	 USART_pt->US_CR = AT91C_US_RSTSTA;
   \                     ??Usart_c_irq_handler_4:
   \   0000004A   D908               LSR         R1,R3,#+3
   \   0000004C   0160               STR         R1,[R0, #+0]
     83                 // AT91F_US_DisableIt(COM0,AT91C_US_RXBUFF  );
     84          }
   \   0000004E   30BC               POP         {R4,R5}
   \   00000050   01BC               POP         {R0}
   \   00000052   0047               BX          R0                 ;; return
   \                     ??Usart_c_irq_handler_1:
   \   00000054   ........           DC32        groundtoarm_flag
   \   00000058   0C00FCFF           DC32        0xfffc000c
     85          
     86          
     87          //*-------------------------- External Function -------------------------------
     88          //    receive the PCM
     89          //*---------------------------------------------------------------------------

   \                                 In segment CODE, align 4, keep-with-next
     90          void Usart1_c_irq_handler(void)
     91          {
   \                     ??Usart1_c_irq_handler:
   \   00000000   70B5               PUSH        {R4-R6,LR}
     92          	AT91PS_USART USART_pt = COM1;
   \   00000002   ....               LDR         R0,??DataTable11   ;; ??newchar
   \   00000004   016A               LDR         R1,[R0, #+32]
     93          	unsigned int status;
     94          
     95          	// get Usart status register and active interrupt
     96          	    status = USART_pt->US_CSR ;
   \   00000006   4A69               LDR         R2,[R1, #+20]
     97                  status &= USART_pt->US_IMR;
   \   00000008   0B69               LDR         R3,[R1, #+16]
   \   0000000A   1340               AND         R3,R2
     98                  static unsigned int pcm_index = 0;
     99                  static unsigned char newchar = 'A';
    100                  static unsigned char lastchar = 'B';
    101                  unsigned char r = '\r' , n = '\n';
    102                  
    103                  if ( status & AT91C_US_RXRDY)
   \   0000000C   DA07               LSL         R2,R3,#+31
   \   0000000E   3BD5               BPL         ??Usart1_c_irq_handler_1
    104                    {	
    105                      
    106                       lastchar = newchar;
   \   00000010   0278               LDRB        R2,[R0, #+0]
    107                       newchar = AT91C_BASE_US1->US_RHR;
   \   00000012   1F4B               LDR         R3,??Usart1_c_irq_handler_2  ;; 0xfffc4018
   \   00000014   1B68               LDR         R3,[R3, #+0]
   \   00000016   0370               STRB        R3,[R0, #+0]
    108                       
    109                       PCM_buffer[pcm_index] = newchar;  
   \   00000018   446A               LDR         R4,[R0, #+36]
   \   0000001A   1E4B               LDR         R3,??Usart1_c_irq_handler_2+0x4  ;; PCM_buffer
   \   0000001C   1D19               ADD         R5,R3,R4
   \   0000001E   0678               LDRB        R6,[R0, #+0]
   \   00000020   2E70               STRB        R6,[R5, #+0]
    110                   
    111                      if((lastchar == r && newchar != n) ||( newchar == n && lastchar != r ) )
   \   00000022   0D2A               CMP         R2,#+13
   \   00000024   01D1               BNE         ??Usart1_c_irq_handler_3
   \   00000026   0A2E               CMP         R6,#+10
   \   00000028   03D1               BNE         ??Usart1_c_irq_handler_4
   \                     ??Usart1_c_irq_handler_3:
   \   0000002A   0A2E               CMP         R6,#+10
   \   0000002C   09D1               BNE         ??Usart1_c_irq_handler_5
   \   0000002E   0D2A               CMP         R2,#+13
   \   00000030   07D0               BEQ         ??Usart1_c_irq_handler_5
    112                      {
    113                             pcm_index = 0;
   \                     ??Usart1_c_irq_handler_4:
   \   00000032   0022               MOV         R2,#+0
   \   00000034   4262               STR         R2,[R0, #+36]
    114                             memset(PCM_buffer,'\0',PCM_BUF_NUM);
   \   00000036   6420               MOV         R0,#+100
   \   00000038   164B               LDR         R3,??Usart1_c_irq_handler_2+0x4  ;; PCM_buffer
   \                     ??Usart1_c_irq_handler_6:
   \   0000003A   001F               SUB         R0,R0,#+4
   \   0000003C   1A50               STR         R2,[R3, R0]
   \   0000003E   FCD1               BNE         ??Usart1_c_irq_handler_6
   \   00000040   22E0               B           ??Usart1_c_irq_handler_1
    115                             USART_pt->US_CR = AT91C_US_RSTSTA;
    116                            return;   
    117                       }
    118                           
    119                      if(pcm_index >= PCM_BUF_NUM-10)   //²»ÄÜ³¬¹ýÒ»¶¨³¤¶È,·ÀÖ¹Òç³ö³ö´í
   \                     ??Usart1_c_irq_handler_5:
   \   00000042   5A2C               CMP         R4,#+90
   \   00000044   F5D2               BCS         ??Usart1_c_irq_handler_4
    120                      {
    121                          pcm_index = 0;
    122                          memset(PCM_buffer,'\0', PCM_BUF_NUM);
    123                          USART_pt->US_CR = AT91C_US_RSTSTA;
    124                           //AT91C_BASE_DBGU->DBGU_CR = AT91C_US_RSTSTA;
    125                          return;
    126                      }  
    127                              
    128                      if(lastchar == r && newchar == n)//handle a line end with \r\n
   \   00000046   0D2A               CMP         R2,#+13
   \   00000048   1CD1               BNE         ??Usart1_c_irq_handler_7
   \   0000004A   0A2E               CMP         R6,#+10
   \   0000004C   1AD1               BNE         ??Usart1_c_irq_handler_7
    129                       { 
    130                              PCM_buffer[pcm_index+1] = '\0';
   \   0000004E   0022               MOV         R2,#+0
   \   00000050   6A70               STRB        R2,[R5, #+1]
    131                              if(PCM_buffer[0]== '$' && PCM_buffer[1]== '$' && pcm_index==(PCM_NUM-1))
   \   00000052   1A78               LDRB        R2,[R3, #+0]
   \   00000054   242A               CMP         R2,#+36
   \   00000056   ECD1               BNE         ??Usart1_c_irq_handler_4
   \   00000058   5A78               LDRB        R2,[R3, #+1]
   \   0000005A   242A               CMP         R2,#+36
   \   0000005C   E9D1               BNE         ??Usart1_c_irq_handler_4
   \   0000005E   1B2C               CMP         R4,#+27
   \   00000060   E7D1               BNE         ??Usart1_c_irq_handler_4
    132                              {
    133                                uncharcpy(AVR_PCM,PCM_buffer,PCM_NUM);
   \   00000062   0022               MOV         R2,#+0
   \                     ??Usart1_c_irq_handler_8:
   \   00000064   8418               ADD         R4,R0,R2
   \   00000066   9D5C               LDRB        R5,[R3, R2]
   \   00000068   2571               STRB        R5,[R4, #+4]
   \   0000006A   521C               ADD         R2,R2,#+1
   \   0000006C   1C2A               CMP         R2,#+28
   \   0000006E   F9DB               BLT         ??Usart1_c_irq_handler_8
    134                                memset(PCM_buffer,'\0',PCM_BUF_NUM);
   \   00000070   6422               MOV         R2,#+100
   \   00000072   0023               MOV         R3,#+0
   \   00000074   074C               LDR         R4,??Usart1_c_irq_handler_2+0x4  ;; PCM_buffer
   \                     ??Usart1_c_irq_handler_9:
   \   00000076   121F               SUB         R2,R2,#+4
   \   00000078   A350               STR         R3,[R4, R2]
   \   0000007A   FCD1               BNE         ??Usart1_c_irq_handler_9
    135                                pcm_rece_flag = 1 ; 
   \   0000007C   064A               LDR         R2,??Usart1_c_irq_handler_2+0x8  ;; pcm_rece_flag
   \   0000007E   0123               MOV         R3,#+1
   \   00000080   1370               STRB        R3,[R2, #+0]
   \   00000082   D6E7               B           ??Usart1_c_irq_handler_4
    136                              }
    137                               
    138                               pcm_index = 0;
    139          					 memset(PCM_buffer,'\0',PCM_BUF_NUM);
    140                               USART_pt->US_CR = AT91C_US_RSTSTA;
    141                               //AT91C_BASE_DBGU->DBGU_CR = AT91C_US_RSTSTA;
    142                              return;
    143                      }
    144                      pcm_index++ ;     //Õý³£¶ÁÍê
   \                     ??Usart1_c_irq_handler_7:
   \   00000084   641C               ADD         R4,R4,#+1
   \   00000086   4462               STR         R4,[R0, #+36]
    145                               
    146                   }	
    147          
    148                  
    149              
    150                 //Reset the satus bit for error
    151          	USART_pt->US_CR = AT91C_US_RSTSTA;
   \                     ??Usart1_c_irq_handler_1:
   \   00000088   8020               MOV         R0,#+128
   \   0000008A   4000               LSL         R0,R0,#+1          ;; #+256
   \   0000008C   0860               STR         R0,[R1, #+0]
    152                 // AT91F_US_DisableIt(COM1,AT91C_US_RXBUFF  );
    153          }
   \   0000008E   ....               B           ?Subroutine10
   \                     ??Usart1_c_irq_handler_2:
   \   00000090   1840FCFF           DC32        0xfffc4018
   \   00000094   ........           DC32        PCM_buffer
   \   00000098   ........           DC32        pcm_rece_flag

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine10:
   \   00000000   70BC               POP         {R4-R6}
   \   00000002   01BC               POP         {R0}
   \   00000004   0047               BX          R0                 ;; return
   \   00000006   C046               NOP         
   \                     ??Subroutine10_0:
   \   00000008   10F2FFFF           DC32        0xfffff210
   \   0000000C   ........           DC32        hmc_update_flag
   \   00000010   18F2FFFF           DC32        0xfffff218
   \   00000014   ........           DC32        GPS_buffer
   \   00000018   ........           DC32        GPS_buffer
   \   0000001C   ........           DC32        `?<Constant "$HMC">`
   \   00000020   ........           DC32        GPS_buffer
   \   00000024   ........           DC32        GPS_buffer
   \   00000028   ........           DC32        GPS_buffer

   \                                 In segment DATA_I, align 4, align-sorted
   \                     ??newchar:
   \   00000000                      DS8 1
   \   00000001                      REQUIRE `?<Initializer for newchar>`
   \   00000001                      DS8 3
   \                     AVR_PCM:
   \   00000004                      DS8 28
   \   00000020                      REQUIRE `?<Initializer for AVR_PCM>`
   \                     COM1:
   \   00000020                      DS8 4
   \   00000024                      REQUIRE `?<Initializer for COM1>`
   \   00000024                      DS8 4
   \   00000028                      REQUIRE `?<Initializer for pcm_index>`
    154          
    155          //*----------------------------------------------------------------------------
    156          //* \fn    AT91F_US_Printk
    157          //* \brief This function is used to send a string through the US channel
    158          //*----------------------------------------------------------------------------

   \                                 In segment CODE, align 4, keep-with-next
    159          void AT91F_US_Put( char *buffer) // \arg pointer to a string ending by \0
    160          {
   \                     ??AT91F_US_Put:
   \   00000000   06E0               B           ??AT91F_US_Put_1
    161          	while(*buffer != '\0') {
    162          		while (!AT91F_US_TxReady(COM0));
   \                     ??AT91F_US_Put_2:
   \   00000002   0649               LDR         R1,??AT91F_US_Put_3  ;; groundtoarm_flag + 44
   \   00000004   0968               LDR         R1,[R1, #+0]
   \   00000006   4A69               LDR         R2,[R1, #+20]
   \   00000008   9207               LSL         R2,R2,#+30
   \   0000000A   FAD5               BPL         ??AT91F_US_Put_2
    163          		AT91F_US_PutChar(COM0, *buffer++);
   \   0000000C   CB61               STR         R3,[R1, #+28]
   \   0000000E   401C               ADD         R0,R0,#+1
    164          	}
   \                     ??AT91F_US_Put_1:
   \   00000010   0378               LDRB        R3,[R0, #+0]
   \   00000012   002B               CMP         R3,#+0
   \   00000014   F5D1               BNE         ??AT91F_US_Put_2
    165          }
   \   00000016   00B0               ADD         SP,#+0
   \   00000018   7047               BX          LR                 ;; return
   \   0000001A   C046               NOP         
   \                     ??AT91F_US_Put_3:
   \   0000001C   ........           DC32        groundtoarm_flag + 44
    166          

   \                                 In segment CODE, align 4, keep-with-next
    167          void AT91F_US1_Put( char *buffer) // \arg pointer to a string ending by \0
    168          {
   \                     ??AT91F_US1_Put:
   \   00000000   06E0               B           ??AT91F_US1_Put_1
    169          	while(*buffer != '\0') {
    170          		while (!AT91F_US_TxReady(COM1));
   \                     ??AT91F_US1_Put_2:
   \   00000002   0649               LDR         R1,??AT91F_US1_Put_3  ;; ??newchar + 32
   \   00000004   0968               LDR         R1,[R1, #+0]
   \   00000006   4A69               LDR         R2,[R1, #+20]
   \   00000008   9207               LSL         R2,R2,#+30
   \   0000000A   FAD5               BPL         ??AT91F_US1_Put_2
    171          		AT91F_US_PutChar(COM1, *buffer++);
   \   0000000C   CB61               STR         R3,[R1, #+28]
   \   0000000E   401C               ADD         R0,R0,#+1
    172          	}
   \                     ??AT91F_US1_Put_1:
   \   00000010   0378               LDRB        R3,[R0, #+0]
   \   00000012   002B               CMP         R3,#+0
   \   00000014   F5D1               BNE         ??AT91F_US1_Put_2
    173          }
   \   00000016   00B0               ADD         SP,#+0
   \   00000018   7047               BX          LR                 ;; return
   \   0000001A   C046               NOP         
   \                     ??AT91F_US1_Put_3:
   \   0000001C   ........           DC32        ??newchar + 32
    174          

   \                                 In segment CODE, align 4, keep-with-next
    175          void AT91F_DBGU_Put(char *buffer)
    176          {
   \                     ??AT91F_DBGU_Put:
   \   00000000   06E0               B           ??AT91F_DBGU_Put_1
    177            while(*buffer != '\0'){
    178          	//while (!((AT91PS_USART)AT91C_BASE_DBGU->DBGU_CSR & AT91C_US_TXRDY));
    179                  while (!AT91F_US_TxReady((AT91PS_USART)AT91C_BASE_DBGU));
   \                     ??AT91F_DBGU_Put_2:
   \   00000002   ....               LDR         R1,??DataTable19   ;; 0xfffff214
   \   00000004   0968               LDR         R1,[R1, #+0]
   \   00000006   8907               LSL         R1,R1,#+30
   \   00000008   FBD5               BPL         ??AT91F_DBGU_Put_2
    180                           AT91F_US_PutChar((AT91PS_USART)AT91C_BASE_DBGU, *buffer++);
   \   0000000A   0449               LDR         R1,??AT91F_DBGU_Put_3  ;; 0xfffff21c
   \   0000000C   0A60               STR         R2,[R1, #+0]
   \   0000000E   401C               ADD         R0,R0,#+1
    181                         // AT91C_BASE_DBGU->DBGU_THR = (*buffer & 0x1FF);
    182          	}
   \                     ??AT91F_DBGU_Put_1:
   \   00000010   0278               LDRB        R2,[R0, #+0]
   \   00000012   002A               CMP         R2,#+0
   \   00000014   F5D1               BNE         ??AT91F_DBGU_Put_2
    183          }
   \   00000016   00B0               ADD         SP,#+0
   \   00000018   7047               BX          LR                 ;; return
   \   0000001A   C046               NOP         
   \                     ??AT91F_DBGU_Put_3:
   \   0000001C   1CF2FFFF           DC32        0xfffff21c
    184          //*----------------------------------------------------------------------------
    185          //* Function Name       : Usart_init
    186          //* Object              : USART initialization
    187          //* Input Parameters    : none
    188          //* Output Parameters   : TRUE
    189          //*----------------------------------------------------------------------------
    190          
    191          //*---------------------------------------------------------------------------
    192          //*   Receive Ground2Arm and Transmit DATA to GroundStation
    193          //*---------------------------------------------------------------------------
    194          

   \                                 In segment CODE, align 4, keep-with-next
    195          void Usart_init ( void )
    196          //* Begin
    197          {
   \                     ??Usart_init:
   \   00000000   30B5               PUSH        {R4,R5,LR}
    198              COM0= AT91C_BASE_US0;
   \   00000002   184C               LDR         R4,??Usart_init_1  ;; groundtoarm_flag
   \   00000004   1848               LDR         R0,??Usart_init_1+0x4  ;; 0xfffc0000
   \   00000006   E062               STR         R0,[R4, #+44]
    199              //* Define RXD and TXD as peripheral
    200              // Configure PIO controllers to periph mode
    201              AT91F_PIO_CfgPeriph(
    202          	 AT91C_BASE_PIOA, // PIO controller base address
    203          	 ((unsigned int) AT91C_PA5_RXD0    ) |
    204          	 ((unsigned int) AT91C_PA6_TXD0    ) , // Peripheral A
    205          	 0 ); // Peripheral B
   \   00000008   6021               MOV         R1,#+96
   \   0000000A   ....               LDR         R2,??DataTable21   ;; 0xfffff470
   \   0000000C   1160               STR         R1,[R2, #+0]
   \   0000000E   ....               LDR         R2,??DataTable22   ;; 0xfffff474
   \   00000010   0023               MOV         R3,#+0
   \   00000012   1360               STR         R3,[R2, #+0]
   \   00000014   ....               LDR         R2,??DataTable23   ;; 0xfffff404
   \   00000016   1160               STR         R1,[R2, #+0]
    206          
    207              //* First, enable the clock of the PIOB
    208              AT91F_PMC_EnablePeriphClock ( AT91C_BASE_PMC, 1 << AT91C_ID_US0 ) ;
   \   00000018   4025               MOV         R5,#+64
   \   0000001A   ....               LDR         R1,??DataTable24   ;; 0xfffffc10
   \   0000001C   0D60               STR         R5,[R1, #+0]
    209          
    210              //* Usart Configure
    211              AT91F_US_Configure (COM0, AT91B_MCK,AT91C_US_ASYNC_MODE,115200 , 0);
   \   0000001E   0021               MOV         R1,#+0
   \   00000020   02B4               PUSH        {R1}
   \   00000022   E123               MOV         R3,#+225
   \   00000024   5B02               LSL         R3,R3,#+9          ;; #+115200
   \   00000026   8C22               MOV         R2,#+140
   \   00000028   1201               LSL         R2,R2,#+4          ;; #+2240
   \   0000002A   ....               LDR         R1,??DataTable26   ;; 0x3921000
   \   0000002C   ........           _BLF        ??AT91F_US_Configure,??AT91F_US_Configure??rT
    212          
    213              //* Enable usart
    214              COM0->US_CR = AT91C_US_TXEN |AT91C_US_RXEN;
   \   00000030   E06A               LDR         R0,[R4, #+44]
   \   00000032   5021               MOV         R1,#+80
   \   00000034   0160               STR         R1,[R0, #+0]
    215          
    216              //* open Usart interrupt
    217              AT91F_AIC_ConfigureIt (AT91C_BASE_AIC, AT91C_ID_US0, USART_INTERRUPT_LEVEL,
    218                                     AT91C_AIC_SRCTYPE_INT_HIGH_LEVEL, Usart_c_irq_handler);
   \   00000036   0D48               LDR         R0,??Usart_init_1+0x8  ;; ??Usart_c_irq_handler
   \   00000038   01B4               PUSH        {R0}
   \   0000003A   0023               MOV         R3,#+0
   \   0000003C   0322               MOV         R2,#+3
   \   0000003E   0621               MOV         R1,#+6
   \   00000040   ....               LDR         R0,??DataTable27   ;; 0xfffff000
   \   00000042   ........           _BLF        ??AT91F_AIC_ConfigureIt,??AT91F_AIC_ConfigureIt??rT
    219              AT91F_AIC_EnableIt (AT91C_BASE_AIC, AT91C_ID_US0);
   \   00000046   ....               LDR         R0,??DataTable28   ;; 0xfffff120
   \   00000048   0560               STR         R5,[R0, #+0]
    220              // Set the PDC
    221              AT91F_PDC_Open (AT91C_BASE_PDC_US0);
   \   0000004A   094D               LDR         R5,??Usart_init_1+0xC  ;; 0xfffc0100
   \   0000004C   281C               MOV         R0,R5
   \   0000004E   ........           _BLF        ??AT91F_PDC_Open,??AT91F_PDC_Open??rT
    222              //* address to the next bloc to be received
    223              AT91C_BASE_US0->US_RPR = (unsigned int) groundtoarm;
   \   00000052   201D               ADD         R0,R4,#+4
   \   00000054   2860               STR         R0,[R5, #+0]
    224              COM0->US_RCR = 1;//UPLOAD_NUM;//* 139¸ö×Ö·û
   \   00000056   E06A               LDR         R0,[R4, #+44]
   \   00000058   8221               MOV         R1,#+130
   \   0000005A   4900               LSL         R1,R1,#+1          ;; #+260
   \   0000005C   0122               MOV         R2,#+1
   \   0000005E   4250               STR         R2,[R0, R1]
    225              //*  and AT91C_US_ENDRX
    226              AT91F_US_EnableIt(COM0,AT91C_US_RXBUFF  );//* RX Buffer Full Interrupt Enable
   \   00000060   1103               LSL         R1,R2,#+12
   \   00000062   ....               B           ?Subroutine11
   \                     ??Usart_init_1:
   \   00000064   ........           DC32        groundtoarm_flag
   \   00000068   0000FCFF           DC32        0xfffc0000
   \   0000006C   ........           DC32        ??Usart_c_irq_handler
   \   00000070   0001FCFF           DC32        0xfffc0100
    227            //  AT91F_US_EnableIt(AT91C_BASE_US0,AT91C_US_TXBUFE  );
    228          //* End
    229          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine11:
   \   00000000   8160               STR         R1,[R0, #+8]
   \                     ??Subroutine11_0:
   \   00000002   3CBC               POP         {R2-R5}
   \   00000004   01BC               POP         {R0}
   \   00000006   0047               BX          R0                 ;; return
   \                     ??Subroutine11_1:
   \   00000008   0040FCFF           DC32        0xfffc4000
   \   0000000C   ........           DC32        ??Usart1_c_irq_handler
    230          
    231          //*---------------------------------------------------------------------------
    232          //*   receive AVR_PCM
    233          //*---------------------------------------------------------------------------

   \                                 In segment CODE, align 4, keep-with-next
    234          void Usart1_init ( void )
    235          // Begin
    236          {
   \                     ??Usart1_init:
   \   00000000   30B5               PUSH        {R4,R5,LR}
    237              COM1= AT91C_BASE_US1;
   \   00000002   ....               LDR         R4,??DataTable11   ;; ??newchar
   \   00000004   ....               LDR         R0,??Subroutine11_1  ;; 0xfffc4000
   \   00000006   2062               STR         R0,[R4, #+32]
    238              // Define RXD and TXD as peripheral
    239              // Configure PIO controllers to periph mode
    240              AT91F_PIO_CfgPeriph(
    241          	 AT91C_BASE_PIOA, // PIO controller base address
    242          	 ((unsigned int) AT91C_PA21_RXD1    ) |
    243          	 ((unsigned int) AT91C_PA22_TXD1    ) , // Peripheral A
    244          	 0 ); // Peripheral B
   \   00000008   C021               MOV         R1,#+192
   \   0000000A   C903               LSL         R1,R1,#+15         ;; #+6291456
   \   0000000C   ....               LDR         R2,??DataTable21   ;; 0xfffff470
   \   0000000E   1160               STR         R1,[R2, #+0]
   \   00000010   ....               LDR         R2,??DataTable22   ;; 0xfffff474
   \   00000012   0023               MOV         R3,#+0
   \   00000014   1360               STR         R3,[R2, #+0]
   \   00000016   ....               LDR         R2,??DataTable23   ;; 0xfffff404
   \   00000018   1160               STR         R1,[R2, #+0]
    245          
    246              //First, enable the clock of the PIOB
    247              AT91F_PMC_EnablePeriphClock ( AT91C_BASE_PMC, 1 << AT91C_ID_US1 ) ;
   \   0000001A   8025               MOV         R5,#+128
   \   0000001C   ....               LDR         R1,??DataTable24   ;; 0xfffffc10
   \   0000001E   0D60               STR         R5,[R1, #+0]
    248          
    249              // Usart Configure
    250              AT91F_US_Configure (COM1, AT91B_MCK,AT91C_US_ASYNC_MODE,19200, 0);
   \   00000020   0021               MOV         R1,#+0
   \   00000022   02B4               PUSH        {R1}
   \   00000024   9623               MOV         R3,#+150
   \   00000026   DB01               LSL         R3,R3,#+7          ;; #+19200
   \   00000028   8C22               MOV         R2,#+140
   \   0000002A   1201               LSL         R2,R2,#+4          ;; #+2240
   \   0000002C   ....               LDR         R1,??DataTable26   ;; 0x3921000
   \   0000002E   ........           _BLF        ??AT91F_US_Configure,??AT91F_US_Configure??rT
    251          
    252              // Enable usart
    253              COM1->US_CR = AT91C_US_RXEN | AT91C_US_TXEN;
   \   00000032   206A               LDR         R0,[R4, #+32]
   \   00000034   5021               MOV         R1,#+80
   \   00000036   0160               STR         R1,[R0, #+0]
    254          
    255              // open Usart interrupt
    256              AT91F_AIC_ConfigureIt (AT91C_BASE_AIC, AT91C_ID_US1, USART1_INTERRUPT_LEVEL,
    257                                     AT91C_AIC_SRCTYPE_INT_HIGH_LEVEL, Usart1_c_irq_handler);
   \   00000038   ....               LDR         R0,??Subroutine11_1+0x4  ;; ??Usart1_c_irq_handler
   \   0000003A   01B4               PUSH        {R0}
   \   0000003C   0023               MOV         R3,#+0
   \   0000003E   0622               MOV         R2,#+6
   \   00000040   0721               MOV         R1,#+7
   \   00000042   ....               LDR         R0,??DataTable27   ;; 0xfffff000
   \   00000044   ........           _BLF        ??AT91F_AIC_ConfigureIt,??AT91F_AIC_ConfigureIt??rT
    258              AT91F_AIC_EnableIt (AT91C_BASE_AIC, AT91C_ID_US1);
   \   00000048   ....               LDR         R0,??DataTable28   ;; 0xfffff120
   \   0000004A   0560               STR         R5,[R0, #+0]
    259              // Set the PDC
    260             // AT91F_PDC_Open (AT91C_BASE_PDC_US1);//11.01
    261              
    262              AT91F_US_EnableIt(COM1,AT91C_US_RXRDY);//RX Buffer Full Interrupt Enable
   \   0000004C   206A               LDR         R0,[R4, #+32]
   \   0000004E   0121               MOV         R1,#+1
   \   00000050                      REQUIRE ?Subroutine11
   \   00000050                      ;; // Fall through to label ?Subroutine11
    263              
    264          // End
    265          }
    266          
    267          //*---------------------------------------------------------------------------
    268          //* receive the GPS 
    269          //*---------------------------------------------------------------------------
    270          
    271          /********************************************************
    272          * º¯ÊýËµÃ÷£º * debug½Ó¿ÚÖÐ¶Ï´¦Àíº¯Êý
    273                         ½ÓÊÜÀ´×ÔdebugµÄgps×Ö·û£¬²¢×ö×ÖÍ·¡¢×ÖÎ²¡¢¶ººÅÅÐ¶Ï¡£
    274                         ½ÓÊÕÍêÒ»´®ÍêÕûggaºóÖÃÎ»gga_update_flag£¬½ÓÊÕµ½ÍêÕûvtgºóÖÃÎ»vtg_update_flag
    275          * Èë¿Ú²ÎÊý£º * ÎÞ
    276          * ·µ»Ø²ÎÊý£º * ÎÞ
    277          * ÊäÈëÊý¾ÝÊ¾Àý£º $GPGGA,075402.00,2302.4770,N,11321.1163,E,2,09,0.9,6.30,M,-6.50,M,02,AAAA*70
    278                           $GPVTG,133.955,T,133.955,M,0.047,N,0.087,K,D*2A
    279          * ×îºóÐÞ¸Ä£º * ³ÂÓÂ 2009-03-24 
    280          * ±¸    ×¢£º * ÎÞ
    281          ********************************************************/
    282           

   \                                 In segment CODE, align 4, keep-with-next
    283          void Debug_irq_handler(void)
    284          {
   \                     ??Debug_irq_handler:
   \   00000000   70B5               PUSH        {R4-R6,LR}
    285          
    286              static unsigned char gps_index = 0;
    287              static unsigned char new_char = 'A';
    288              static unsigned char last_char = 'B';
    289              unsigned char r = '\r' , n = '\n';//***********×¢Òâ,ÊµÑéÊÒÊµÑéÓÃr&n
    290              unsigned int status;
    291              status  = AT91C_BASE_DBGU->DBGU_CSR ;
   \   00000002   ....               LDR         R0,??DataTable19   ;; 0xfffff214
   \   00000004   0068               LDR         R0,[R0, #+0]
    292              status &= AT91C_BASE_DBGU->DBGU_IMR;
   \   00000006   ....               LDR         R1,??Subroutine10_0  ;; 0xfffff210
   \   00000008   0968               LDR         R1,[R1, #+0]
   \   0000000A   0140               AND         R1,R0
    293          	
    294             
    295              
    296              if ( status & AT91C_US_RXRDY)
   \   0000000C   C807               LSL         R0,R1,#+31
   \   0000000E   19D5               BPL         ??Debug_irq_handler_1
    297                {	
    298          	
    299                   last_char = new_char;
   \   00000010   ....               LDR         R4,??Subroutine10_0+0x4  ;; hmc_update_flag
   \   00000012   2079               LDRB        R0,[R4, #+4]
    300                   new_char = AT91C_BASE_DBGU->DBGU_RHR;
   \   00000014   ....               LDR         R1,??Subroutine10_0+0x8  ;; 0xfffff218
   \   00000016   0968               LDR         R1,[R1, #+0]
   \   00000018   2171               STRB        R1,[R4, #+4]
    301                    
    302          		GPS_buffer[gps_index] = new_char;  
   \   0000001A   E178               LDRB        R1,[R4, #+3]
   \   0000001C   ....               LDR         R5,??Subroutine10_0+0xC  ;; GPS_buffer
   \   0000001E   6A18               ADD         R2,R5,R1
   \   00000020   2379               LDRB        R3,[R4, #+4]
   \   00000022   1370               STRB        R3,[R2, #+0]
    303          
    304          	if((last_char == r && new_char != n) ||( new_char == n && last_char != r ) )
   \   00000024   0D28               CMP         R0,#+13
   \   00000026   01D1               BNE         ??Debug_irq_handler_2
   \   00000028   0A2B               CMP         R3,#+10
   \   0000002A   03D1               BNE         ??Debug_irq_handler_3
   \                     ??Debug_irq_handler_2:
   \   0000002C   0A2B               CMP         R3,#+10
   \   0000002E   0AD1               BNE         ??Debug_irq_handler_4
   \   00000030   0D28               CMP         R0,#+13
   \   00000032   08D0               BEQ         ??Debug_irq_handler_4
    305          	{
    306                        gps_index = 0;
   \                     ??Debug_irq_handler_3:
   \   00000034   0020               MOV         R0,#+0
   \   00000036   E070               STRB        R0,[R4, #+3]
    307          	       memset(GPS_buffer,'\0', GPS_BUF_NUM);
   \   00000038   6420               MOV         R0,#+100
   \   0000003A   0021               MOV         R1,#+0
   \   0000003C   ....               LDR         R2,??Subroutine10_0+0x10  ;; GPS_buffer
   \                     ??Debug_irq_handler_5:
   \   0000003E   001F               SUB         R0,R0,#+4
   \   00000040   1150               STR         R1,[R2, R0]
   \   00000042   FCD1               BNE         ??Debug_irq_handler_5
   \                     ??Debug_irq_handler_1:
   \   00000044   6CE0               B           ??Debug_irq_handler_6
    308                          AT91C_BASE_DBGU->DBGU_CR = AT91C_US_RSTSTA;
    309                        return;   
    310          	 }
    311          		
    312          	if(gps_index >= GPS_BUF_NUM-10)   //²»ÄÜ³¬¹ýÒ»¶¨³¤¶È,·ÀÖ¹Òç³ö³ö´í
   \                     ??Debug_irq_handler_4:
   \   00000046   5A29               CMP         R1,#+90
   \   00000048   F4D2               BCS         ??Debug_irq_handler_3
    313                  {
    314                      gps_index = 0;
    315                      memset(GPS_buffer,'\0', GPS_BUF_NUM);
    316                       AT91C_BASE_DBGU->DBGU_CR = AT91C_US_RSTSTA;
    317                      return;
    318                  }  
    319          		
    320                  if(last_char == r && new_char == n)//handle a line end with \r\n
   \   0000004A   0D28               CMP         R0,#+13
   \   0000004C   66D1               BNE         ??Debug_irq_handler_7
   \   0000004E   0A2B               CMP         R3,#+10
   \   00000050   64D1               BNE         ??Debug_irq_handler_7
    321                   {  
    322                          GPS_buffer[gps_index+1] = '\0';//2011.10.24syc
   \   00000052   0020               MOV         R0,#+0
   \   00000054   5070               STRB        R0,[R2, #+1]
    323                           if( strncmp(GPS_buffer,"$GPGGA",6)== 0)//$GPGGA
   \   00000056   ....               LDR         R6,??Subroutine10_0+0x14  ;; `?<Constant "$HMC">`
   \   00000058   0622               MOV         R2,#+6
   \   0000005A   311C               MOV         R1,R6
   \   0000005C   1031               ADD         R1,#+16
   \   0000005E   281C               MOV         R0,R5
   \   00000060   ........           _BLF        strncmp,??strncmp??rT
   \   00000064   0028               CMP         R0,#+0
   \   00000066   17D1               BNE         ??Debug_irq_handler_8
    324                          {
    325                               if((CharCounter(GPS_buffer,',') == 14) &&(gga_update_flag == false ))
   \   00000068   2C21               MOV         R1,#+44
   \   0000006A   281C               MOV         R0,R5
   \   0000006C   ........           _BLF        ??CharCounter,??CharCounter??rT
   \   00000070   0E28               CMP         R0,#+14
   \   00000072   11D1               BNE         ??Debug_irq_handler_8
   \   00000074   6078               LDRB        R0,[R4, #+1]
   \   00000076   0028               CMP         R0,#+0
   \   00000078   0ED1               BNE         ??Debug_irq_handler_8
    326                                  {
    327          							//if(strlen(GPS_buffer)==72||strlen(GPS_buffer)>72)
    328          							//{
    329          								strncpy(gga_save_line,GPS_buffer,gps_index+1);
   \   0000007A   E278               LDRB        R2,[R4, #+3]
   \   0000007C   521C               ADD         R2,R2,#+1
   \   0000007E   291C               MOV         R1,R5
   \   00000080   201C               MOV         R0,R4
   \   00000082   6C30               ADD         R0,#+108
   \   00000084   ........           _BLF        strncpy,??strncpy??rT
    330          								gga_update_flag = true ;
   \   00000088   0120               MOV         R0,#+1
   \   0000008A   6070               STRB        R0,[R4, #+1]
    331          							//}
    332          								memset(GPS_buffer,'\0',GPS_BUF_NUM);
   \   0000008C   6420               MOV         R0,#+100
   \   0000008E   0021               MOV         R1,#+0
   \   00000090   ....               LDR         R2,??Subroutine10_0+0x18  ;; GPS_buffer
   \                     ??Debug_irq_handler_9:
   \   00000092   001F               SUB         R0,R0,#+4
   \   00000094   1150               STR         R1,[R2, R0]
   \   00000096   FCD1               BNE         ??Debug_irq_handler_9
    333                                  }
    334                              
    335                          }   
    336          
    337                          if(strncmp(GPS_buffer,"$GPVTG",6) == 0)//$GPVTG
   \                     ??Debug_irq_handler_8:
   \   00000098   0622               MOV         R2,#+6
   \   0000009A   311C               MOV         R1,R6
   \   0000009C   0831               ADD         R1,#+8
   \   0000009E   281C               MOV         R0,R5
   \   000000A0   ........           _BLF        strncmp,??strncmp??rT
   \   000000A4   0028               CMP         R0,#+0
   \   000000A6   17D1               BNE         ??Debug_irq_handler_10
    338                          {
    339                               if((CharCounter(GPS_buffer,',') == 9) && (vtg_update_flag == false) )
   \   000000A8   2C21               MOV         R1,#+44
   \   000000AA   281C               MOV         R0,R5
   \   000000AC   ........           _BLF        ??CharCounter,??CharCounter??rT
   \   000000B0   0928               CMP         R0,#+9
   \   000000B2   11D1               BNE         ??Debug_irq_handler_10
   \   000000B4   A078               LDRB        R0,[R4, #+2]
   \   000000B6   0028               CMP         R0,#+0
   \   000000B8   0ED1               BNE         ??Debug_irq_handler_10
    340                                 {
    341          			 strncpy(vtg_save_line,GPS_buffer,gps_index+1);
   \   000000BA   E278               LDRB        R2,[R4, #+3]
   \   000000BC   521C               ADD         R2,R2,#+1
   \   000000BE   291C               MOV         R1,R5
   \   000000C0   201C               MOV         R0,R4
   \   000000C2   D030               ADD         R0,#+208
   \   000000C4   ........           _BLF        strncpy,??strncpy??rT
    342          		  	 memset(GPS_buffer,'\0',GPS_BUF_NUM);
   \   000000C8   6420               MOV         R0,#+100
   \   000000CA   0021               MOV         R1,#+0
   \   000000CC   ....               LDR         R2,??Subroutine10_0+0x1C  ;; GPS_buffer
   \                     ??Debug_irq_handler_11:
   \   000000CE   001F               SUB         R0,R0,#+4
   \   000000D0   1150               STR         R1,[R2, R0]
   \   000000D2   FCD1               BNE         ??Debug_irq_handler_11
    343          			 vtg_update_flag = true;
   \   000000D4   0120               MOV         R0,#+1
   \   000000D6   A070               STRB        R0,[R4, #+2]
    344                                 }
    345                          }
    346          		if(strncmp(GPS_buffer,"$HMC",4) == 0)//$GPVTG
   \                     ??Debug_irq_handler_10:
   \   000000D8   0422               MOV         R2,#+4
   \   000000DA   311C               MOV         R1,R6
   \   000000DC   281C               MOV         R0,R5
   \   000000DE   ........           _BLF        strncmp,??strncmp??rT
   \   000000E2   0028               CMP         R0,#+0
   \   000000E4   17D1               BNE         ??Debug_irq_handler_12
    347                          {
    348                               if((CharCounter(GPS_buffer,',') == 3) && (hmc_update_flag == false) )
   \   000000E6   2C21               MOV         R1,#+44
   \   000000E8   281C               MOV         R0,R5
   \   000000EA   ........           _BLF        ??CharCounter,??CharCounter??rT
   \   000000EE   0328               CMP         R0,#+3
   \   000000F0   11D1               BNE         ??Debug_irq_handler_12
   \   000000F2   2078               LDRB        R0,[R4, #+0]
   \   000000F4   0028               CMP         R0,#+0
   \   000000F6   0ED1               BNE         ??Debug_irq_handler_12
    349                                 {
    350          			 strncpy(hmc_save_line,GPS_buffer,gps_index+1);
   \   000000F8   E278               LDRB        R2,[R4, #+3]
   \   000000FA   521C               ADD         R2,R2,#+1
   \   000000FC   291C               MOV         R1,R5
   \   000000FE   201C               MOV         R0,R4
   \   00000100   0830               ADD         R0,#+8
   \   00000102   ........           _BLF        strncpy,??strncpy??rT
    351          		  	 memset(GPS_buffer,'\0',GPS_BUF_NUM);
   \   00000106   6420               MOV         R0,#+100
   \   00000108   0021               MOV         R1,#+0
   \   0000010A   ....               LDR         R2,??Subroutine10_0+0x20  ;; GPS_buffer
   \                     ??Debug_irq_handler_13:
   \   0000010C   001F               SUB         R0,R0,#+4
   \   0000010E   1150               STR         R1,[R2, R0]
   \   00000110   FCD1               BNE         ??Debug_irq_handler_13
    352          			 hmc_update_flag = true;
   \   00000112   0120               MOV         R0,#+1
   \   00000114   2070               STRB        R0,[R4, #+0]
    353                                 }
    354                          }
    355                          gps_index = 0;
   \                     ??Debug_irq_handler_12:
   \   00000116   0020               MOV         R0,#+0
   \   00000118   E070               STRB        R0,[R4, #+3]
   \   0000011A   01E0               B           ??Debug_irq_handler_6
    356                           AT91C_BASE_DBGU->DBGU_CR = AT91C_US_RSTSTA;
    357                          return;
    358                  }
    359          	gps_index++ ;     //Õý³£¶ÁÍê
   \                     ??Debug_irq_handler_7:
   \   0000011C   491C               ADD         R1,R1,#+1
   \   0000011E   E170               STRB        R1,[R4, #+3]
    360          		 
    361              }	
    362             
    363          	 AT91C_BASE_DBGU->DBGU_CR = AT91C_US_RSTSTA;
   \                     ??Debug_irq_handler_6:
   \   00000120   ....               LDR         R0,??DataTable25   ;; 0xfffff200
   \   00000122   8021               MOV         R1,#+128
   \   00000124   4900               LSL         R1,R1,#+1          ;; #+256
   \   00000126   0160               STR         R1,[R0, #+0]
    364          } 
   \   00000128                      REQUIRE ?Subroutine10
   \   00000128                      ;; // Fall through to label ?Subroutine10

   \                                 In segment DATA_I, align 4, align-sorted
   \                     hmc_update_flag:
   \   00000000                      DS8 1
   \   00000001                      REQUIRE `?<Initializer for hmc_update_flag>`
   \                     gga_update_flag:
   \   00000001                      DS8 1
   \   00000002                      REQUIRE `?<Initializer for gga_update_flag>`
   \                     vtg_update_flag:
   \   00000002                      DS8 1
   \   00000003                      REQUIRE `?<Initializer for vtg_update_flag>`
   \   00000003                      DS8 1
   \   00000004                      REQUIRE `?<Initializer for gps_index>`
   \   00000004                      DS8 1
   \   00000005                      REQUIRE `?<Initializer for new_char>`
   \   00000005                      DS8 3
   \                     hmc_save_line:
   \   00000008                      DS8 100
   \   0000006C                      REQUIRE `?<Initializer for hmc_save_line>`
   \                     gga_save_line:
   \   0000006C                      DS8 100
   \   000000D0                      REQUIRE `?<Initializer for gga_save_line>`
   \                     vtg_save_line:
   \   000000D0                      DS8 100
   \   00000134                      REQUIRE `?<Initializer for vtg_save_line>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     put2ground:
   \   00000000                      DS8 400
   \   00000190                      REQUIRE `?<Initializer for put2ground>`
    365          
    366          
    367          //*---------------------------------------------------------------------------
    368          

   \                                 In segment CODE, align 4, keep-with-next
    369          void AT91F_DBGU_Init(void)
    370          {
   \                     ??AT91F_DBGU_Init:
   \   00000000   30B5               PUSH        {R4,R5,LR}
    371            AT91F_DBGU_CfgPIO();
   \   00000002   C020               MOV         R0,#+192
   \   00000004   C000               LSL         R0,R0,#+3          ;; #+1536
   \   00000006   ....               LDR         R1,??DataTable21   ;; 0xfffff470
   \   00000008   0860               STR         R0,[R1, #+0]
   \   0000000A   ....               LDR         R1,??DataTable22   ;; 0xfffff474
   \   0000000C   0022               MOV         R2,#+0
   \   0000000E   0A60               STR         R2,[R1, #+0]
   \   00000010   ....               LDR         R1,??DataTable23   ;; 0xfffff404
   \   00000012   0860               STR         R0,[R1, #+0]
    372            AT91F_DBGU_CfgPMC();
   \   00000014   0224               MOV         R4,#+2
   \   00000016   ....               LDR         R0,??DataTable24   ;; 0xfffffc10
   \   00000018   0460               STR         R4,[R0, #+0]
    373            AT91F_US_Configure ((AT91PS_USART)AT91C_BASE_DBGU, AT91B_MCK,
    374                                    AT91C_US_ASYNC_MODE,19200, 0); //bysyc 10.29 °Ñ²¨ÌØÂÊ´Ó38400¸ÄÎª19200
   \   0000001A   ....               LDR         R5,??DataTable25   ;; 0xfffff200
   \   0000001C   0020               MOV         R0,#+0
   \   0000001E   01B4               PUSH        {R0}
   \   00000020   9623               MOV         R3,#+150
   \   00000022   DB01               LSL         R3,R3,#+7          ;; #+19200
   \   00000024   8C22               MOV         R2,#+140
   \   00000026   1201               LSL         R2,R2,#+4          ;; #+2240
   \   00000028   ....               LDR         R1,??DataTable26   ;; 0x3921000
   \   0000002A   281C               MOV         R0,R5
   \   0000002C   ........           _BLF        ??AT91F_US_Configure,??AT91F_US_Configure??rT
    375            AT91C_BASE_DBGU->DBGU_CR = AT91C_US_RXEN | AT91C_US_TXEN;
   \   00000030   5020               MOV         R0,#+80
   \   00000032   2860               STR         R0,[R5, #+0]
    376          
    377            AT91F_AIC_ConfigureIt (AT91C_BASE_AIC, AT91C_ID_SYS, DBGU_USART_INTERRUPT_LEVEL,
    378                                                   AT91C_AIC_SRCTYPE_INT_HIGH_LEVEL, Debug_irq_handler);
   \   00000034   0648               LDR         R0,??AT91F_DBGU_Init_1  ;; ??Debug_irq_handler
   \   00000036   01B4               PUSH        {R0}
   \   00000038   0023               MOV         R3,#+0
   \   0000003A   0322               MOV         R2,#+3
   \   0000003C   0121               MOV         R1,#+1
   \   0000003E   ....               LDR         R0,??DataTable27   ;; 0xfffff000
   \   00000040   ........           _BLF        ??AT91F_AIC_ConfigureIt,??AT91F_AIC_ConfigureIt??rT
    379            AT91F_AIC_EnableIt (AT91C_BASE_AIC, AT91C_ID_SYS);
   \   00000044   ....               LDR         R0,??DataTable28   ;; 0xfffff120
   \   00000046   0460               STR         R4,[R0, #+0]
    380            
    381            //AT91F_PDC_Open (AT91C_BASE_PDC_DBGU);// 11 01
    382            //AT91C_BASE_DBGU->DBGU_RPR = (unsigned int) buff_rx1;
    383            //AT91C_BASE_DBGU->DBGU_RCR = 8;
    384            AT91F_DBGU_InterruptEnable(AT91C_BASE_DBGU,AT91C_US_RXRDY );
   \   00000048   0248               LDR         R0,??AT91F_DBGU_Init_1+0x4  ;; 0xfffff208
   \   0000004A   0121               MOV         R1,#+1
   \   0000004C   0160               STR         R1,[R0, #+0]
    385            //AT91F_DBGU_InterruptEnable(AT91C_BASE_DBGU,AT91C_US_TXBUFE );
    386          }
   \   0000004E   ....               B           ??Subroutine11_0
   \                     ??AT91F_DBGU_Init_1:
   \   00000050   ........           DC32        ??Debug_irq_handler
   \   00000054   08F2FFFF           DC32        0xfffff208
    387          
    388          

   \                                 In segment CODE, align 4, keep-with-next
    389          void output2ground(void)
    390          {
   \                     ??output2ground:
   \   00000000   F1B5               PUSH        {R0,R4-R7,LR}
   \   00000002   F248               LDR         R0,??output2ground_1  ;; groundtoarm_flag + 1
   \   00000004   0078               LDRB        R0,[R0, #+0]
   \   00000006   0028               CMP         R0,#+0
   \   00000008   ....               BNE         .+5
   \   0000000A   17E2               B           ??output2ground_2
    391            int len=0;
    392            if(to_ground_transmit_flag==true)
    393            {
    394          //-------------------roll pitch degree-------------------  
    395                len += sprintf(put2ground+len,"%.2f",ahrs_theta[0]);      //1
   \   0000000C   F04C               LDR         R4,??output2ground_1+0x4  ;; put2ground
   \   0000000E   F14E               LDR         R6,??output2ground_1+0x8  ;; ahrs_theta
   \   00000010   0CCE               LDMIA       R6!,{R2,R3}
   \   00000012   F149               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   00000014   201C               MOV         R0,R4
   \   00000016   ........           _BLF        sprintf,??sprintf??rT
   \   0000001A   2C21               MOV         R1,#+44
   \   0000001C   2154               STRB        R1,[R4, R0]
   \   0000001E   401C               ADD         R0,R0,#+1
   \   00000020   051C               MOV         R5,R0
    396                put2ground[len++]=',';
    397                len += sprintf(put2ground+len,"%.2f",ahrs_theta[1]);      //2
   \   00000022   0CCE               LDMIA       R6!,{R2,R3}
   \   00000024   EC49               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   00000026   2018               ADD         R0,R4,R0
   \   00000028   ........           _BLF        sprintf,??sprintf??rT
   \   0000002C   2D18               ADD         R5,R5,R0
    398          //------------------roll pitch degree command------------------
    399                put2ground[len++]=',';
   \   0000002E   2C20               MOV         R0,#+44
   \   00000030   6055               STRB        R0,[R4, R5]
   \   00000032   6D1C               ADD         R5,R5,#+1
    400                len += sprintf(put2ground+len,"%.2f",roll_commend[0]);    //3
   \   00000034   E948               LDR         R0,??output2ground_1+0x10  ;; roll_commend
   \   00000036   0CC8               LDMIA       R0!,{R2,R3}
   \   00000038   E749               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   0000003A   6019               ADD         R0,R4,R5
   \   0000003C   ........           _BLF        sprintf,??sprintf??rT
   \   00000040   2D18               ADD         R5,R5,R0
    401                put2ground[len++]=',';
   \   00000042   2C20               MOV         R0,#+44
   \   00000044   6055               STRB        R0,[R4, R5]
   \   00000046   6D1C               ADD         R5,R5,#+1
    402                len += sprintf(put2ground+len,"%.2f",pitch_commend[0]);   //4 
   \   00000048   E548               LDR         R0,??output2ground_1+0x14  ;; pitch_commend
   \   0000004A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000004C   E249               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   0000004E   6019               ADD         R0,R4,R5
   \   00000050   ........           _BLF        sprintf,??sprintf??rT
   \   00000054   2D18               ADD         R5,R5,R0
    403                
    404          //--------------------manual roll pwm------------------------  
    405              put2ground[len++]=',';
   \   00000056   2C20               MOV         R0,#+44
   \   00000058   6055               STRB        R0,[R4, R5]
   \   0000005A   6D1C               ADD         R5,R5,#+1
   \   0000005C   E14F               LDR         R7,??output2ground_1+0x18  ;; servo_widths_temp
   \   0000005E   7A68               LDR         R2,[R7, #+4]
   \   00000060   E1A1               ADR         R1,??output2ground_1+0x1C  ;; "%d"
   \   00000062   6019               ADD         R0,R4,R5
    406              len += sprintf(put2ground+len,"%d",servo_widths_temp[1]); //5
   \   00000064   ........           _BLF        sprintf,??sprintf??rT
   \   00000068   2D18               ADD         R5,R5,R0
    407          //--------------------manual pitch pwm----------------------      
    408              put2ground[len++]=',';
   \   0000006A   2C20               MOV         R0,#+44
   \   0000006C   6055               STRB        R0,[R4, R5]
   \   0000006E   6D1C               ADD         R5,R5,#+1
    409              len += sprintf(put2ground+len,"%d",servo_widths_temp[2]); //6
   \   00000070   BA68               LDR         R2,[R7, #+8]
   \   00000072   DDA1               ADR         R1,??output2ground_1+0x1C  ;; "%d"
   \   00000074   6019               ADD         R0,R4,R5
   \   00000076   ........           _BLF        sprintf,??sprintf??rT
   \   0000007A   2D18               ADD         R5,R5,R0
    410                
    411                
    412          ////-------------------remote aux1 pwm------------------------      
    413          //      put2ground[len++]=',';
    414          //      len += sprintf(put2ground+len,"%d",servo_widths[7]);        
    415          ////-------------------remote aux2 pwm------------------------      
    416          //      put2ground[len++]=',';
    417          //      len += sprintf(put2ground+len,"%d",servo_widths[8]);        
    418              
    419          //-------------------roll PD para------------------------  
    420              put2ground[len++]=',';
   \   0000007C   2C20               MOV         R0,#+44
   \   0000007E   6055               STRB        R0,[R4, R5]
   \   00000080   6D1C               ADD         R5,R5,#+1
    421              len += sprintf(put2ground+len,"%.0f",in_loop_roll_PID[0]);//7
   \   00000082   F04E               LDR         R6,??output2ground_3  ;; in_loop_roll_PID
   \   00000084   0CCE               LDMIA       R6!,{R2,R3}
   \   00000086   083E               SUB         R6,#+8
   \   00000088   EF49               LDR         R1,??output2ground_3+0x4  ;; `?<Constant "%.3f">` + 8
   \   0000008A   6019               ADD         R0,R4,R5
   \   0000008C   ........           _BLF        sprintf,??sprintf??rT
   \   00000090   2D18               ADD         R5,R5,R0
    422              put2ground[len++]=',';
   \   00000092   2C20               MOV         R0,#+44
   \   00000094   6055               STRB        R0,[R4, R5]
   \   00000096   6D1C               ADD         R5,R5,#+1
    423              len += sprintf(put2ground+len,"%.0f",in_loop_roll_PID[2]);//8
   \   00000098   1036               ADD         R6,#+16
   \   0000009A   0CCE               LDMIA       R6!,{R2,R3}
   \   0000009C   EA49               LDR         R1,??output2ground_3+0x4  ;; `?<Constant "%.3f">` + 8
   \   0000009E   6019               ADD         R0,R4,R5
   \   000000A0   ........           _BLF        sprintf,??sprintf??rT
   \   000000A4   2D18               ADD         R5,R5,R0
    424          //-------------------pitch PD para----------------------      
    425              put2ground[len++]=',';
   \   000000A6   2C20               MOV         R0,#+44
   \   000000A8   6055               STRB        R0,[R4, R5]
   \   000000AA   6D1C               ADD         R5,R5,#+1
    426              len += sprintf(put2ground+len,"%.0f",in_loop_pitch_PID[0]);//9 
   \   000000AC   E74E               LDR         R6,??output2ground_3+0x8  ;; in_loop_pitch_PID
   \   000000AE   0CCE               LDMIA       R6!,{R2,R3}
   \   000000B0   083E               SUB         R6,#+8
   \   000000B2   E549               LDR         R1,??output2ground_3+0x4  ;; `?<Constant "%.3f">` + 8
   \   000000B4   6019               ADD         R0,R4,R5
   \   000000B6   ........           _BLF        sprintf,??sprintf??rT
   \   000000BA   2D18               ADD         R5,R5,R0
    427              put2ground[len++]=',';
   \   000000BC   2C20               MOV         R0,#+44
   \   000000BE   6055               STRB        R0,[R4, R5]
   \   000000C0   6D1C               ADD         R5,R5,#+1
    428              len += sprintf(put2ground+len,"%.0f",in_loop_pitch_PID[2]); //10
   \   000000C2   1036               ADD         R6,#+16
   \   000000C4   0CCE               LDMIA       R6!,{R2,R3}
   \   000000C6   E049               LDR         R1,??output2ground_3+0x4  ;; `?<Constant "%.3f">` + 8
   \   000000C8   6019               ADD         R0,R4,R5
   \   000000CA   ........           _BLF        sprintf,??sprintf??rT
   \   000000CE   2D18               ADD         R5,R5,R0
    429              
    430          //-------------------yaw rate------------------
    431                  put2ground[len++]=',';
   \   000000D0   2C20               MOV         R0,#+44
   \   000000D2   6055               STRB        R0,[R4, R5]
   \   000000D4   6D1C               ADD         R5,R5,#+1
    432                  len += sprintf(put2ground+len,"%.3f",raw_ahrs_pqr[2]);      //11
   \   000000D6   DE48               LDR         R0,??output2ground_3+0xC  ;; raw_ahrs_pqr + 16
   \   000000D8   0CC8               LDMIA       R0!,{R2,R3}
   \   000000DA   DE49               LDR         R1,??output2ground_3+0x10  ;; `?<Constant "%.3f">`
   \   000000DC   6019               ADD         R0,R4,R5
   \   000000DE   ........           _BLF        sprintf,??sprintf??rT
   \   000000E2   2D18               ADD         R5,R5,R0
    433          //-------------------yaw rate command-------------------------    
    434                put2ground[len++]=',';
   \   000000E4   2C20               MOV         R0,#+44
   \   000000E6   6055               STRB        R0,[R4, R5]
   \   000000E8   6D1C               ADD         R5,R5,#+1
    435                len += sprintf(put2ground+len,"%.2f",yaw_commend[1]); //12      
   \   000000EA   DB48               LDR         R0,??output2ground_3+0x14  ;; yaw_commend + 8
   \   000000EC   0CC8               LDMIA       R0!,{R2,R3}
   \   000000EE   BA49               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   000000F0   6019               ADD         R0,R4,R5
   \   000000F2   ........           _BLF        sprintf,??sprintf??rT
   \   000000F6   2D18               ADD         R5,R5,R0
    436          //-------------------yaw pwm-------------------------    
    437                put2ground[len++]=',';
   \   000000F8   2C20               MOV         R0,#+44
   \   000000FA   6055               STRB        R0,[R4, R5]
   \   000000FC   6D1C               ADD         R5,R5,#+1
    438                len += sprintf(put2ground+len,"%d",servo_widths[4]);      //13
   \   000000FE   D748               LDR         R0,??output2ground_3+0x18  ;; servo_widths + 16
   \   00000100   0268               LDR         R2,[R0, #+0]
   \   00000102   B9A1               ADR         R1,??output2ground_1+0x1C  ;; "%d"
   \   00000104   6019               ADD         R0,R4,R5
   \   00000106   ........           _BLF        sprintf,??sprintf??rT
   \   0000010A   2D18               ADD         R5,R5,R0
    439          //-------------------remote gain pwm-------------------------    
    440                put2ground[len++]=',';
   \   0000010C   2C20               MOV         R0,#+44
   \   0000010E   6055               STRB        R0,[R4, R5]
   \   00000110   6D1C               ADD         R5,R5,#+1
    441                len += sprintf(put2ground+len,"%d",servo_widths_temp[5]); //14
   \   00000112   7A69               LDR         R2,[R7, #+20]
   \   00000114   B4A1               ADR         R1,??output2ground_1+0x1C  ;; "%d"
   \   00000116   6019               ADD         R0,R4,R5
   \   00000118   ........           _BLF        sprintf,??sprintf??rT
   \   0000011C   2D18               ADD         R5,R5,R0
    442          //-------------------yaw PI & compensaton para----------------------      
    443                  put2ground[len++]=',';
   \   0000011E   2C20               MOV         R0,#+44
   \   00000120   6055               STRB        R0,[R4, R5]
   \   00000122   6D1C               ADD         R5,R5,#+1
    444                  len += sprintf(put2ground+len,"%.0f",in_loop_yaw_PID[0]);//15
   \   00000124   CE4E               LDR         R6,??output2ground_3+0x1C  ;; in_loop_yaw_PID
   \   00000126   0CCE               LDMIA       R6!,{R2,R3}
   \   00000128   083E               SUB         R6,#+8
   \   0000012A   C749               LDR         R1,??output2ground_3+0x4  ;; `?<Constant "%.3f">` + 8
   \   0000012C   6019               ADD         R0,R4,R5
   \   0000012E   ........           _BLF        sprintf,??sprintf??rT
   \   00000132   2D18               ADD         R5,R5,R0
    445                  put2ground[len++]=',';
   \   00000134   2C20               MOV         R0,#+44
   \   00000136   6055               STRB        R0,[R4, R5]
   \   00000138   6D1C               ADD         R5,R5,#+1
    446                  len += sprintf(put2ground+len,"%.1f",in_loop_yaw_PID[1]); //16
   \   0000013A   301C               MOV         R0,R6
   \   0000013C   0830               ADD         R0,#+8
   \   0000013E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000140   C849               LDR         R1,??output2ground_3+0x20  ;; `?<Constant "%.3f">` + 24
   \   00000142   6019               ADD         R0,R4,R5
   \   00000144   ........           _BLF        sprintf,??sprintf??rT
   \   00000148   2D18               ADD         R5,R5,R0
    447                  put2ground[len++]=',';
   \   0000014A   2C20               MOV         R0,#+44
   \   0000014C   6055               STRB        R0,[R4, R5]
   \   0000014E   6D1C               ADD         R5,R5,#+1
    448                  len += sprintf(put2ground+len,"%.2f",in_loop_yaw_PID[2]); //17 
   \   00000150   1036               ADD         R6,#+16
   \   00000152   0CCE               LDMIA       R6!,{R2,R3}
   \   00000154   A049               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   00000156   6019               ADD         R0,R4,R5
   \   00000158   ........           _BLF        sprintf,??sprintf??rT
   \   0000015C   2D18               ADD         R5,R5,R0
    449                
    450          //------------------------altitude---------------------------      
    451                put2ground[len++]=',';
   \   0000015E   2C20               MOV         R0,#+44
   \   00000160   6055               STRB        R0,[R4, R5]
   \   00000162   6D1C               ADD         R5,R5,#+1
    452                len += sprintf(put2ground+len,"%.2f",bmp_height);      //18     
   \   00000164   C048               LDR         R0,??output2ground_3+0x24  ;; bmp_height
   \   00000166   0CC8               LDMIA       R0!,{R2,R3}
   \   00000168   9B49               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   0000016A   6019               ADD         R0,R4,R5
   \   0000016C   ........           _BLF        sprintf,??sprintf??rT
   \   00000170   2D18               ADD         R5,R5,R0
    453          //-------------------remote throttle pwm--------------------   
    454                  put2ground[len++]=',';
   \   00000172   2C20               MOV         R0,#+44
   \   00000174   6055               STRB        R0,[R4, R5]
   \   00000176   6D1C               ADD         R5,R5,#+1
    455                  len += sprintf(put2ground+len,"%d",servo_widths_temp[3]);//19
   \   00000178   FA68               LDR         R2,[R7, #+12]
   \   0000017A   9BA1               ADR         R1,??output2ground_1+0x1C  ;; "%d"
   \   0000017C   6019               ADD         R0,R4,R5
   \   0000017E   ........           _BLF        sprintf,??sprintf??rT
   \   00000182   2D18               ADD         R5,R5,R0
    456          //-------------------remote coll pwm------------------------      
    457                put2ground[len++]=',';
   \   00000184   2C20               MOV         R0,#+44
   \   00000186   6055               STRB        R0,[R4, R5]
   \   00000188   6D1C               ADD         R5,R5,#+1
    458                len += sprintf(put2ground+len,"%d",servo_widths_temp[6]);//20     
   \   0000018A   BA69               LDR         R2,[R7, #+24]
   \   0000018C   96A1               ADR         R1,??output2ground_1+0x1C  ;; "%d"
   \   0000018E   6019               ADD         R0,R4,R5
   \   00000190   ........           _BLF        sprintf,??sprintf??rT
   \   00000194   2D18               ADD         R5,R5,R0
    459          //-------------------remote heading pwm------------------------      
    460                  put2ground[len++]=',';
   \   00000196   2C20               MOV         R0,#+44
   \   00000198   6055               STRB        R0,[R4, R5]
   \   0000019A   6D1C               ADD         R5,R5,#+1
    461                  len += sprintf(put2ground+len,"%.2f",input_yaw);//21
   \   0000019C   B348               LDR         R0,??output2ground_3+0x28  ;; input_yaw
   \   0000019E   0CC8               LDMIA       R0!,{R2,R3}
   \   000001A0   8D49               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   000001A2   6019               ADD         R0,R4,R5
   \   000001A4   ........           _BLF        sprintf,??sprintf??rT
   \   000001A8   2D18               ADD         R5,R5,R0
    462          //-------------------quality---------------------------------    
    463                put2ground[len++]=',';
   \   000001AA   2C20               MOV         R0,#+44
   \   000001AC   6055               STRB        R0,[R4, R5]
   \   000001AE   6D1C               ADD         R5,R5,#+1
    464                put2ground[len++]= gps_gga_quality+48; //22    
   \   000001B0   AF48               LDR         R0,??output2ground_3+0x2C  ;; gps_gga_quality
   \   000001B2   0068               LDR         R0,[R0, #+0]
   \   000001B4   3030               ADD         R0,#+48
   \   000001B6   6055               STRB        R0,[R4, R5]
   \   000001B8   6D1C               ADD         R5,R5,#+1
    465          //-------------------num_sats--------------------------------     
    466                  put2ground[len++]=',';
   \   000001BA   2C20               MOV         R0,#+44
   \   000001BC   6055               STRB        R0,[R4, R5]
   \   000001BE   6D1C               ADD         R5,R5,#+1
    467                  len += sprintf(put2ground+len,"%d",gps_gga_num_sats);//23
   \   000001C0   AC48               LDR         R0,??output2ground_3+0x30  ;; gps_gga_num_sats
   \   000001C2   0268               LDR         R2,[R0, #+0]
   \   000001C4   88A1               ADR         R1,??output2ground_1+0x1C  ;; "%d"
   \   000001C6   6019               ADD         R0,R4,R5
   \   000001C8   ........           _BLF        sprintf,??sprintf??rT
   \   000001CC   2D18               ADD         R5,R5,R0
    468          //------------------------current_xyz----------------------  
    469                put2ground[len++]=',';
   \   000001CE   2C20               MOV         R0,#+44
   \   000001D0   6055               STRB        R0,[R4, R5]
   \   000001D2   6D1C               ADD         R5,R5,#+1
    470                len += sprintf(put2ground+len,"%.2f",input_xyz[0]);//24
   \   000001D4   A84E               LDR         R6,??output2ground_3+0x34  ;; input_xyz
   \   000001D6   0CCE               LDMIA       R6!,{R2,R3}
   \   000001D8   083E               SUB         R6,#+8
   \   000001DA   7F49               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   000001DC   6019               ADD         R0,R4,R5
   \   000001DE   ........           _BLF        sprintf,??sprintf??rT
   \   000001E2   2D18               ADD         R5,R5,R0
    471                put2ground[len++]=',';
   \   000001E4   2C20               MOV         R0,#+44
   \   000001E6   6055               STRB        R0,[R4, R5]
   \   000001E8   6D1C               ADD         R5,R5,#+1
    472                len += sprintf(put2ground+len,"%.2f",input_xyz[1]);//25
   \   000001EA   301C               MOV         R0,R6
   \   000001EC   0830               ADD         R0,#+8
   \   000001EE   0CC8               LDMIA       R0!,{R2,R3}
   \   000001F0   7949               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   000001F2   6019               ADD         R0,R4,R5
   \   000001F4   ........           _BLF        sprintf,??sprintf??rT
   \   000001F8   2D18               ADD         R5,R5,R0
    473                put2ground[len++]=',';
   \   000001FA   2C20               MOV         R0,#+44
   \   000001FC   6055               STRB        R0,[R4, R5]
   \   000001FE   6D1C               ADD         R5,R5,#+1
    474                len += sprintf(put2ground+len,"%.2f",input_xyz[2]);//26
   \   00000200   1036               ADD         R6,#+16
   \   00000202   0CCE               LDMIA       R6!,{R2,R3}
   \   00000204   7449               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   00000206   6019               ADD         R0,R4,R5
   \   00000208   ........           _BLF        sprintf,??sprintf??rT
   \   0000020C   2D18               ADD         R5,R5,R0
    475                  put2ground[len++]=',';
   \   0000020E   2C20               MOV         R0,#+44
   \   00000210   6055               STRB        R0,[R4, R5]
   \   00000212   6D1C               ADD         R5,R5,#+1
    476                  len += sprintf(put2ground+len,"%.1f",position.current_target[0]);//27
   \   00000214   9948               LDR         R0,??output2ground_3+0x38  ;; position + 72
   \   00000216   0090               STR         R0,[SP, #+0]
   \   00000218   6030               ADD         R0,#+96
   \   0000021A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000021C   9149               LDR         R1,??output2ground_3+0x20  ;; `?<Constant "%.3f">` + 24
   \   0000021E   6019               ADD         R0,R4,R5
   \   00000220   ........           _BLF        sprintf,??sprintf??rT
   \   00000224   2D18               ADD         R5,R5,R0
    477                  put2ground[len++]=',';
   \   00000226   2C20               MOV         R0,#+44
   \   00000228   6055               STRB        R0,[R4, R5]
   \   0000022A   6D1C               ADD         R5,R5,#+1
    478                  len += sprintf(put2ground+len,"%.1f",position.current_target[1]);//28
   \   0000022C   0098               LDR         R0,[SP, #+0]
   \   0000022E   6830               ADD         R0,#+104
   \   00000230   0CC8               LDMIA       R0!,{R2,R3}
   \   00000232   8C49               LDR         R1,??output2ground_3+0x20  ;; `?<Constant "%.3f">` + 24
   \   00000234   6019               ADD         R0,R4,R5
   \   00000236   ........           _BLF        sprintf,??sprintf??rT
   \   0000023A   2D18               ADD         R5,R5,R0
    479                  put2ground[len++]=',';
   \   0000023C   2C20               MOV         R0,#+44
   \   0000023E   6055               STRB        R0,[R4, R5]
   \   00000240   6D1C               ADD         R5,R5,#+1
    480                  len += sprintf(put2ground+len,"%.1f",position.current_target[2]);//29
   \   00000242   0098               LDR         R0,[SP, #+0]
   \   00000244   7030               ADD         R0,#+112
   \   00000246   0CC8               LDMIA       R0!,{R2,R3}
   \   00000248   8649               LDR         R1,??output2ground_3+0x20  ;; `?<Constant "%.3f">` + 24
   \   0000024A   6019               ADD         R0,R4,R5
   \   0000024C   ........           _BLF        sprintf,??sprintf??rT
   \   00000250   2D18               ADD         R5,R5,R0
    481                put2ground[len++]=',';
   \   00000252   2C20               MOV         R0,#+44
   \   00000254   6055               STRB        R0,[R4, R5]
   \   00000256   6D1C               ADD         R5,R5,#+1
    482                len += sprintf(put2ground+len,"%.2f",input_uvw[0]);//30
   \   00000258   894E               LDR         R6,??output2ground_3+0x3C  ;; input_uvw
   \   0000025A   0CCE               LDMIA       R6!,{R2,R3}
   \   0000025C   083E               SUB         R6,#+8
   \   0000025E   5E49               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   00000260   6019               ADD         R0,R4,R5
   \   00000262   ........           _BLF        sprintf,??sprintf??rT
   \   00000266   2D18               ADD         R5,R5,R0
    483                put2ground[len++]=',';
   \   00000268   2C20               MOV         R0,#+44
   \   0000026A   6055               STRB        R0,[R4, R5]
   \   0000026C   6D1C               ADD         R5,R5,#+1
    484                len += sprintf(put2ground+len,"%.2f",input_uvw[1]);//31
   \   0000026E   301C               MOV         R0,R6
   \   00000270   0830               ADD         R0,#+8
   \   00000272   0CC8               LDMIA       R0!,{R2,R3}
   \   00000274   5849               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   00000276   6019               ADD         R0,R4,R5
   \   00000278   ........           _BLF        sprintf,??sprintf??rT
   \   0000027C   2D18               ADD         R5,R5,R0
    485                put2ground[len++]=',';
   \   0000027E   2C20               MOV         R0,#+44
   \   00000280   6055               STRB        R0,[R4, R5]
   \   00000282   6D1C               ADD         R5,R5,#+1
    486                len += sprintf(put2ground+len,"%.2f",input_uvw[2]);//32
   \   00000284   1036               ADD         R6,#+16
   \   00000286   0CCE               LDMIA       R6!,{R2,R3}
   \   00000288   5349               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   0000028A   6019               ADD         R0,R4,R5
   \   0000028C   ........           _BLF        sprintf,??sprintf??rT
   \   00000290   2D18               ADD         R5,R5,R0
    487                  put2ground[len++]=',';
   \   00000292   2C20               MOV         R0,#+44
   \   00000294   6055               STRB        R0,[R4, R5]
   \   00000296   6D1C               ADD         R5,R5,#+1
    488                  len += sprintf(put2ground+len,"%.1f",desired_x_rate);//33
   \   00000298   7A48               LDR         R0,??output2ground_3+0x40  ;; desired_x_rate
   \   0000029A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000029C   7149               LDR         R1,??output2ground_3+0x20  ;; `?<Constant "%.3f">` + 24
   \   0000029E   6019               ADD         R0,R4,R5
   \   000002A0   ........           _BLF        sprintf,??sprintf??rT
   \   000002A4   2D18               ADD         R5,R5,R0
    489                  put2ground[len++]=',';
   \   000002A6   2C20               MOV         R0,#+44
   \   000002A8   6055               STRB        R0,[R4, R5]
   \   000002AA   6D1C               ADD         R5,R5,#+1
    490                  len += sprintf(put2ground+len,"%.1f",desired_y_rate);//34
   \   000002AC   7648               LDR         R0,??output2ground_3+0x44  ;; desired_y_rate
   \   000002AE   0CC8               LDMIA       R0!,{R2,R3}
   \   000002B0   6C49               LDR         R1,??output2ground_3+0x20  ;; `?<Constant "%.3f">` + 24
   \   000002B2   6019               ADD         R0,R4,R5
   \   000002B4   ........           _BLF        sprintf,??sprintf??rT
   \   000002B8   2D18               ADD         R5,R5,R0
    491                  put2ground[len++]=',';
   \   000002BA   2C20               MOV         R0,#+44
   \   000002BC   6055               STRB        R0,[R4, R5]
   \   000002BE   6D1C               ADD         R5,R5,#+1
    492                  len += sprintf(put2ground+len,"%.1f",desired_d_rate);//35
   \   000002C0   7248               LDR         R0,??output2ground_3+0x48  ;; desired_d_rate
   \   000002C2   0CC8               LDMIA       R0!,{R2,R3}
   \   000002C4   6749               LDR         R1,??output2ground_3+0x20  ;; `?<Constant "%.3f">` + 24
   \   000002C6   6019               ADD         R0,R4,R5
   \   000002C8   ........           _BLF        sprintf,??sprintf??rT
   \   000002CC   2D18               ADD         R5,R5,R0
    493                put2ground[len++]=',';
   \   000002CE   2C20               MOV         R0,#+44
   \   000002D0   6055               STRB        R0,[R4, R5]
   \   000002D2   6D1C               ADD         R5,R5,#+1
    494                len += sprintf(put2ground+len,"%.f",out_loop_X_PID[0]);//36
   \   000002D4   6EA6               ADR         R6,??output2ground_3+0x4C  ;; "%.f"
   \   000002D6   6F4F               LDR         R7,??output2ground_3+0x50  ;; out_loop_X_PID
   \   000002D8   0CCF               LDMIA       R7!,{R2,R3}
   \   000002DA   083F               SUB         R7,#+8
   \   000002DC   311C               MOV         R1,R6
   \   000002DE   6019               ADD         R0,R4,R5
   \   000002E0   ........           _BLF        sprintf,??sprintf??rT
   \   000002E4   2D18               ADD         R5,R5,R0
    495                put2ground[len++]=',';
   \   000002E6   2C20               MOV         R0,#+44
   \   000002E8   6055               STRB        R0,[R4, R5]
   \   000002EA   6D1C               ADD         R5,R5,#+1
    496                len += sprintf(put2ground+len,"%.f",out_loop_X_PID[2]);//37
   \   000002EC   1037               ADD         R7,#+16
   \   000002EE   0CCF               LDMIA       R7!,{R2,R3}
   \   000002F0   311C               MOV         R1,R6
   \   000002F2   6019               ADD         R0,R4,R5
   \   000002F4   ........           _BLF        sprintf,??sprintf??rT
   \   000002F8   2D18               ADD         R5,R5,R0
    497                put2ground[len++]=',';
   \   000002FA   2C20               MOV         R0,#+44
   \   000002FC   6055               STRB        R0,[R4, R5]
   \   000002FE   6D1C               ADD         R5,R5,#+1
    498                len += sprintf(put2ground+len,"%.f",out_loop_Y_PID[0]);//38
   \   00000300   654F               LDR         R7,??output2ground_3+0x54  ;; out_loop_Y_PID
   \   00000302   0CCF               LDMIA       R7!,{R2,R3}
   \   00000304   083F               SUB         R7,#+8
   \   00000306   311C               MOV         R1,R6
   \   00000308   6019               ADD         R0,R4,R5
   \   0000030A   ........           _BLF        sprintf,??sprintf??rT
   \   0000030E   2D18               ADD         R5,R5,R0
    499                put2ground[len++]=',';
   \   00000310   2C20               MOV         R0,#+44
   \   00000312   6055               STRB        R0,[R4, R5]
   \   00000314   6D1C               ADD         R5,R5,#+1
    500                len += sprintf(put2ground+len,"%.f",out_loop_Y_PID[2]);//39
   \   00000316   1037               ADD         R7,#+16
   \   00000318   0CCF               LDMIA       R7!,{R2,R3}
   \   0000031A   311C               MOV         R1,R6
   \   0000031C   6019               ADD         R0,R4,R5
   \   0000031E   ........           _BLF        sprintf,??sprintf??rT
   \   00000322   2D18               ADD         R5,R5,R0
    501                  put2ground[len++]=',';
   \   00000324   2C20               MOV         R0,#+44
   \   00000326   6055               STRB        R0,[R4, R5]
   \   00000328   6D1C               ADD         R5,R5,#+1
    502                  len += sprintf(put2ground+len,"%.f",out_loop_D_PID[0]); //40
   \   0000032A   5C4F               LDR         R7,??output2ground_3+0x58  ;; out_loop_D_PID
   \   0000032C   0CCF               LDMIA       R7!,{R2,R3}
   \   0000032E   083F               SUB         R7,#+8
   \   00000330   311C               MOV         R1,R6
   \   00000332   6019               ADD         R0,R4,R5
   \   00000334   ........           _BLF        sprintf,??sprintf??rT
   \   00000338   2D18               ADD         R5,R5,R0
    503                  put2ground[len++]=',';
   \   0000033A   2C20               MOV         R0,#+44
   \   0000033C   6055               STRB        R0,[R4, R5]
   \   0000033E   6D1C               ADD         R5,R5,#+1
    504                  len += sprintf(put2ground+len,"%.f",out_loop_D_PID[2]); //41
   \   00000340   1037               ADD         R7,#+16
   \   00000342   0CCF               LDMIA       R7!,{R2,R3}
   \   00000344   311C               MOV         R1,R6
   \   00000346   6019               ADD         R0,R4,R5
   \   00000348   ........           _BLF        sprintf,??sprintf??rT
   \   0000034C   2D18               ADD         R5,R5,R0
    505                   put2ground[len++]=',';
   \   0000034E   2C20               MOV         R0,#+44
   \   00000350   6055               STRB        R0,[R4, R5]
   \   00000352   6D1C               ADD         R5,R5,#+1
    506                  len += sprintf(put2ground+len,"%.2f",position.raw_current_xyz[0]);//27
   \   00000354   0098               LDR         R0,[SP, #+0]
   \   00000356   0CC8               LDMIA       R0!,{R2,R3}
   \   00000358   1F49               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   0000035A   6019               ADD         R0,R4,R5
   \   0000035C   ........           _BLF        sprintf,??sprintf??rT
   \   00000360   2D18               ADD         R5,R5,R0
    507                  put2ground[len++]=',';
   \   00000362   2C20               MOV         R0,#+44
   \   00000364   6055               STRB        R0,[R4, R5]
   \   00000366   6D1C               ADD         R5,R5,#+1
    508                  len += sprintf(put2ground+len,"%.2f",position.raw_current_xyz[1]);//28
   \   00000368   0098               LDR         R0,[SP, #+0]
   \   0000036A   0830               ADD         R0,#+8
   \   0000036C   0CC8               LDMIA       R0!,{R2,R3}
   \   0000036E   1A49               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   00000370   6019               ADD         R0,R4,R5
   \   00000372   ........           _BLF        sprintf,??sprintf??rT
   \   00000376   2D18               ADD         R5,R5,R0
    509                  put2ground[len++]=',';
   \   00000378   2C20               MOV         R0,#+44
   \   0000037A   6055               STRB        R0,[R4, R5]
   \   0000037C   6D1C               ADD         R5,R5,#+1
    510                  len += sprintf(put2ground+len,"%.2f",position.raw_current_xyz[2]);//29
   \   0000037E   0098               LDR         R0,[SP, #+0]
   \   00000380   1030               ADD         R0,#+16
   \   00000382   0CC8               LDMIA       R0!,{R2,R3}
   \   00000384   1449               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   00000386   6019               ADD         R0,R4,R5
   \   00000388   ........           _BLF        sprintf,??sprintf??rT
   \   0000038C   2D18               ADD         R5,R5,R0
    511                    put2ground[len++]=',';
   \   0000038E   2C20               MOV         R0,#+44
   \   00000390   6055               STRB        R0,[R4, R5]
   \   00000392   6D1C               ADD         R5,R5,#+1
    512                  len += sprintf(put2ground+len,"%.2f",position.raw_current_uvw[0]);//27
   \   00000394   0098               LDR         R0,[SP, #+0]
   \   00000396   1830               ADD         R0,#+24
   \   00000398   0CC8               LDMIA       R0!,{R2,R3}
   \   0000039A   0F49               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   0000039C   6019               ADD         R0,R4,R5
   \   0000039E   ........           _BLF        sprintf,??sprintf??rT
   \   000003A2   2D18               ADD         R5,R5,R0
    513                  put2ground[len++]=',';
   \   000003A4   2C20               MOV         R0,#+44
   \   000003A6   6055               STRB        R0,[R4, R5]
   \   000003A8   6D1C               ADD         R5,R5,#+1
    514                  len += sprintf(put2ground+len,"%.2f",position.raw_current_uvw[1]);//28
   \   000003AA   0098               LDR         R0,[SP, #+0]
   \   000003AC   2030               ADD         R0,#+32
   \   000003AE   0CC8               LDMIA       R0!,{R2,R3}
   \   000003B0   0949               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   000003B2   6019               ADD         R0,R4,R5
   \   000003B4   ........           _BLF        sprintf,??sprintf??rT
   \   000003B8   2D18               ADD         R5,R5,R0
    515                  put2ground[len++]=',';
   \   000003BA   2C20               MOV         R0,#+44
   \   000003BC   6055               STRB        R0,[R4, R5]
   \   000003BE   6D1C               ADD         R5,R5,#+1
    516                  len += sprintf(put2ground+len,"%.2f",position.raw_current_uvw[2]);//29
   \   000003C0   0098               LDR         R0,[SP, #+0]
   \   000003C2   2830               ADD         R0,#+40
   \   000003C4   0CC8               LDMIA       R0!,{R2,R3}
   \   000003C6   0449               LDR         R1,??output2ground_1+0xC  ;; `?<Constant "%.3f">` + 16
   \   000003C8   6019               ADD         R0,R4,R5
   \   000003CA   0FE0               B           ??output2ground_4
   \                     ??output2ground_1:
   \   000003CC   ........           DC32        groundtoarm_flag + 1
   \   000003D0   ........           DC32        put2ground
   \   000003D4   ........           DC32        ahrs_theta
   \   000003D8   ........           DC32        `?<Constant "%.3f">` + 16
   \   000003DC   ........           DC32        roll_commend
   \   000003E0   ........           DC32        pitch_commend
   \   000003E4   ........           DC32        servo_widths_temp
   \   000003E8   25640000           DC8         "%d",+0
   \                     ??output2ground_4:
   \   000003EC   ........           _BLF        sprintf,??sprintf??rT
   \   000003F0   2D18               ADD         R5,R5,R0
    517                  put2ground[len++]=',';
   \   000003F2   2C20               MOV         R0,#+44
   \   000003F4   6055               STRB        R0,[R4, R5]
   \   000003F6   6D1C               ADD         R5,R5,#+1
    518                  len += sprintf(put2ground+len,"%.3f",lidar_lite_distance);//29
   \   000003F8   2948               LDR         R0,??output2ground_3+0x5C  ;; lidar_lite_distance
   \   000003FA   0CC8               LDMIA       R0!,{R2,R3}
   \   000003FC   1549               LDR         R1,??output2ground_3+0x10  ;; `?<Constant "%.3f">`
   \   000003FE   6019               ADD         R0,R4,R5
   \   00000400   ........           _BLF        sprintf,??sprintf??rT
   \   00000404   2D18               ADD         R5,R5,R0
    519                  
    520          //   put2ground[len++]=',';
    521          //        len += sprintf(put2ground+len,"%.2f",ahrs_compass[0]);//29
    522          //   put2ground[len++]=',';
    523          //        len += sprintf(put2ground+len,"%.2f",ahrs_compass[1]);//29
    524          //   put2ground[len++]=',';
    525          //        len += sprintf(put2ground+len,"%.2f",ahrs_compass[2]);//29
    526          //---------------round_count---------//
    527              put2ground[len++]=',';
   \   00000406   2C20               MOV         R0,#+44
   \   00000408   6055               STRB        R0,[R4, R5]
   \   0000040A   6D1C               ADD         R5,R5,#+1
    528              len += sprintf(put2ground+len,"%d",round_count);
   \   0000040C   2548               LDR         R0,??output2ground_3+0x60  ;; round_count
   \   0000040E   0268               LDR         R2,[R0, #+0]
   \   00000410   25A1               ADR         R1,??output2ground_3+0x64  ;; "%d"
   \   00000412   6019               ADD         R0,R4,R5
   \   00000414   ........           _BLF        sprintf,??sprintf??rT
   \   00000418   2818               ADD         R0,R5,R0
    529          
    530          //ÏÖÔÚlen³¤¶ÈÖÁÉÙÒªÁô30¸öµÄÔ£¶È£¬·ñÔòÊµ¼ÊÊ¹ÓÃ¿ÉÄÜµ¼ÖÂÔ½½ç/////
    531              put2ground[len++]='\r';
   \   0000041A   0D21               MOV         R1,#+13
   \   0000041C   2154               STRB        R1,[R4, R0]
   \   0000041E   401C               ADD         R0,R0,#+1
    532              put2ground[len++]='\n';
   \   00000420   0A21               MOV         R1,#+10
   \   00000422   2154               STRB        R1,[R4, R0]
    533              to_ground_transmit_flag=false; 
   \   00000424   2149               LDR         R1,??output2ground_3+0x68  ;; groundtoarm_flag + 1
   \   00000426   0022               MOV         R2,#+0
   \   00000428   0A70               STRB        R2,[R1, #+0]
    534          
    535              AT91C_BASE_US0->US_TPR = (unsigned int)put2ground;
   \   0000042A   ....               LDR         R1,??DataTable29   ;; 0xfffc0108
   \   0000042C   0C60               STR         R4,[R1, #+0]
    536              AT91C_BASE_US0->US_TCR = len;
   \   0000042E   ....               LDR         R1,??DataTable30   ;; 0xfffc010c
   \   00000430   401C               ADD         R0,R0,#+1
   \   00000432   0860               STR         R0,[R1, #+0]
    537              AT91F_US_EnableIt(AT91C_BASE_US0,AT91C_US_TXBUFE  );
   \   00000434   1E48               LDR         R0,??output2ground_3+0x6C  ;; 0xfffc0008
   \   00000436   8021               MOV         R1,#+128
   \   00000438   0901               LSL         R1,R1,#+4          ;; #+2048
   \   0000043A   0160               STR         R1,[R0, #+0]
    538             
    539          
    540            }
    541          }
   \                     ??output2ground_2:
   \   0000043C   F8BC               POP         {R3-R7}
   \   0000043E   01BC               POP         {R0}
   \   00000440   0047               BX          R0                 ;; return
   \   00000442   C046               NOP         
   \                     ??output2ground_3:
   \   00000444   ........           DC32        in_loop_roll_PID
   \   00000448   ........           DC32        `?<Constant "%.3f">` + 8
   \   0000044C   ........           DC32        in_loop_pitch_PID
   \   00000450   ........           DC32        raw_ahrs_pqr + 16
   \   00000454   ........           DC32        `?<Constant "%.3f">`
   \   00000458   ........           DC32        yaw_commend + 8
   \   0000045C   ........           DC32        servo_widths + 16
   \   00000460   ........           DC32        in_loop_yaw_PID
   \   00000464   ........           DC32        `?<Constant "%.3f">` + 24
   \   00000468   ........           DC32        bmp_height
   \   0000046C   ........           DC32        input_yaw
   \   00000470   ........           DC32        gps_gga_quality
   \   00000474   ........           DC32        gps_gga_num_sats
   \   00000478   ........           DC32        input_xyz
   \   0000047C   ........           DC32        position + 72
   \   00000480   ........           DC32        input_uvw
   \   00000484   ........           DC32        desired_x_rate
   \   00000488   ........           DC32        desired_y_rate
   \   0000048C   ........           DC32        desired_d_rate
   \   00000490   252E6600           DC8         "%.f"
   \   00000494   ........           DC32        out_loop_X_PID
   \   00000498   ........           DC32        out_loop_Y_PID
   \   0000049C   ........           DC32        out_loop_D_PID
   \   000004A0   ........           DC32        lidar_lite_distance
   \   000004A4   ........           DC32        round_count
   \   000004A8   25640000           DC8         "%d",+0
   \   000004AC   ........           DC32        groundtoarm_flag + 1
   \   000004B0   0800FCFF           DC32        0xfffc0008

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   0801FCFF           DC32        0xfffc0108

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   0C01FCFF           DC32        0xfffc010c

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable11:
   \   00000000   ........           DC32        ??newchar

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable19:
   \   00000000   14F2FFFF           DC32        0xfffff214

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable21:
   \   00000000   70F4FFFF           DC32        0xfffff470

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable22:
   \   00000000   74F4FFFF           DC32        0xfffff474

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable23:
   \   00000000   04F4FFFF           DC32        0xfffff404

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable24:
   \   00000000   10FCFFFF           DC32        0xfffffc10

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable25:
   \   00000000   00F2FFFF           DC32        0xfffff200

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable26:
   \   00000000   00109203           DC32        0x3921000

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable27:
   \   00000000   00F0FFFF           DC32        0xfffff000

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable28:
   \   00000000   20F1FFFF           DC32        0xfffff120

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable29:
   \   00000000   0801FCFF           DC32        0xfffc0108

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable30:
   \   00000000   0C01FCFF           DC32        0xfffc010c

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for groundtoarm_flag>`:
   \   00000000   00                 DC8 0
   \                     `?<Initializer for to_ground_transmit_flag>`:
   \   00000001   01                 DC8 1
   \   00000002   0000               DC8 0, 0
   \                     `?<Initializer for groundtoarm>`:
   \   00000004   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000014   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000024   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0
   \              0000        
   \                     `?<Initializer for COM0>`:
   \   0000002C   00000000           DC8 0, 0, 0, 0

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for newchar>`:
   \   00000000   41                 DC8 65
   \   00000001   000000             DC8 0, 0, 0
   \                     `?<Initializer for AVR_PCM>`:
   \   00000004   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000014   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \                     `?<Initializer for COM1>`:
   \   00000020   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for pcm_index>`:
   \   00000024   00000000           DC32 0

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for hmc_update_flag>`:
   \   00000000   00                 DC8 0
   \                     `?<Initializer for gga_update_flag>`:
   \   00000001   00                 DC8 0
   \                     `?<Initializer for vtg_update_flag>`:
   \   00000002   00                 DC8 0
   \                     `?<Initializer for gps_index>`:
   \   00000003   00                 DC8 0
   \                     `?<Initializer for new_char>`:
   \   00000004   41                 DC8 65
   \   00000005   000000             DC8 0, 0, 0
   \                     `?<Initializer for hmc_save_line>`:
   \   00000008   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000018   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000028   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000038   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000048   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000058   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000        
   \                     `?<Initializer for gga_save_line>`:
   \   0000006C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000007C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000008C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000009C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000AC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000BC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000        
   \                     `?<Initializer for vtg_save_line>`:
   \   000000D0   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000E0   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000F0   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000100   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000110   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000120   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000        

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for put2ground>`:
   \   00000000   244441544100       DC8 "$DATA"
   \   00000006   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000016   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000026   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000036   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000046   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000056   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000066   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000076   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000086   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000096   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000A6   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000B6   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000C6   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000D6   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000E6   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000000F6   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000106   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000116   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000126   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000136   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000146   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000156   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000166   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000176   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000186   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              00000000    

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   252E6600           DC8 "%.f"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%.3f">`:
   \   00000000   252E336600         DC8 "%.3f"
   \   00000005   000000             DC8 0, 0, 0
   \   00000008   252E306600         DC8 "%.0f"
   \   0000000D   000000             DC8 0, 0, 0
   \   00000010   252E326600         DC8 "%.2f"
   \   00000015   000000             DC8 0, 0, 0
   \   00000018   252E316600         DC8 "%.1f"
   \   0000001D   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   256400             DC8 "%d"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "$HMC">`:
   \   00000000   24484D4300         DC8 "$HMC"
   \   00000005   000000             DC8 0, 0, 0
   \   00000008   244750565447       DC8 "$GPVTG"
   \              00          
   \   0000000F   00                 DC8 0
   \   00000010   244750474741       DC8 "$GPGGA"
   \              00          
   \   00000017   00                 DC8 0
    542          
    543          
    544          //void output2ground(void)
    545          //{
    546          //  char i;
    547          //  int len=5;
    548          //  int pcm_up_flag;
    549          //  static int err_count=0;
    550          //  if(to_ground_transmit_flag==true)
    551          //  {
    552          // //-------------------degree------------------------------------  
    553          //      put2ground[len++]=',';
    554          //      len += sprintf(put2ground+len,"%.3f",ahrs_theta[0]);
    555          //	  //len += sprintf(put2ground+len,"%.3f",roll_commend[0]);
    556          //      put2ground[len++]=',';
    557          //      len += sprintf(put2ground+len,"%.3f",ahrs_theta[1]);
    558          //	  //len += sprintf(put2ground+len,"%.3f",pitch_commend[0]);
    559          //      put2ground[len++]=',';
    560          //3      len += sprintf(put2ground+len,"%.3f",ahrs_theta[2]);
    561          //  //------------------------roll pitch yaw commend------------
    562          // 
    563          //      put2ground[len++]=',';
    564          //      len += sprintf(put2ground+len,"%.3f",roll_commend[0]);
    565          //
    566          //      put2ground[len++]=',';
    567          //      len += sprintf(put2ground+len,"%.3f",pitch_commend[0]);
    568          //      
    569          //      put2ground[len++]=',';
    570          //6      len += sprintf(put2ground+len,"%.3f",yaw_commend[0]);
    571          //
    572          //
    573          // //-------------------(raw_ahrs_theta)PQR----------------------------------
    574          //      for( i =0 ; i!=3; ++i )
    575          //      {
    576          //        put2ground[len++]=',';
    577          // 9       len += sprintf(put2ground+len,"%.2f",ahrs_pqr[i]);//raw_ahrs_theta[i]
    578          //      }
    579          // //-------------------accel---------------------------------     
    580          //    for( i =0 ; i!=3; ++i )
    581          //   {
    582          //      put2ground[len++]=',';
    583          // 12     len += sprintf(put2ground+len,"%.2f",ahrs_accel[i]);
    584          //   }    
    585          // //-------------------servo_widths  mode--------------------
    586          //   put2ground[len++]=',';
    587          //   put2ground[len++]=control_mode+48;
    588          //       
    589          ////-------------------manual roll pwm------------------------  
    590          //    put2ground[len++]=',';
    591          //    len += sprintf(put2ground+len,"%d",manual_servo_widths[0]);
    592          ////--------------------manual pitch pwm----------------------      
    593          //    put2ground[len++]=',';
    594          //    len += sprintf(put2ground+len,"%d",manual_servo_widths[2]);
    595          ////-------------------manual throttle pwm--------------------   
    596          //    put2ground[len++]=',';
    597          //    len += sprintf(put2ground+len,"%d",servo_widths_temp[3]);
    598          ////-------------------manual yaw pwm-------------------------    
    599          //      put2ground[len++]=',';
    600          //      len += sprintf(put2ground+len,"%d",servo_widths_temp[4]);
    601          ////-------------------manual coll pwm------------------------      
    602          //      put2ground[len++]=',';
    603          //      len += sprintf(put2ground+len,"%d",manual_servo_widths[1]);
    604          ////-------------------auto_roll--------------------------------------------------      
    605          //      put2ground[len++]=',';
    606          //      len += sprintf(put2ground+len,"%d",auto_servo_widths_mid[1]);
    607          ////-------------------auto_pitch------------------------------      
    608          //      put2ground[len++]=',';
    609          //20      len += sprintf(put2ground+len,"%d",auto_servo_widths_mid[0]);
    610          ////-------------------auto_coll--------------------------------     
    611          //        put2ground[len++]=',';
    612          //        len += sprintf(put2ground+len,"%d",auto_servo_widths_mid[2]);
    613          ////-------------------auto_yaw--------------------------------           
    614          //        put2ground[len++]=',';
    615          //        len += sprintf(put2ground+len,"%d",auto_servo_widths_mid[3]);
    616          // //-------------------latitude-------------------------------
    617          //      put2ground[len++]=',';
    618          //      len += sprintf(put2ground+len,"%.7f",gps_gga_latitude);//
    619          //
    620          // //-------------------longitude------------------------------   
    621          //      put2ground[len++]=',';
    622          //      len += sprintf(put2ground+len,"%.7f",gps_gga_longitude);//
    623          // //-------------------quality---------------------------------    
    624          //      put2ground[len++]=',';
    625          //       put2ground[len++]= gps_gga_quality+48;
    626          //       
    627          ////-------------------num_sats--------------------------------     
    628          //       put2ground[len++]=',';
    629          //      len += sprintf(put2ground+len,"%d",gps_gga_num_sats);
    630          //	 
    631          ////------------------------altitude---------------------------      
    632          //      put2ground[len++]=',';
    633          //27      len += sprintf(put2ground+len,"%.1f",bmp_height);
    634          //
    635          ////------------------------current_xyz----------------------  
    636          //     for( i =0 ; i!=3; ++i )
    637          //      {
    638          //          put2ground[len++]=',';
    639          // 30         len += sprintf(put2ground+len,"%.1f",position.current_xyz[i]);
    640          //      }
    641          // //------------------------current_uvw---------------------------
    642          //      //for( i =0 ; i!=3; ++i )
    643          //      //{
    644          //          //put2ground[len++]=',';
    645          //          //len += sprintf(put2ground+len,"%.1f",position.raw_current_uvw[i]);//
    646          //     // }
    647          // //------------------------input_xyz------------------------------ 
    648          //      for( i =0 ; i!=3; ++i )
    649          //        {
    650          //            put2ground[len++]=',';
    651          //            len += sprintf(put2ground+len,"%.1f",input_xyz[i]);
    652          //        }
    653          //
    654          //    //------------------------input_uvw-----------------------------
    655          //      for( i =0 ; i!=3; ++i )
    656          //      {
    657          //          put2ground[len++]=',';
    658          //          len += sprintf(put2ground+len,"%.2f",input_uvw[i]);
    659          //      }
    660          //     //------------------------course /track-------------------------  
    661          //      //put2ground[len++]=',';
    662          //      //len += sprintf(put2ground+len,"%.1f",gps_vtg_course);//
    663          //  //------------------------speed------------------------------------ 
    664          //      put2ground[len++]=',';
    665          //      len += sprintf(put2ground+len,"%.2f",gps_vtg_speed);    
    666          //   //---------------hover_xyz[3]-------------------------    
    667          //    for( i =0 ; i!=3; ++i )
    668          //    {
    669          //      put2ground[len++]=',';
    670          //      len += sprintf(put2ground+len,"%.1f",trajectory.hover_xyz[i]);
    671          //    }
    672          //  //-------------------- current_target[3]------------------------
    673          //    //µ±Ç°Ä¿±êµã£¬Ïà¶ÔÓÚÐüÍ£µãµÄÎ»ÖÃ
    674          //    for( i =0 ; i!=3; ++i )
    675          //    {
    676          //      put2ground[len++]=',';
    677          //      len += sprintf(put2ground+len,"%.1f",position.current_target[i]);
    678          //    }
    679          //    //-------------heli_step--------------//1
    680          //     put2ground[len++]=',';
    681          //     put2ground[len++]=trajectory.heli_step + 48;   
    682          //
    683          //   //--------------------receive_index-----------------//2    
    684          //    put2ground[len++]=',';
    685          //    put2ground[len++]=receive_index+48;
    686          //    if(receive_index==true) receive_index=false;
    687          // //---------------pcm_update_flag------------------------//3  
    688          //     put2ground[len++]=',';
    689          //
    690          //    if(pcm_update_flag == 0)
    691          //     {
    692          //       err_count++;
    693          //       if(err_count>=2)
    694          //       {
    695          //         pcm_up_flag=0;
    696          //         err_count=0;
    697          //       }
    698          //       else
    699          //       {
    700          //          pcm_up_flag=1;
    701          //       }
    702          //     }
    703          //     else 
    704          //     {
    705          //        err_count=0;
    706          //        pcm_up_flag=pcm_update_flag;
    707          //     }
    708          //     put2ground[len++]=pcm_up_flag + 48;
    709          //
    710          //     //put2ground[len++]=pcm_update_flag + 48;
    711          //     pcm_update_flag = 0;
    712          //
    713          //     //---------compass_update_flag--------//4
    714          //     put2ground[len++]=',';
    715          //     put2ground[len++]=compass_update_flag + 48;
    716          //     compass_update_flag = false;
    717          //     
    718          //     //---------imu_update_flag----------//5
    719          //     put2ground[len++]=',';
    720          //     put2ground[len++]=imu_update_flag+48;   
    721          //     imu_update_flag = 0;
    722          //     
    723          //     //---------gps_update_flag----------//6
    724          //     put2ground[len++]=',';
    725          //    put2ground[len++]=gps_update_flag+48;           //gps_update_flag;
    726          //   //---------------round_count---------//7
    727          //    put2ground[len++]=',';
    728          //    len += sprintf(put2ground+len,"%d",round_count);  //round_count 
    729          //   //-----------how_long---------------//8 
    730          //    put2ground[len++]=',';
    731          //    len += sprintf(put2ground+len,"%.1f",trajectory.how_long[0]); //how_long[0]  
    732          //
    733          //   //------------------------hover_time--------------------------------//9 
    734          //    put2ground[len++]=',';
    735          //    len += sprintf(put2ground+len,"%.0f",trajectory.hover_time); //hover_time 
    736          //    //-----------top_speed---------------// 
    737          //   // put2ground[len++]=',';
    738          //    //len += sprintf(put2ground+len,"%.1f",trajectory.top_speed[2]); // 
    739          //    //---------------------com_position[0]----------------------------//10
    740          //    put2ground[len++]=',';
    741          //    len += sprintf(put2ground+len,"%.1f",trajectory.com_position[0]);
    742          //    
    743          //  //-----------com_velocity[0]----------//11
    744          //  put2ground[len++]=',';
    745          //  len += sprintf(put2ground+len,"%.1f",trajectory.com_velocity[0]); //com_velocity[0]   
    746          //  //-----------gps_gga_time----------
    747          //  //-put2ground[len++]=',';
    748          //  //-len += sprintf(put2ground+len,"%.0f",gps_gga_time); //gps_gga_time//
    749          //  
    750          ////----------------------bmp085------------------------------------//
    751          //	
    752          //     // put2ground[len++]=',';
    753          //     //len += sprintf(put2ground+len,"%d",temperature);
    754          //      put2ground[len++]=',';
    755          //      put2ground[len++]=abnormal_limit_flag+48;//gpsÌø±ä±êÖ¾
    756          //      bmp_update_flag = 0;
    757          //	  abnormal_limit_flag = 0;
    758          //      //put2ground[len++]=',';
    759          //      //len += sprintf(put2ground+len,"%.2f",bmp_height);
    760          //      
    761          //
    762          ////---------------len---------------------------------------------------//12
    763          //    put2ground[len++]=',';
    764          //    len += sprintf(put2ground+len,"%d",len);
    765          //   
    766          //
    767          ////ÏÖÔÚlen³¤¶ÈÖÁÉÙÒªÁô30¸öµÄÔ£¶È£¬·ñÔòÊµ¼ÊÊ¹ÓÃ¿ÉÄÜµ¼ÖÂÔ½½ç/////
    768          //    put2ground[len++]='\r';
    769          //    put2ground[len++]='\n';
    770          //    to_ground_transmit_flag=false; 
    771          //
    772          //    AT91C_BASE_US0->US_TPR = (unsigned int)put2ground;
    773          //    AT91C_BASE_US0->US_TCR = len;
    774          //    AT91F_US_EnableIt(AT91C_BASE_US0,AT91C_US_TXBUFE  );
    775          //   
    776          //
    777          //  }
    778          //}
    779          //

   Maximum stack usage in bytes:

     Function                       CSTACK
     --------                       ------
     AT91F_AIC_ConfigureIt(AT91PS_AIC, unsigned int, unsigned int, unsigned int, void (*)())
                                       20
     AT91F_DBGU_Init()                 20
     AT91F_DBGU_Put(char *)             4
     AT91F_PDC_Open(AT91PS_PDC)         0
     AT91F_US1_Put(char *)              4
     AT91F_US_Configure(AT91PS_USART, unsigned int, unsigned int, unsigned int, unsigned int)
                                       12
     AT91F_US_Put(char *)               4
     CharCounter(char *, int)           4
     Debug_irq_handler()               16
     Usart1_c_irq_handler()            16
     Usart1_init()                     20
     Usart_c_irq_handler()             12
     Usart_init()                      20
     output2ground()                   24


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     AT91F_AIC_ConfigureIt(AT91PS_AIC, unsigned int, unsigned int, unsigned int, void (*)())
                                      44
     AT91F_PDC_Open(AT91PS_PDC)       36
     AT91F_US_Configure(AT91PS_USART, unsigned int, unsigned int, unsigned int, unsigned int)
                                      86
     CharCounter(char *, int)         28
     raw_AVR_PCM                      28
     PCM_buffer                      100
     last_char                         1
     new_char                          1
     groundtoarm_flag                 48
     GPS_buffer                      100
     Usart_c_irq_handler()            92
     Usart1_c_irq_handler()          156
     ?Subroutine10                    44
     newchar                          40
     AT91F_US_Put(char *)             32
     AT91F_US1_Put(char *)            32
     AT91F_DBGU_Put(char *)           32
     Usart_init()                    116
     ?Subroutine11                    16
     Usart1_init()                    80
     Debug_irq_handler()             296
     hmc_update_flag                 308
     put2ground                      400
     AT91F_DBGU_Init()                88
     output2ground()                1204
     ??DataTable0                      4
     ??DataTable1                      4
     ??DataTable11                     4
     ??DataTable19                     4
     ??DataTable21                     4
     ??DataTable22                     4
     ??DataTable23                     4
     ??DataTable24                     4
     ??DataTable25                     4
     ??DataTable26                     4
     ??DataTable27                     4
     ??DataTable28                     4
     ??DataTable29                     4
     ??DataTable30                     4
     ?<Initializer for groundtoarm_flag>
                                      48
     ?<Initializer for newchar>       40
     ?<Initializer for hmc_update_flag>
                                     308
     ?<Initializer for put2ground>   400
     ?<Constant "%.f">                 4
     ?<Constant "%.3f">               32
     ?<Constant "%d">                  3
     ?<Constant "$HMC">               24
      Others                         200

 
 2 614 bytes in segment CODE
    63 bytes in segment DATA_C
   796 bytes in segment DATA_I
   796 bytes in segment DATA_ID
   230 bytes in segment DATA_Z
    24 bytes in segment INITTAB
 
 2 244 bytes of CODE  memory (+ 394 bytes shared)
   859 bytes of CONST memory
 1 026 bytes of DATA  memory

Errors: none
Warnings: none
