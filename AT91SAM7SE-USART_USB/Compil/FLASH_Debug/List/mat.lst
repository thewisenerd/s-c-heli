##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.31A/W32 EVALUATION    07/Jan/2016  21:50:29 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\kalman\mat.c                                #
#    Command line    =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\kalman\mat.c -lC                            #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Debug\Lis #
#                       t\ -o H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6- #
#                       27ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»® #
#                       +LQR_2014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Deb #
#                       ug\Obj\ -z9 --debug --cpu_mode thumb --endian        #
#                       little --cpu ARM7TDMI --stack_align 4 --interwork    #
#                       -e --fpu None --ec++ --dlib_config                   #
#                       D:\IAREWE431\ARM\LIB\dl4tptinl8n.h -I                #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\srcIAR\ -I      #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\..\src\ -I      #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\ -I       #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\kalman\   #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\pcm\   #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\spi\   #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\timer\ #
#                        -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27 #
#                       ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+L #
#                       QR_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\pid\  #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\avcs\  #
#                       -I D:\IAREWE431\ARM\INC\                             #
#    List file       =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Debug\Lis #
#                       t\mat.lst                                            #
#    Object file     =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Debug\Obj #
#                       \mat.r79                                             #
#                                                                            #
#                                                                            #
##############################################################################

H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-6\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2014_7_31\kalman\mat.c
      1          #include<includs.h>
      2          
      3          //-------Æ½¾ùÂË²¨--------//

   \                                 In segment CODE, align 4, keep-with-next
      4          double mean_filter(double * array , int len,double new_val)
      5          {
   \                     ??mean_filter:
   \   00000000   FCB5               PUSH        {R2-R7,LR}
   \   00000002   061C               MOV         R6,R0
   \   00000004   0F1C               MOV         R7,R1
      6              double sum =0 ;
   \   00000006   0020               MOV         R0,#+0
   \   00000008   0021               MOV         R1,#+0
      7              for(int i = len-1 ; i!=0 ; --i){
   \   0000000A   7C1E               SUB         R4,R7,#+1
   \   0000000C   0CE0               B           ??mean_filter_1
      8                 sum += array[i];
   \                     ??mean_filter_2:
   \   0000000E   E200               LSL         R2,R4,#+3
   \   00000010   B518               ADD         R5,R6,R2
   \   00000012   021C               MOV         R2,R0
   \   00000014   0B1C               MOV         R3,R1
   \   00000016   03CD               LDMIA       R5!,{R0,R1}
   \   00000018   083D               SUB         R5,#+8
   \   0000001A   ........           _BLF        __dAdd,??__dAdd??rT
      9                 array[i]=array[i-1]; 
   \   0000001E   2A1C               MOV         R2,R5
   \   00000020   083A               SUB         R2,#+8
   \   00000022   0CCA               LDMIA       R2!,{R2,R3}
   \   00000024   0CC5               STMIA       R5!,{R2,R3}
     10              }
   \   00000026   641E               SUB         R4,R4,#+1
   \                     ??mean_filter_1:
   \   00000028   F1D1               BNE         ??mean_filter_2
     11              array[0] = new_val;
   \   0000002A   6A46               MOV         R2,SP
   \   0000002C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000002E   0CC6               STMIA       R6!,{R2,R3}
   \   00000030   083E               SUB         R6,#+8
     12              sum += array[0];
     13              return sum/len;
   \   00000032   0CCE               LDMIA       R6!,{R2,R3}
   \   00000034   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000038   041C               MOV         R4,R0
   \   0000003A   0D1C               MOV         R5,R1
   \   0000003C   381C               MOV         R0,R7
   \   0000003E   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00000042   021C               MOV         R2,R0
   \   00000044   0B1C               MOV         R3,R1
   \   00000046   201C               MOV         R0,R4
   \   00000048   291C               MOV         R1,R5
   \   0000004A   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000004E   ....               B           ?Subroutine24
     14          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine24:
   \   00000000   FCBC               POP         {R2-R7}
   \   00000002   04BC               POP         {R2}
   \   00000004   1047               BX          R2                 ;; return
     15          
     16          //----------¼ò»¯Æ½¾ùÂË²¨---------//

   \                                 In segment CODE, align 4, keep-with-next
     17          double mean_filter_simple(int len ,double sum ,double * last_mean ,double new_val)
     18          {    
   \                     ??mean_filter_simple:
   \   00000000   F0B5               PUSH        {R4-R7,LR}
   \   00000002   051C               MOV         R5,R0
   \   00000004   0E1C               MOV         R6,R1
   \   00000006   171C               MOV         R7,R2
   \   00000008   1C1C               MOV         R4,R3
   \   0000000A   05A8               ADD         R0,SP,#+20
   \   0000000C   03C8               LDMIA       R0!,{R0,R1}
     19              sum += new_val - *last_mean;   
     20              return (*last_mean = sum/len);
   \   0000000E   0CCC               LDMIA       R4!,{R2,R3}
   \   00000010   083C               SUB         R4,#+8
   \   00000012   ........           _BLF        __dSub,??__dSub??rT
   \   00000016   021C               MOV         R2,R0
   \   00000018   0B1C               MOV         R3,R1
   \   0000001A   301C               MOV         R0,R6
   \   0000001C   391C               MOV         R1,R7
   \   0000001E   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000022   061C               MOV         R6,R0
   \   00000024   0F1C               MOV         R7,R1
   \   00000026   281C               MOV         R0,R5
   \   00000028   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   0000002C   021C               MOV         R2,R0
   \   0000002E   0B1C               MOV         R3,R1
   \   00000030   301C               MOV         R0,R6
   \   00000032   391C               MOV         R1,R7
   \   00000034   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000038   03C4               STMIA       R4!,{R0,R1}
   \   0000003A   ....               B           ?Subroutine25
     21          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine25:
   \   00000000   F0BC               POP         {R4-R7}
   \   00000002   04BC               POP         {R2}
   \   00000004   1047               BX          R2                 ;; return
     22          
     23          //--------Ò»½×ÏßÐÔÂË²¨------------//

   \                                 In segment CODE, align 4, keep-with-next
     24          double first_order_filter(double weight_factor, double last_val,double new_val )
     25          {
   \                     ??first_order_filter:
   \   00000000   F0B5               PUSH        {R4-R7,LR}
   \   00000002   061C               MOV         R6,R0
   \   00000004   0F1C               MOV         R7,R1
   \   00000006   141C               MOV         R4,R2
   \   00000008   1D1C               MOV         R5,R3
     26             return (weight_factor*new_val + (1-weight_factor)*last_val) ;
   \   0000000A   0020               MOV         R0,#+0
   \   0000000C   ....               LDR         R1,??DataTable0    ;; 0x3ff00000
   \   0000000E   321C               MOV         R2,R6
   \   00000010   3B1C               MOV         R3,R7
   \   00000012   ........           _BLF        __dSub,??__dSub??rT
   \   00000016   021C               MOV         R2,R0
   \   00000018   0B1C               MOV         R3,R1
   \   0000001A   201C               MOV         R0,R4
   \   0000001C   291C               MOV         R1,R5
   \   0000001E   ........           _BLF        __dMul,??__dMul??rT
   \   00000022   041C               MOV         R4,R0
   \   00000024   0D1C               MOV         R5,R1
   \   00000026   301C               MOV         R0,R6
   \   00000028   391C               MOV         R1,R7
   \   0000002A   05AA               ADD         R2,SP,#+20
   \   0000002C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000002E   ........           _BLF        __dMul,??__dMul??rT
   \   00000032   221C               MOV         R2,R4
   \   00000034   2B1C               MOV         R3,R5
   \   00000036   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000003A   C046               NOP         
   \   0000003C                      REQUIRE ?Subroutine25
   \   0000003C                      ;; // Fall through to label ?Subroutine25
     27          }
     28          
     29          //--------------------------------//

   \                                 In segment CODE, align 4, keep-with-next
     30          void eulerDC(
     31          	double			tBL[3][3],
     32          	double			phi,
     33          	double			theta,
     34          	double			psi
     35          )
     36          {
   \                     ??eulerDC:
   \   00000000   08B4               PUSH        {R3}
   \   00000002   F6B5               PUSH        {R1,R2,R4-R7,LR}
   \   00000004   8EB0               SUB         SP,#+56
   \   00000006   041C               MOV         R4,R0
   \   00000008   17A8               ADD         R0,SP,#+92
   \   0000000A   C0C8               LDMIA       R0!,{R6,R7}
     37          	const double		cpsi	= cos(psi);
   \   0000000C   0122               MOV         R2,#+1
   \   0000000E   301C               MOV         R0,R6
   \   00000010   391C               MOV         R1,R7
   \   00000012   ........           _BLF        _Sin,??_Sin??rT
   \   00000016   04AA               ADD         R2,SP,#+16
   \   00000018   03C2               STMIA       R2!,{R0,R1}
     38          	const double		cphi	= cos(phi);
   \   0000001A   0122               MOV         R2,#+1
   \   0000001C   0EA8               ADD         R0,SP,#+56
   \   0000001E   03C8               LDMIA       R0!,{R0,R1}
   \   00000020   ........           _BLF        _Sin,??_Sin??rT
   \   00000024   02AA               ADD         R2,SP,#+8
   \   00000026   03C2               STMIA       R2!,{R0,R1}
     39          	const double		ctheta	= cos(theta);
   \   00000028   0122               MOV         R2,#+1
   \   0000002A   15A8               ADD         R0,SP,#+84
   \   0000002C   03C8               LDMIA       R0!,{R0,R1}
   \   0000002E   ........           _BLF        _Sin,??_Sin??rT
   \   00000032   06AA               ADD         R2,SP,#+24
   \   00000034   03C2               STMIA       R2!,{R0,R1}
     40          	const double		spsi	= sin(psi);
   \   00000036   0022               MOV         R2,#+0
   \   00000038   301C               MOV         R0,R6
   \   0000003A   391C               MOV         R1,R7
   \   0000003C   ........           _BLF        _Sin,??_Sin??rT
   \   00000040   08AA               ADD         R2,SP,#+32
   \   00000042   03C2               STMIA       R2!,{R0,R1}
     41          	const double		sphi	= sin(phi);
   \   00000044   0022               MOV         R2,#+0
   \   00000046   0EA8               ADD         R0,SP,#+56
   \   00000048   03C8               LDMIA       R0!,{R0,R1}
   \   0000004A   ........           _BLF        _Sin,??_Sin??rT
   \   0000004E   6A46               MOV         R2,SP
   \   00000050   03C2               STMIA       R2!,{R0,R1}
     42          	const double		stheta	= sin(theta);
   \   00000052   0022               MOV         R2,#+0
   \   00000054   15A8               ADD         R0,SP,#+84
   \   00000056   03C8               LDMIA       R0!,{R0,R1}
   \   00000058   ........           _BLF        _Sin,??_Sin??rT
   \   0000005C   0AAA               ADD         R2,SP,#+40
   \   0000005E   03C2               STMIA       R2!,{R0,R1}
     43          
     44          	tBL[0][0] = ctheta * cpsi ;
   \   00000060   06A8               ADD         R0,SP,#+24
   \   00000062   0CC8               LDMIA       R0!,{R2,R3}
   \   00000064   04A8               ADD         R0,SP,#+16
   \   00000066   03C8               LDMIA       R0!,{R0,R1}
   \   00000068   ........           _BLF        __dMul,??__dMul??rT
   \   0000006C   03C4               STMIA       R4!,{R0,R1}
   \   0000006E   083C               SUB         R4,#+8
     45          	tBL[0][1] = ctheta * spsi ;
   \   00000070   251C               MOV         R5,R4
   \   00000072   0835               ADD         R5,#+8
   \   00000074   06A8               ADD         R0,SP,#+24
   \   00000076   03C8               LDMIA       R0!,{R0,R1}
   \   00000078   08AA               ADD         R2,SP,#+32
   \   0000007A   0CCA               LDMIA       R2!,{R2,R3}
   \   0000007C   ........           _BLF        __dMul,??__dMul??rT
   \   00000080   03C5               STMIA       R5!,{R0,R1}
     46          	tBL[0][2] = -stheta;
   \   00000082   221C               MOV         R2,R4
   \   00000084   1032               ADD         R2,#+16
   \   00000086   0AA8               ADD         R0,SP,#+40
   \   00000088   03C8               LDMIA       R0!,{R0,R1}
   \   0000008A   8023               MOV         R3,#+128
   \   0000008C   1B06               LSL         R3,R3,#+24         ;; #-2147483648
   \   0000008E   5940               EOR         R1,R3
   \   00000090   03C2               STMIA       R2!,{R0,R1}
     47          
     48          	tBL[1][0] = -spsi*cphi + cpsi*stheta*sphi;
   \   00000092   0CAD               ADD         R5,SP,#+48
   \   00000094   04A8               ADD         R0,SP,#+16
   \   00000096   03C8               LDMIA       R0!,{R0,R1}
   \   00000098   0AAA               ADD         R2,SP,#+40
   \   0000009A   0CCA               LDMIA       R2!,{R2,R3}
   \   0000009C   ........           _BLF        __dMul,??__dMul??rT
   \   000000A0   03C5               STMIA       R5!,{R0,R1}
   \   000000A2   251C               MOV         R5,R4
   \   000000A4   1835               ADD         R5,#+24
   \   000000A6   08A8               ADD         R0,SP,#+32
   \   000000A8   03C8               LDMIA       R0!,{R0,R1}
   \   000000AA   02AA               ADD         R2,SP,#+8
   \   000000AC   0CCA               LDMIA       R2!,{R2,R3}
   \   000000AE   ........           _BLF        __dMul,??__dMul??rT
   \   000000B2   061C               MOV         R6,R0
   \   000000B4   0F1C               MOV         R7,R1
   \   000000B6   0CA8               ADD         R0,SP,#+48
   \   000000B8   0CC8               LDMIA       R0!,{R2,R3}
   \   000000BA   6846               MOV         R0,SP
   \   000000BC   03C8               LDMIA       R0!,{R0,R1}
   \   000000BE   ........           _BLF        __dMul,??__dMul??rT
   \   000000C2   321C               MOV         R2,R6
   \   000000C4   3B1C               MOV         R3,R7
   \   000000C6   ........           _BLF        __dSub,??__dSub??rT
   \   000000CA   03C5               STMIA       R5!,{R0,R1}
     49          	tBL[1][1] =  cpsi*cphi + sphi*stheta*sphi;
   \   000000CC   251C               MOV         R5,R4
   \   000000CE   2035               ADD         R5,#+32
   \   000000D0   6846               MOV         R0,SP
   \   000000D2   03C8               LDMIA       R0!,{R0,R1}
   \   000000D4   0AAA               ADD         R2,SP,#+40
   \   000000D6   0CCA               LDMIA       R2!,{R2,R3}
   \   000000D8   ........           _BLF        __dMul,??__dMul??rT
   \   000000DC   021C               MOV         R2,R0
   \   000000DE   0B1C               MOV         R3,R1
   \   000000E0   6846               MOV         R0,SP
   \   000000E2   03C8               LDMIA       R0!,{R0,R1}
   \   000000E4   ........           _BLF        __dMul,??__dMul??rT
   \   000000E8   061C               MOV         R6,R0
   \   000000EA   0F1C               MOV         R7,R1
   \   000000EC   04A8               ADD         R0,SP,#+16
   \   000000EE   0CC8               LDMIA       R0!,{R2,R3}
   \   000000F0   02A8               ADD         R0,SP,#+8
   \   000000F2   03C8               LDMIA       R0!,{R0,R1}
   \   000000F4   ........           _BLF        __dMul,??__dMul??rT
   \   000000F8   321C               MOV         R2,R6
   \   000000FA   3B1C               MOV         R3,R7
   \   000000FC   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000100   03C5               STMIA       R5!,{R0,R1}
     50          	tBL[1][2] = ctheta*sphi;
   \   00000102   251C               MOV         R5,R4
   \   00000104   2835               ADD         R5,#+40
   \   00000106   06A8               ADD         R0,SP,#+24
   \   00000108   03C8               LDMIA       R0!,{R0,R1}
   \   0000010A   6A46               MOV         R2,SP
   \   0000010C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000010E   ........           _BLF        __dMul,??__dMul??rT
   \   00000112   03C5               STMIA       R5!,{R0,R1}
     51          
     52          	tBL[2][0] =  spsi*sphi + cpsi*stheta*cphi;
   \   00000114   251C               MOV         R5,R4
   \   00000116   3035               ADD         R5,#+48
   \   00000118   0CA8               ADD         R0,SP,#+48
   \   0000011A   03C8               LDMIA       R0!,{R0,R1}
   \   0000011C   02AA               ADD         R2,SP,#+8
   \   0000011E   0CCA               LDMIA       R2!,{R2,R3}
   \   00000120   ........           _BLF        __dMul,??__dMul??rT
   \   00000124   061C               MOV         R6,R0
   \   00000126   0F1C               MOV         R7,R1
   \   00000128   08A8               ADD         R0,SP,#+32
   \   0000012A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000012C   6846               MOV         R0,SP
   \   0000012E   03C8               LDMIA       R0!,{R0,R1}
   \   00000130   ........           _BLF        __dMul,??__dMul??rT
   \   00000134   321C               MOV         R2,R6
   \   00000136   3B1C               MOV         R3,R7
   \   00000138   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000013C   03C5               STMIA       R5!,{R0,R1}
     53          	tBL[2][1] = -cpsi*sphi + spsi*stheta*cphi;
   \   0000013E   251C               MOV         R5,R4
   \   00000140   3835               ADD         R5,#+56
   \   00000142   04A8               ADD         R0,SP,#+16
   \   00000144   03C8               LDMIA       R0!,{R0,R1}
   \   00000146   6A46               MOV         R2,SP
   \   00000148   0CCA               LDMIA       R2!,{R2,R3}
   \   0000014A   ........           _BLF        __dMul,??__dMul??rT
   \   0000014E   061C               MOV         R6,R0
   \   00000150   0F1C               MOV         R7,R1
   \   00000152   08A8               ADD         R0,SP,#+32
   \   00000154   0CC8               LDMIA       R0!,{R2,R3}
   \   00000156   03C8               LDMIA       R0!,{R0,R1}
   \   00000158   ........           _BLF        __dMul,??__dMul??rT
   \   0000015C   021C               MOV         R2,R0
   \   0000015E   0B1C               MOV         R3,R1
   \   00000160   02A8               ADD         R0,SP,#+8
   \   00000162   03C8               LDMIA       R0!,{R0,R1}
   \   00000164   ........           _BLF        __dMul,??__dMul??rT
   \   00000168   321C               MOV         R2,R6
   \   0000016A   3B1C               MOV         R3,R7
   \   0000016C   ........           _BLF        __dSub,??__dSub??rT
   \   00000170   03C5               STMIA       R5!,{R0,R1}
     54          	tBL[2][2] = ctheta*cphi;
   \   00000172   4034               ADD         R4,#+64
   \   00000174   06A8               ADD         R0,SP,#+24
   \   00000176   0CC8               LDMIA       R0!,{R2,R3}
   \   00000178   02A8               ADD         R0,SP,#+8
   \   0000017A   03C8               LDMIA       R0!,{R0,R1}
   \   0000017C   ........           _BLF        __dMul,??__dMul??rT
   \   00000180   03C4               STMIA       R4!,{R0,R1}
     55          }
   \   00000182   10B0               ADD         SP,#+64
   \   00000184   F0BC               POP         {R4-R7}
   \   00000186   03BC               POP         {R0,R1}
   \   00000188   0047               BX          R0                 ;; return
     56          
     57          /*-----------------------------------------------*/

   \                                 In segment CODE, align 4, keep-with-next
     58          void ned2bf3(	double  		v_out[3],
     59                          const double  	        theta[3],
     60          	        const double            v_in[3])
     61          {
   \                     ??ned2bf3:
   \   00000000   F0B5               PUSH        {R4-R7,LR}
   \   00000002   92B0               SUB         SP,#+72
   \   00000004   051C               MOV         R5,R0
   \   00000006   141C               MOV         R4,R2
     62          	double			cBE[3][3];
     63          	eulerDC( cBE, theta[0],theta[1],theta[2] );
   \   00000008   081C               MOV         R0,R1
   \   0000000A   1030               ADD         R0,#+16
   \   0000000C   0CC8               LDMIA       R0!,{R2,R3}
   \   0000000E   0CB4               PUSH        {R2,R3}
   \   00000010   081C               MOV         R0,R1
   \   00000012   0830               ADD         R0,#+8
   \   00000014   0CC8               LDMIA       R0!,{R2,R3}
   \   00000016   0CB4               PUSH        {R2,R3}
   \   00000018   06C9               LDMIA       R1!,{R1,R2}
   \   0000001A   04A8               ADD         R0,SP,#+16
   \   0000001C   08BC               POP         {R3}
   \   0000001E   ........           BL          ??eulerDC
     64          	v_out[0] = cBE[0][0] * v_in[0] + cBE[0][1] * v_in[1] + cBE[0][2] * v_in[2] ;
   \   00000022   03A8               ADD         R0,SP,#+12
   \   00000024   1030               ADD         R0,#+16
   \   00000026   03C8               LDMIA       R0!,{R0,R1}
   \   00000028   221C               MOV         R2,R4
   \   0000002A   1032               ADD         R2,#+16
   \   0000002C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000002E   ........           _BLF        __dMul,??__dMul??rT
   \   00000032   03B4               PUSH        {R0,R1}
   \   00000034   05A8               ADD         R0,SP,#+20
   \   00000036   0830               ADD         R0,#+8
   \   00000038   0CC8               LDMIA       R0!,{R2,R3}
   \   0000003A   201C               MOV         R0,R4
   \   0000003C   0830               ADD         R0,#+8
   \   0000003E   03C8               LDMIA       R0!,{R0,R1}
   \   00000040   ........           _BLF        __dMul,??__dMul??rT
   \   00000044   061C               MOV         R6,R0
   \   00000046   0F1C               MOV         R7,R1
   \   00000048   05A8               ADD         R0,SP,#+20
   \   0000004A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000004C   03CC               LDMIA       R4!,{R0,R1}
   \   0000004E   083C               SUB         R4,#+8
   \   00000050   ........           _BLF        __dMul,??__dMul??rT
   \   00000054   321C               MOV         R2,R6
   \   00000056   3B1C               MOV         R3,R7
   \   00000058   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000005C   0CBC               POP         {R2,R3}
   \   0000005E   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000062   03C5               STMIA       R5!,{R0,R1}
   \   00000064   083D               SUB         R5,#+8
     65                  v_out[1] = cBE[1][0] * v_in[0] + cBE[1][1] * v_in[1] + cBE[1][2] * v_in[2] ;
   \   00000066   2A1C               MOV         R2,R5
   \   00000068   0832               ADD         R2,#+8
   \   0000006A   04B4               PUSH        {R2}
   \   0000006C   04A8               ADD         R0,SP,#+16
   \   0000006E   2830               ADD         R0,#+40
   \   00000070   0CC8               LDMIA       R0!,{R2,R3}
   \   00000072   201C               MOV         R0,R4
   \   00000074   1030               ADD         R0,#+16
   \   00000076   03C8               LDMIA       R0!,{R0,R1}
   \   00000078   ........           _BLF        __dMul,??__dMul??rT
   \   0000007C   03B4               PUSH        {R0,R1}
   \   0000007E   06A8               ADD         R0,SP,#+24
   \   00000080   2030               ADD         R0,#+32
   \   00000082   0CC8               LDMIA       R0!,{R2,R3}
   \   00000084   201C               MOV         R0,R4
   \   00000086   0830               ADD         R0,#+8
   \   00000088   03C8               LDMIA       R0!,{R0,R1}
   \   0000008A   ........           _BLF        __dMul,??__dMul??rT
   \   0000008E   061C               MOV         R6,R0
   \   00000090   0F1C               MOV         R7,R1
   \   00000092   06A8               ADD         R0,SP,#+24
   \   00000094   1830               ADD         R0,#+24
   \   00000096   0CC8               LDMIA       R0!,{R2,R3}
   \   00000098   03CC               LDMIA       R4!,{R0,R1}
   \   0000009A   083C               SUB         R4,#+8
   \   0000009C   ........           _BLF        __dMul,??__dMul??rT
   \   000000A0   321C               MOV         R2,R6
   \   000000A2   3B1C               MOV         R3,R7
   \   000000A4   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000A8   0CBC               POP         {R2,R3}
   \   000000AA   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000AE   04BC               POP         {R2}
   \   000000B0   03C2               STMIA       R2!,{R0,R1}
     66                  v_out[2] = cBE[2][0] * v_in[0] + cBE[2][1] * v_in[1] + cBE[2][2] * v_in[2] ;
   \   000000B2   1035               ADD         R5,#+16
   \   000000B4   03A8               ADD         R0,SP,#+12
   \   000000B6   4030               ADD         R0,#+64
   \   000000B8   03C8               LDMIA       R0!,{R0,R1}
   \   000000BA   221C               MOV         R2,R4
   \   000000BC   1032               ADD         R2,#+16
   \   000000BE   0CCA               LDMIA       R2!,{R2,R3}
   \   000000C0   ........           _BLF        __dMul,??__dMul??rT
   \   000000C4   03B4               PUSH        {R0,R1}
   \   000000C6   05A8               ADD         R0,SP,#+20
   \   000000C8   3830               ADD         R0,#+56
   \   000000CA   0CC8               LDMIA       R0!,{R2,R3}
   \   000000CC   201C               MOV         R0,R4
   \   000000CE   0830               ADD         R0,#+8
   \   000000D0   03C8               LDMIA       R0!,{R0,R1}
   \   000000D2   ........           _BLF        __dMul,??__dMul??rT
   \   000000D6   061C               MOV         R6,R0
   \   000000D8   0F1C               MOV         R7,R1
   \   000000DA   05A8               ADD         R0,SP,#+20
   \   000000DC   3030               ADD         R0,#+48
   \   000000DE   0CC8               LDMIA       R0!,{R2,R3}
   \   000000E0   03CC               LDMIA       R4!,{R0,R1}
   \   000000E2   ........           _BLF        __dMul,??__dMul??rT
   \   000000E6   321C               MOV         R2,R6
   \   000000E8   3B1C               MOV         R3,R7
   \   000000EA   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000EE   0CBC               POP         {R2,R3}
   \   000000F0   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000F4   03C5               STMIA       R5!,{R0,R1}
     67          }
   \   000000F6   15B0               ADD         SP,#+84
   \   000000F8   ....               B           ??Subroutine26_0

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine26:
   \   00000000   03C5               STMIA       R5!,{R0,R1}
   \                     ??Subroutine26_0:
   \   00000002   F0BC               POP         {R4-R7}
   \   00000004   01BC               POP         {R0}
   \   00000006   0047               BX          R0                 ;; return
     68          
     69          /*-----------------------------------------------*/

   \                                 In segment CODE, align 4, keep-with-next
     70          void ned2bf2( double v_out[3],
     71                        const double theta,
     72                        const double v_in[3])
     73          {
   \                     ??ned2bf2:
   \   00000000   F8B5               PUSH        {R3-R7,LR}
   \   00000002   051C               MOV         R5,R0
   \   00000004   0E1C               MOV         R6,R1
   \   00000006   171C               MOV         R7,R2
     74            static double     cos_theta   =   1.0;
     75            static  double    sin_theta   =   0.0;
     76            static  double    last_theta  =   0.0;
     77            if( last_theta != theta)
   \   00000008   274C               LDR         R4,??ned2bf2_1     ;; ??cos_theta
   \   0000000A   201C               MOV         R0,R4
   \   0000000C   1030               ADD         R0,#+16
   \   0000000E   03C8               LDMIA       R0!,{R0,R1}
   \   00000010   321C               MOV         R2,R6
   \   00000012   3B1C               MOV         R3,R7
   \   00000014   ........           _BLF        __dNotEqual,??__dNotEqual??rT
   \   00000018   0028               CMP         R0,#+0
   \   0000001A   11D0               BEQ         ??ned2bf2_2
     78            {
     79                last_theta   =   theta;
   \   0000001C   201C               MOV         R0,R4
   \   0000001E   1030               ADD         R0,#+16
   \   00000020   C0C0               STMIA       R0!,{R6,R7}
     80                cos_theta    =   cos(theta) ;
   \   00000022   0122               MOV         R2,#+1
   \   00000024   301C               MOV         R0,R6
   \   00000026   391C               MOV         R1,R7
   \   00000028   ........           _BLF        _Sin,??_Sin??rT
   \   0000002C   03C4               STMIA       R4!,{R0,R1}
   \   0000002E   083C               SUB         R4,#+8
     81                sin_theta    =   sin(theta) ;
   \   00000030   0022               MOV         R2,#+0
   \   00000032   301C               MOV         R0,R6
   \   00000034   391C               MOV         R1,R7
   \   00000036   ........           _BLF        _Sin,??_Sin??rT
   \   0000003A   221C               MOV         R2,R4
   \   0000003C   0832               ADD         R2,#+8
   \   0000003E   03C2               STMIA       R2!,{R0,R1}
   \                     ??ned2bf2_2:
   \   00000040   0098               LDR         R0,[SP, #+0]
   \   00000042   0830               ADD         R0,#+8
   \   00000044   03C8               LDMIA       R0!,{R0,R1}
   \   00000046   221C               MOV         R2,R4
   \   00000048   0832               ADD         R2,#+8
   \   0000004A   0CCA               LDMIA       R2!,{R2,R3}
   \   0000004C   ........           _BLF        __dMul,??__dMul??rT
   \   00000050   061C               MOV         R6,R0
   \   00000052   0F1C               MOV         R7,R1
   \   00000054   0098               LDR         R0,[SP, #+0]
   \   00000056   0CC8               LDMIA       R0!,{R2,R3}
   \   00000058   03CC               LDMIA       R4!,{R0,R1}
   \   0000005A   083C               SUB         R4,#+8
   \   0000005C   ........           _BLF        __dMul,??__dMul??rT
   \   00000060   321C               MOV         R2,R6
   \   00000062   3B1C               MOV         R3,R7
   \   00000064   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000068   03C5               STMIA       R5!,{R0,R1}
   \   0000006A   083D               SUB         R5,#+8
     82            }
     83            
     84            v_out[0]  = v_in[0] * cos_theta + v_in[1] * sin_theta ;
     85            v_out[1]  = v_in[1] * cos_theta - v_in[0] * sin_theta ;     
   \   0000006C   2A1C               MOV         R2,R5
   \   0000006E   0832               ADD         R2,#+8
   \   00000070   04B4               PUSH        {R2}
   \   00000072   0198               LDR         R0,[SP, #+4]
   \   00000074   0CC8               LDMIA       R0!,{R2,R3}
   \   00000076   201C               MOV         R0,R4
   \   00000078   0830               ADD         R0,#+8
   \   0000007A   03C8               LDMIA       R0!,{R0,R1}
   \   0000007C   ........           _BLF        __dMul,??__dMul??rT
   \   00000080   061C               MOV         R6,R0
   \   00000082   0F1C               MOV         R7,R1
   \   00000084   0198               LDR         R0,[SP, #+4]
   \   00000086   0830               ADD         R0,#+8
   \   00000088   0CC8               LDMIA       R0!,{R2,R3}
   \   0000008A   03CC               LDMIA       R4!,{R0,R1}
   \   0000008C   ........           _BLF        __dMul,??__dMul??rT
   \   00000090   321C               MOV         R2,R6
   \   00000092   3B1C               MOV         R3,R7
   \   00000094   ........           _BLF        __dSub,??__dSub??rT
   \   00000098   04BC               POP         {R2}
   \   0000009A   03C2               STMIA       R2!,{R0,R1}
     86            v_out[2]  = v_in[2] ;
   \   0000009C   1035               ADD         R5,#+16
   \   0000009E   0098               LDR         R0,[SP, #+0]
   \   000000A0   1030               ADD         R0,#+16
   \   000000A2   03C8               LDMIA       R0!,{R0,R1}
   \   000000A4   ........           BL          ?Subroutine27
   \                     ??ned2bf2_1:
   \   000000A8   ........           DC32        ??cos_theta
     87          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine27:
   \   00000000   03C5               STMIA       R5!,{R0,R1}
   \                     ??Subroutine27_0:
   \   00000002   F8BC               POP         {R3-R7}
   \   00000004   01BC               POP         {R0}
   \   00000006   0047               BX          R0                 ;; return

   \                                 In segment DATA_I, align 4, align-sorted
   \                     ??cos_theta:
   \   00000000                      DS8 8
   \   00000008                      REQUIRE `?<Initializer for cos_theta>`
   \   00000008                      DS8 8
   \   00000010                      REQUIRE `?<Initializer for sin_theta>`
   \   00000010                      DS8 8
   \   00000018                      REQUIRE `?<Initializer for last_theta>`
     88          
     89          

   \                                 In segment CODE, align 4, keep-with-next
     90          void norm( double* q )
     91          {
   \                     ??norm:
   \   00000000   F1B5               PUSH        {R0,R4-R7,LR}
     92          	unsigned char i;
     93          	double mag = 0;
   \   00000002   0026               MOV         R6,#+0
   \   00000004   0027               MOV         R7,#+0
   \   00000006   341C               MOV         R4,R6
     94          				
     95          	for( i=0; i<4; i++ ){
     96          		mag += q[i] * q[i];
   \                     ??norm_1:
   \   00000008   E000               LSL         R0,R4,#+3
   \   0000000A   0099               LDR         R1,[SP, #+0]
   \   0000000C   0818               ADD         R0,R1,R0
   \   0000000E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000010   0838               SUB         R0,#+8
   \   00000012   03C8               LDMIA       R0!,{R0,R1}
   \   00000014   ........           _BLF        __dMul,??__dMul??rT
   \   00000018   321C               MOV         R2,R6
   \   0000001A   3B1C               MOV         R3,R7
   \   0000001C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000020   061C               MOV         R6,R0
   \   00000022   0F1C               MOV         R7,R1
     97          	} 
   \   00000024   641C               ADD         R4,R4,#+1
   \   00000026   2006               LSL         R0,R4,#+24
   \   00000028   000E               LSR         R0,R0,#+24
   \   0000002A   0428               CMP         R0,#+4
   \   0000002C   ECD3               BCC         ??norm_1
     98          	
     99          	mag = sqrt( mag );
   \   0000002E   301C               MOV         R0,R6
   \   00000030   ........           _BLF        sqrt,??sqrt??rT
   \   00000034   041C               MOV         R4,R0
   \   00000036   0D1C               MOV         R5,R1
    100          					
    101          	for( i=0; i<4; i++ ){
   \   00000038   0026               MOV         R6,#+0
    102          		q[i] = q[i] / mag;
   \                     ??norm_2:
   \   0000003A   F000               LSL         R0,R6,#+3
   \   0000003C   0099               LDR         R1,[SP, #+0]
   \   0000003E   0F18               ADD         R7,R1,R0
   \   00000040   03CF               LDMIA       R7!,{R0,R1}
   \   00000042   083F               SUB         R7,#+8
   \   00000044   221C               MOV         R2,R4
   \   00000046   2B1C               MOV         R3,R5
   \   00000048   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000004C   03C7               STMIA       R7!,{R0,R1}
    103          	}
   \   0000004E   761C               ADD         R6,R6,#+1
   \   00000050   3006               LSL         R0,R6,#+24
   \   00000052   000E               LSR         R0,R0,#+24
   \   00000054   0428               CMP         R0,#+4
   \   00000056   F0D3               BCC         ??norm_2
    104          }
   \   00000058   ........           BL          ??Subroutine27_0
    105          
    106           inline char is_zero( const double* p )
    107          {
    108          	const unsigned int* f = ( const unsigned int *) p;
    109          			
    110          	if( *f == 0 ) return 1;
    111          				
    112          	return 0;
    113          						
    114          }
    115          
    116          /**********************************************************/
    117          /**********************************************************/
    118          

   \                                 In segment CODE, align 4, keep-with-next
    119           void mulNxM( void*  Out_ptr,
    120          	     const void*  A_ptr,
    121          	     const void*  B_ptr,
    122          	     signed char n,
    123          	     signed char m,
    124          	     signed char p,
    125          	     signed char transpose_B,
    126          	     signed char add
    127          	   )
    128          {
   \                     ??mulNxM:
   \   00000000   FFB5               PUSH        {R0-R7,LR}
   \   00000002   88B0               SUB         SP,#+32
   \   00000004   0020               MOV         R0,#+0
   \   00000006   01E0               B           ??mulNxM_1
    129          	char i, j, k;
    130          	
    131          	double* OUT = (double*)Out_ptr; 
    132          	const double* A =  (double*)A_ptr;
    133          	const double* B =  (double*)B_ptr;
    134          						
    135          	for( i=0; i<n; i++ ){
   \                     ??mulNxM_2:
   \   00000008   0098               LDR         R0,[SP, #+0]
   \   0000000A   401C               ADD         R0,R0,#+1
   \                     ??mulNxM_1:
   \   0000000C   0090               STR         R0,[SP, #+0]
   \   0000000E   0098               LDR         R0,[SP, #+0]
   \   00000010   0006               LSL         R0,R0,#+24
   \   00000012   000E               LSR         R0,R0,#+24
   \   00000014   6A46               MOV         R2,SP
   \   00000016   2C21               MOV         R1,#+44
   \   00000018   5156               LDRSB       R1,[R2, R1]
   \   0000001A   8842               CMP         R0,R1
   \   0000001C   75DA               BGE         ??mulNxM_3
    136          		const double* A_i = A + i * m;    // A¾ØÕóµÚiÐÐÊ×µØÖ·
   \   0000001E   6946               MOV         R1,SP
   \   00000020   4420               MOV         R0,#+68
   \   00000022   0856               LDRSB       R0,[R1, R0]
   \   00000024   0490               STR         R0,[SP, #+16]
   \   00000026   0098               LDR         R0,[SP, #+0]
   \   00000028   0499               LDR         R1,[SP, #+16]
   \   0000002A   4843               MUL         R0,R1
   \   0000002C   C000               LSL         R0,R0,#+3
   \   0000002E   0999               LDR         R1,[SP, #+36]
   \   00000030   0818               ADD         R0,R1,R0
   \   00000032   0690               STR         R0,[SP, #+24]
    137          		double* O_i = OUT + i * p;   // Êä³ö¾ØÕó(NxP)µÚiÐÐÊ×µØÖ·
   \   00000034   6946               MOV         R1,SP
   \   00000036   4820               MOV         R0,#+72
   \   00000038   0856               LDRSB       R0,[R1, R0]
   \   0000003A   0590               STR         R0,[SP, #+20]
   \   0000003C   0098               LDR         R0,[SP, #+0]
   \   0000003E   0599               LDR         R1,[SP, #+20]
   \   00000040   4843               MUL         R0,R1
   \   00000042   C000               LSL         R0,R0,#+3
   \   00000044   0899               LDR         R1,[SP, #+32]
   \   00000046   0818               ADD         R0,R1,R0
   \   00000048   0790               STR         R0,[SP, #+28]
    138          		
    139          		for( j=0; j<p; j++ ){
   \   0000004A   0026               MOV         R6,#+0
   \   0000004C   05E0               B           ??mulNxM_4
    140          																	double  s = 0;            // ÀÛ¼ÓÆ÷ 
    141          			 double* O_i_j = O_i + j;  //Êä³ö¾ØÕóµÚiÐÐ,jÁÐµØÖ·																							
    142          
    143          			 for( k=0; k<m; k++ ){
    144          				 const double* a = A_i + k; //A(NxM)¾ØÕóµÚiÐÐÖÐµÄµÚkÁÐµØÖ·
    145          				 const double* b;																			
    146          				 if ( is_zero( a ) )				
    147          					 continue;
    148          
    149          				 if ( transpose_B )  //×¢ÒâB¾ØÕó×÷Îª²ÎÊý´«µÝ¹ýÀ´²¢Î´×ªÖÃ
    150          					 b = B + j * m + k;  //¹ÊÕâÀïÊµ¼ÊÊÇBµÄjÐÐ kÁÐµØÖ·
    151          				 else 
    152          
    153          					 b = B + k * p + j;  //BµÄµÚkÐÐ jÁÐµØÖ·
    154          
    155          				 if ( is_zero( b ) )
    156          					 continue;																					
    157          				 s += *a * *b;
    158          
    159          			 }
    160          																										
    161          
    162          			 if ( add == 0 )       *O_i_j  = s;
    163          
    164          			 else if ( add  > 0 )  *O_i_j += s;
    165          
    166          			 else                  *O_i_j -= s;
   \                     ??mulNxM_5:
   \   0000004E   01AA               ADD         R2,SP,#+4
   \   00000050   0CCA               LDMIA       R2!,{R2,R3}
   \   00000052   ........           _BLF        __dSub,??__dSub??rT
   \                     ??mulNxM_6:
   \   00000056   03C4               STMIA       R4!,{R0,R1}
   \   00000058   761C               ADD         R6,R6,#+1
   \                     ??mulNxM_4:
   \   0000005A   3006               LSL         R0,R6,#+24
   \   0000005C   000E               LSR         R0,R0,#+24
   \   0000005E   6A46               MOV         R2,SP
   \   00000060   4821               MOV         R1,#+72
   \   00000062   5156               LDRSB       R1,[R2, R1]
   \   00000064   8842               CMP         R0,R1
   \   00000066   CFDA               BGE         ??mulNxM_2
   \   00000068   01AA               ADD         R2,SP,#+4
   \   0000006A   0020               MOV         R0,#+0
   \   0000006C   0021               MOV         R1,#+0
   \   0000006E   03C2               STMIA       R2!,{R0,R1}
   \   00000070   F000               LSL         R0,R6,#+3
   \   00000072   0390               STR         R0,[SP, #+12]
   \   00000074   0799               LDR         R1,[SP, #+28]
   \   00000076   0C18               ADD         R4,R1,R0
   \   00000078   0025               MOV         R5,#+0
   \   0000007A   1AE0               B           ??mulNxM_7
   \                     ??mulNxM_8:
   \   0000007C   0599               LDR         R1,[SP, #+20]
   \   0000007E   6943               MUL         R1,R5
   \   00000080   C900               LSL         R1,R1,#+3
   \   00000082   039A               LDR         R2,[SP, #+12]
   \                     ??mulNxM_9:
   \   00000084   0A9B               LDR         R3,[SP, #+40]
   \   00000086   9A18               ADD         R2,R3,R2
   \   00000088   5718               ADD         R7,R2,R1
   \   0000008A   3968               LDR         R1,[R7, #+0]
   \   0000008C   0029               CMP         R1,#+0
   \   0000008E   0FD0               BEQ         ??mulNxM_10
   \   00000090   01AA               ADD         R2,SP,#+4
   \   00000092   04B4               PUSH        {R2}
   \   00000094   03C8               LDMIA       R0!,{R0,R1}
   \   00000096   021C               MOV         R2,R0
   \   00000098   0B1C               MOV         R3,R1
   \   0000009A   03CF               LDMIA       R7!,{R0,R1}
   \   0000009C   ........           _BLF        __dMul,??__dMul??rT
   \   000000A0   021C               MOV         R2,R0
   \   000000A2   0B1C               MOV         R3,R1
   \   000000A4   02A8               ADD         R0,SP,#+8
   \   000000A6   03C8               LDMIA       R0!,{R0,R1}
   \   000000A8   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000AC   04BC               POP         {R2}
   \   000000AE   03C2               STMIA       R2!,{R0,R1}
   \                     ??mulNxM_10:
   \   000000B0   6D1C               ADD         R5,R5,#+1
   \                     ??mulNxM_7:
   \   000000B2   2806               LSL         R0,R5,#+24
   \   000000B4   000E               LSR         R0,R0,#+24
   \   000000B6   6A46               MOV         R2,SP
   \   000000B8   4421               MOV         R1,#+68
   \   000000BA   5156               LDRSB       R1,[R2, R1]
   \   000000BC   8842               CMP         R0,R1
   \   000000BE   0EDA               BGE         ??mulNxM_11
   \   000000C0   E900               LSL         R1,R5,#+3
   \   000000C2   0698               LDR         R0,[SP, #+24]
   \   000000C4   4258               LDR         R2,[R0, R1]
   \   000000C6   4018               ADD         R0,R0,R1
   \   000000C8   002A               CMP         R2,#+0
   \   000000CA   F1D0               BEQ         ??mulNxM_10
   \   000000CC   6B46               MOV         R3,SP
   \   000000CE   4C22               MOV         R2,#+76
   \   000000D0   9A56               LDRSB       R2,[R3, R2]
   \   000000D2   002A               CMP         R2,#+0
   \   000000D4   D2D0               BEQ         ??mulNxM_8
   \   000000D6   049A               LDR         R2,[SP, #+16]
   \   000000D8   7243               MUL         R2,R6
   \   000000DA   D200               LSL         R2,R2,#+3
   \   000000DC   D2E7               B           ??mulNxM_9
   \                     ??mulNxM_11:
   \   000000DE   6946               MOV         R1,SP
   \   000000E0   5020               MOV         R0,#+80
   \   000000E2   0856               LDRSB       R0,[R1, R0]
   \   000000E4   0028               CMP         R0,#+0
   \   000000E6   02D1               BNE         ??mulNxM_12
   \   000000E8   01A8               ADD         R0,SP,#+4
   \   000000EA   03C8               LDMIA       R0!,{R0,R1}
   \   000000EC   B3E7               B           ??mulNxM_6
   \                     ??mulNxM_12:
   \   000000EE   03CC               LDMIA       R4!,{R0,R1}
   \   000000F0   083C               SUB         R4,#+8
   \   000000F2   6B46               MOV         R3,SP
   \   000000F4   5022               MOV         R2,#+80
   \   000000F6   9A56               LDRSB       R2,[R3, R2]
   \   000000F8   012A               CMP         R2,#+1
   \   000000FA   A8DB               BLT         ??mulNxM_5
   \   000000FC   021C               MOV         R2,R0
   \   000000FE   0B1C               MOV         R3,R1
   \   00000100   01A8               ADD         R0,SP,#+4
   \   00000102   03C8               LDMIA       R0!,{R0,R1}
   \   00000104   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000108   A5E7               B           ??mulNxM_6
    167          
    168          		}
    169          
    170          	}
    171          }
   \                     ??mulNxM_3:
   \   0000010A   0CB0               ADD         SP,#+48
   \   0000010C   ....               B           ??Subroutine26_0
    172          
    173          /**********************************************************/
    174          /**********************************************************/
    175          
    176          /**********************************************************/
    177          /**********************************************************/
    178          

   \                                 In segment CODE, align 4, keep-with-next
    179           double limit( const double f,const double min,const double max)
    180          {
   \                     ??limit:
   \   00000000   FCB5               PUSH        {R2-R7,LR}
   \   00000002   041C               MOV         R4,R0
   \   00000004   0D1C               MOV         R5,R1
   \   00000006   07A8               ADD         R0,SP,#+28
   \   00000008   C0C8               LDMIA       R0!,{R6,R7}
    181          		if( f < min ) return min;
   \   0000000A   201C               MOV         R0,R4
   \   0000000C   6A46               MOV         R2,SP
   \   0000000E   0CCA               LDMIA       R2!,{R2,R3}
   \   00000010   ........           _BLF        __dLess,??__dLess??rT
   \   00000014   0028               CMP         R0,#+0
   \   00000016   02D0               BEQ         ??limit_1
   \   00000018   6846               MOV         R0,SP
   \   0000001A   03C8               LDMIA       R0!,{R0,R1}
   \   0000001C   0CE0               B           ??limit_2
    182          			
    183          		if( f > max ) return max;
   \                     ??limit_1:
   \   0000001E   301C               MOV         R0,R6
   \   00000020   391C               MOV         R1,R7
   \   00000022   221C               MOV         R2,R4
   \   00000024   2B1C               MOV         R3,R5
   \   00000026   ........           _BLF        __dLess,??__dLess??rT
   \   0000002A   0028               CMP         R0,#+0
   \   0000002C   02D0               BEQ         ??limit_3
   \   0000002E   301C               MOV         R0,R6
   \   00000030   391C               MOV         R1,R7
   \   00000032   01E0               B           ??limit_2
    184          
    185          		return f;
   \                     ??limit_3:
   \   00000034   201C               MOV         R0,R4
   \   00000036   291C               MOV         R1,R5
   \                     ??limit_2:
   \   00000038                      REQUIRE ?Subroutine24
   \   00000038                      ;; // Fall through to label ?Subroutine24
    186          }
    187          

   \                                 In segment CODE, align 4, keep-with-next
    188          unsigned int limit_int( const int f,const int min,const int max)
    189          {
    190          		if( f < min ) return min;
   \                     ??limit_int:
   \   00000000   8842               CMP         R0,R1
   \   00000002   01DA               BGE         ??limit_int_1
   \   00000004   081C               MOV         R0,R1
   \   00000006   02E0               B           ??limit_int_2
    191          			
    192          		if( f > max ) return max;
   \                     ??limit_int_1:
   \   00000008   8242               CMP         R2,R0
   \   0000000A   00DA               BGE         ??limit_int_2
   \   0000000C   101C               MOV         R0,R2
    193          
    194          		return f;
   \                     ??limit_int_2:
   \   0000000E   00B0               ADD         SP,#+0
   \   00000010   7047               BX          LR                 ;; return
    195          }
    196          
    197          /*********************************************************/
    198          /*********************************************************/
    199          

   \                                 In segment CODE, align 4, keep-with-next
    200          void rad2deg( double* degree, double* rad, unsigned char index )
    201          {
   \                     ??rad2deg:
   \   00000000   F1B5               PUSH        {R0,R4-R7,LR}
   \   00000002   0F1C               MOV         R7,R1
   \   00000004   161C               MOV         R6,R2
    202          	unsigned char i;
    203          
    204          	for( i=0; i<index; i++ ){
   \   00000006   0024               MOV         R4,#+0
   \   00000008   0EE0               B           ??rad2deg_1
    205          	       degree[ i ] = rad[ i ] * 180.0 / PI;
   \                     ??rad2deg_2:
   \   0000000A   E000               LSL         R0,R4,#+3
   \   0000000C   0099               LDR         R1,[SP, #+0]
   \   0000000E   0D18               ADD         R5,R1,R0
   \   00000010   3818               ADD         R0,R7,R0
   \   00000012   0CC8               LDMIA       R0!,{R2,R3}
   \   00000014   0020               MOV         R0,#+0
   \   00000016   0749               LDR         R1,??rad2deg_3     ;; 0x40668000
   \   00000018   ........           _BLF        __dMul,??__dMul??rT
   \   0000001C   ....               LDR         R2,??DataTable2    ;; 0x53c8d4f1
   \   0000001E   064B               LDR         R3,??rad2deg_3+0x4  ;; 0x400921fb
   \   00000020   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000024   03C5               STMIA       R5!,{R0,R1}
    206          	}
   \   00000026   641C               ADD         R4,R4,#+1
   \                     ??rad2deg_1:
   \   00000028   2006               LSL         R0,R4,#+24
   \   0000002A   000E               LSR         R0,R0,#+24
   \   0000002C   B042               CMP         R0,R6
   \   0000002E   ECD3               BCC         ??rad2deg_2
    207          
    208          }	
   \   00000030   ........           BL          ??Subroutine27_0
   \                     ??rad2deg_3:
   \   00000034   00806640           DC32        0x40668000
   \   00000038   FB210940           DC32        0x400921fb
    209          
    210          /**********************************************************/
    211          /**********************************************************/

   \                                 In segment CODE, align 4, keep-with-next
    212          double compass_heading( double* euler, double * compass )
    213          {	
   \                     ??compass_heading:
   \   00000000   F0B5               PUSH        {R4-R7,LR}
   \   00000002   8CB0               SUB         SP,#+48
   \   00000004   021C               MOV         R2,R0
   \   00000006   0E1C               MOV         R6,R1
    214          	double compass_calib[2];
    215          	double yaw;
    216          
    217                  double phi = euler[0];
   \   00000008   6B46               MOV         R3,SP
   \   0000000A   03CA               LDMIA       R2!,{R0,R1}
   \   0000000C   03C3               STMIA       R3!,{R0,R1}
    218                  double theta = -euler[1];   
   \   0000000E   30CA               LDMIA       R2!,{R4,R5}
   \   00000010   8020               MOV         R0,#+128
   \   00000012   0006               LSL         R0,R0,#+24         ;; #-2147483648
   \   00000014   4540               EOR         R5,R0
    219                  double sp,cp,st,ct;
    220                  sp = sin(phi);
   \   00000016   0022               MOV         R2,#+0
   \   00000018   6846               MOV         R0,SP
   \   0000001A   03C8               LDMIA       R0!,{R0,R1}
   \   0000001C   ........           _BLF        _Sin,??_Sin??rT
   \   00000020   04AA               ADD         R2,SP,#+16
   \   00000022   03C2               STMIA       R2!,{R0,R1}
    221                  st = sin(theta);
   \   00000024   0022               MOV         R2,#+0
   \   00000026   201C               MOV         R0,R4
   \   00000028   291C               MOV         R1,R5
   \   0000002A   ........           _BLF        _Sin,??_Sin??rT
   \   0000002E   02AA               ADD         R2,SP,#+8
   \   00000030   03C2               STMIA       R2!,{R0,R1}
    222                  cp = cos(phi);
   \   00000032   0122               MOV         R2,#+1
   \   00000034   6846               MOV         R0,SP
   \   00000036   03C8               LDMIA       R0!,{R0,R1}
   \   00000038   ........           _BLF        _Sin,??_Sin??rT
   \   0000003C   06AA               ADD         R2,SP,#+24
   \   0000003E   03C2               STMIA       R2!,{R0,R1}
    223                  ct = cos(theta);    
   \   00000040   0122               MOV         R2,#+1
   \   00000042   201C               MOV         R0,R4
   \   00000044   291C               MOV         R1,R5
   \   00000046   ........           _BLF        _Sin,??_Sin??rT
   \   0000004A   6A46               MOV         R2,SP
   \   0000004C   03C2               STMIA       R2!,{R0,R1}
    224                //---------------------------------ÐÞ¸ÄÓÚ2014/7/28-------------------------------------------------      
    225          //        compass_calib[0] = compass[0]*cos(theta) + compass[1]*sin(phi)*sin(theta);
    226          //        compass_calib[1] = compass[1]*cos(phi);
    227                  compass_calib[0] =compass[0]*ct + compass[1]*sp*st - compass[2]*st*cp;
   \   0000004E   08AF               ADD         R7,SP,#+32
   \   00000050   301C               MOV         R0,R6
   \   00000052   1030               ADD         R0,#+16
   \   00000054   03C8               LDMIA       R0!,{R0,R1}
   \   00000056   0CCA               LDMIA       R2!,{R2,R3}
   \   00000058   ........           _BLF        __dMul,??__dMul??rT
   \   0000005C   021C               MOV         R2,R0
   \   0000005E   0B1C               MOV         R3,R1
   \   00000060   06A8               ADD         R0,SP,#+24
   \   00000062   03C8               LDMIA       R0!,{R0,R1}
   \   00000064   ........           _BLF        __dMul,??__dMul??rT
   \   00000068   021C               MOV         R2,R0
   \   0000006A   0B1C               MOV         R3,R1
   \   0000006C   0CB4               PUSH        {R2,R3}
   \   0000006E   301C               MOV         R0,R6
   \   00000070   0830               ADD         R0,#+8
   \   00000072   0CC8               LDMIA       R0!,{R2,R3}
   \   00000074   06A8               ADD         R0,SP,#+24
   \   00000076   03C8               LDMIA       R0!,{R0,R1}
   \   00000078   ........           _BLF        __dMul,??__dMul??rT
   \   0000007C   021C               MOV         R2,R0
   \   0000007E   0B1C               MOV         R3,R1
   \   00000080   04A8               ADD         R0,SP,#+16
   \   00000082   03C8               LDMIA       R0!,{R0,R1}
   \   00000084   ........           _BLF        __dMul,??__dMul??rT
   \   00000088   041C               MOV         R4,R0
   \   0000008A   0D1C               MOV         R5,R1
   \   0000008C   0CCE               LDMIA       R6!,{R2,R3}
   \   0000008E   083E               SUB         R6,#+8
   \   00000090   02A8               ADD         R0,SP,#+8
   \   00000092   03C8               LDMIA       R0!,{R0,R1}
   \   00000094   ........           _BLF        __dMul,??__dMul??rT
   \   00000098   221C               MOV         R2,R4
   \   0000009A   2B1C               MOV         R3,R5
   \   0000009C   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000A0   0CBC               POP         {R2,R3}
   \   000000A2   ........           _BLF        __dSub,??__dSub??rT
   \   000000A6   03C7               STMIA       R7!,{R0,R1}
    228                  compass_calib[1] = compass[1]*cp + compass[2]*sp;
   \   000000A8   301C               MOV         R0,R6
   \   000000AA   1030               ADD         R0,#+16
   \   000000AC   0CC8               LDMIA       R0!,{R2,R3}
   \   000000AE   04A8               ADD         R0,SP,#+16
   \   000000B0   03C8               LDMIA       R0!,{R0,R1}
   \   000000B2   ........           _BLF        __dMul,??__dMul??rT
   \   000000B6   041C               MOV         R4,R0
   \   000000B8   0D1C               MOV         R5,R1
   \   000000BA   0836               ADD         R6,#+8
   \   000000BC   03CE               LDMIA       R6!,{R0,R1}
   \   000000BE   06AA               ADD         R2,SP,#+24
   \   000000C0   0CCA               LDMIA       R2!,{R2,R3}
   \   000000C2   ........           _BLF        __dMul,??__dMul??rT
   \   000000C6   221C               MOV         R2,R4
   \   000000C8   2B1C               MOV         R3,R5
   \   000000CA   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000CE   041C               MOV         R4,R0
   \   000000D0   0D1C               MOV         R5,R1
   \   000000D2   08A8               ADD         R0,SP,#+32
   \   000000D4   0830               ADD         R0,#+8
   \   000000D6   30C0               STMIA       R0!,{R4,R5}
    229          //        compass_calib[0] =compass[0]*cos(theta) + compass[1]*sin(phi)*sin(theta) - compass[2]*sin(theta)*cos(phi);
    230          //        compass_calib[1] = compass[1]*cos(phi) + compass[2]*sin(phi);     
    231          //--------------------------------------------------------------------------------------------------------
    232          
    233          	if( compass_calib[0] != 0.000)   
   \   000000D8   08A8               ADD         R0,SP,#+32
   \   000000DA   0CC8               LDMIA       R0!,{R2,R3}
   \   000000DC   0020               MOV         R0,#+0
   \   000000DE   0021               MOV         R1,#+0
   \   000000E0   ........           _BLF        __dNotEqual,??__dNotEqual??rT
   \   000000E4   0028               CMP         R0,#+0
   \   000000E6   06D0               BEQ         ??compass_heading_1
    234                  {
    235          		yaw = atan2( compass_calib[1], compass_calib[0]);//*******¸ù¾Ýcompass°²×°Î»ÖÃÈ·¶¨ÊÇ·ñ¼ÓPI***********
   \   000000E8   08A8               ADD         R0,SP,#+32
   \   000000EA   0CC8               LDMIA       R0!,{R2,R3}
   \   000000EC   201C               MOV         R0,R4
   \   000000EE   291C               MOV         R1,R5
   \   000000F0   ........           _BLF        atan2,??atan2??rT
   \   000000F4   0BE0               B           ??compass_heading_2
    236          	}
    237                  else if ( compass_calib[1] < 0.000 )
   \                     ??compass_heading_1:
   \   000000F6   201C               MOV         R0,R4
   \   000000F8   291C               MOV         R1,R5
   \   000000FA   0022               MOV         R2,#+0
   \   000000FC   0023               MOV         R3,#+0
   \   000000FE   ........           _BLF        __dLess,??__dLess??rT
   \   00000102   0028               CMP         R0,#+0
   \   00000104   ....               LDR         R0,??DataTable2    ;; 0x53c8d4f1
   \   00000106   01D0               BEQ         ??compass_heading_3
    238                  {
    239          		yaw = -PI /2.0;
   \   00000108   0249               LDR         R1,??compass_heading_4  ;; 0xbff921fb
   \   0000010A   00E0               B           ??compass_heading_2
    240          	}
    241                  else
    242                  {
    243          	       	yaw = PI / 2.0;
   \                     ??compass_heading_3:
   \   0000010C   0249               LDR         R1,??compass_heading_4+0x4  ;; 0x3ff921fb
    244          	}
    245                 
    246                    
    247                  /*
    248                //--------------------------------
    249                 // double compass_all = sqrt( compass[0]*compass[0]+compass[1]*compass[1]+compass[2]*compass[2] );
    250                 compass_calib[0] = compass[0] * cos(theta) + compass[1] * sin(theta) *sin(phi)+ compass[2]*sin(theta)*cos(phi);
    251                 compass_calib[1] = compass[1] * cos(phi) *sin(phi)- compass[2]*sin(phi);
    252                 	if( compass_calib[0] != 0.00000)   {
    253          		yaw = atan2( compass_calib[1], compass_calib[0] );
    254          	}else if ( compass_calib[1] < 0.00000 ) {
    255          		yaw = -PI*3.0 /2.0;
    256                  }else {
    257          	       	yaw = PI / 2.0;
    258          	} 
    259                  
    260                  */
    261                  //-------------------------
    262          	return  yaw;
   \                     ??compass_heading_2:
   \   0000010E   0CB0               ADD         SP,#+48
   \   00000110   ....               B           ?Subroutine25
   \   00000112   C046               NOP         
   \                     ??compass_heading_4:
   \   00000114   FB21F9BF           DC32        0xbff921fb
   \   00000118   FB21F93F           DC32        0x3ff921fb
    263          }
    264          /**********************************************************************/
    265          /**********************************************************************/

   \                                 In segment DATA_Z, align 1, align-sorted
    266          unsigned char update_flag = 0;
   \                     update_flag:
   \   00000000                      DS8 1
    267          

   \                                 In segment CODE, align 4, keep-with-next
    268          void accel2euler( double* THETAm, const double* accel, double * compass  )
    269          {
   \                     ??accel2euler:
   \   00000000   F7B5               PUSH        {R0-R2,R4-R7,LR}
   \   00000002   061C               MOV         R6,R0
   \   00000004   0F1C               MOV         R7,R1
    270          
    271          	double g;
    272          
    273          	//g = sqrt( accel[0]*accel[0] + accel[1]*accel[1] + accel[2]*accel[2] );
    274                  g=accel_g;
   \   00000006   6A46               MOV         R2,SP
   \   00000008   1548               LDR         R0,??accel2euler_1  ;; accel_g
   \   0000000A   03C8               LDMIA       R0!,{R0,R1}
   \   0000000C   03C2               STMIA       R2!,{R0,R1}
    275                  
    276          	THETAm[0] =  atan2( accel[ 1 ],  accel[ 2 ] );
   \   0000000E   381C               MOV         R0,R7
   \   00000010   1030               ADD         R0,#+16
   \   00000012   0CC8               LDMIA       R0!,{R2,R3}
   \   00000014   381C               MOV         R0,R7
   \   00000016   0830               ADD         R0,#+8
   \   00000018   03C8               LDMIA       R0!,{R0,R1}
   \   0000001A   ........           _BLF        atan2,??atan2??rT
   \   0000001E   03C6               STMIA       R6!,{R0,R1}
   \   00000020   083E               SUB         R6,#+8
    277          
    278          	THETAm[1] =  -asin( limit( accel[ 0 ] / g, -1, 1 ) );   
   \   00000022   0020               MOV         R0,#+0
   \   00000024   ....               LDR         R1,??DataTable6    ;; 0x3ff00000
   \   00000026   03B4               PUSH        {R0,R1}
   \   00000028   0E4B               LDR         R3,??accel2euler_1+0x4  ;; 0xbff00000
   \   0000002A   0024               MOV         R4,#+0
   \   0000002C   1D1C               MOV         R5,R3
   \   0000002E   03CF               LDMIA       R7!,{R0,R1}
   \   00000030   02AA               ADD         R2,SP,#+8
   \   00000032   0CCA               LDMIA       R2!,{R2,R3}
   \   00000034   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000038   221C               MOV         R2,R4
   \   0000003A   2B1C               MOV         R3,R5
   \   0000003C   ........           BL          ??limit
   \   00000040   ........           _BLF        asin,??asin??rT
   \   00000044   8022               MOV         R2,#+128
   \   00000046   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   00000048   5140               EOR         R1,R2
   \   0000004A   321C               MOV         R2,R6
   \   0000004C   0832               ADD         R2,#+8
   \   0000004E   03C2               STMIA       R2!,{R0,R1}
    279          	
    280          	THETAm[2] =   compass_heading( THETAm, compass ) ;
   \   00000050   0499               LDR         R1,[SP, #+16]
   \   00000052   301C               MOV         R0,R6
   \   00000054   ........           BL          ??compass_heading
   \   00000058   1036               ADD         R6,#+16
   \   0000005A   03C6               STMIA       R6!,{R0,R1}
    281          }
   \   0000005C   05B0               ADD         SP,#+20
   \   0000005E   ....               B           ??Subroutine26_0
   \                     ??accel2euler_1:
   \   00000060   ........           DC32        accel_g
   \   00000064   0000F0BF           DC32        0xbff00000
    282          
    283          
    284          /**********************************************************/
    285          /**********************************************************/
    286          

   \                                 In segment CODE, align 4, keep-with-next
    287          void quat2dcv( double* DCV, const double* q )
    288          {
   \                     ??quat2dcv:
   \   00000000   F0B5               PUSH        {R4-R7,LR}
   \   00000002   051C               MOV         R5,R0
   \   00000004   0C1C               MOV         R4,R1
    289          	DCV[0] =     2*(q[1]*q[3] - q[0]*q[2]);
   \   00000006   03CC               LDMIA       R4!,{R0,R1}
   \   00000008   083C               SUB         R4,#+8
   \   0000000A   221C               MOV         R2,R4
   \   0000000C   1032               ADD         R2,#+16
   \   0000000E   0CCA               LDMIA       R2!,{R2,R3}
   \   00000010   ........           _BLF        __dMul,??__dMul??rT
   \   00000014   061C               MOV         R6,R0
   \   00000016   0F1C               MOV         R7,R1
   \   00000018   201C               MOV         R0,R4
   \   0000001A   0830               ADD         R0,#+8
   \   0000001C   0CC8               LDMIA       R0!,{R2,R3}
   \   0000001E   201C               MOV         R0,R4
   \   00000020   1830               ADD         R0,#+24
   \   00000022   03C8               LDMIA       R0!,{R0,R1}
   \   00000024   ........           _BLF        __dMul,??__dMul??rT
   \   00000028   321C               MOV         R2,R6
   \   0000002A   3B1C               MOV         R3,R7
   \   0000002C   ........           _BLF        __dSub,??__dSub??rT
   \   00000030   021C               MOV         R2,R0
   \   00000032   0B1C               MOV         R3,R1
   \   00000034   0020               MOV         R0,#+0
   \   00000036   8021               MOV         R1,#+128
   \   00000038   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   0000003A   ........           _BLF        __dMul,??__dMul??rT
   \   0000003E   03C5               STMIA       R5!,{R0,R1}
   \   00000040   083D               SUB         R5,#+8
    290          	DCV[1] =     2*(q[2]*q[3] + q[0]*q[1]);
   \   00000042   2A1C               MOV         R2,R5
   \   00000044   0832               ADD         R2,#+8
   \   00000046   04B4               PUSH        {R2}
   \   00000048   0CCC               LDMIA       R4!,{R2,R3}
   \   0000004A   083C               SUB         R4,#+8
   \   0000004C   201C               MOV         R0,R4
   \   0000004E   0830               ADD         R0,#+8
   \   00000050   03C8               LDMIA       R0!,{R0,R1}
   \   00000052   ........           _BLF        __dMul,??__dMul??rT
   \   00000056   061C               MOV         R6,R0
   \   00000058   0F1C               MOV         R7,R1
   \   0000005A   201C               MOV         R0,R4
   \   0000005C   1030               ADD         R0,#+16
   \   0000005E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000060   201C               MOV         R0,R4
   \   00000062   1830               ADD         R0,#+24
   \   00000064   03C8               LDMIA       R0!,{R0,R1}
   \   00000066   ........           _BLF        __dMul,??__dMul??rT
   \   0000006A   321C               MOV         R2,R6
   \   0000006C   3B1C               MOV         R3,R7
   \   0000006E   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000072   021C               MOV         R2,R0
   \   00000074   0B1C               MOV         R3,R1
   \   00000076   0020               MOV         R0,#+0
   \   00000078   8021               MOV         R1,#+128
   \   0000007A   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   0000007C   ........           _BLF        __dMul,??__dMul??rT
   \   00000080   04BC               POP         {R2}
   \   00000082   03C2               STMIA       R2!,{R0,R1}
    291          	DCV[2] = 1.0-2*(q[1]*q[1] + q[2]*q[2]);
   \   00000084   1035               ADD         R5,#+16
   \   00000086   201C               MOV         R0,R4
   \   00000088   1030               ADD         R0,#+16
   \   0000008A   03C8               LDMIA       R0!,{R0,R1}
   \   0000008C   221C               MOV         R2,R4
   \   0000008E   1032               ADD         R2,#+16
   \   00000090   0CCA               LDMIA       R2!,{R2,R3}
   \   00000092   ........           _BLF        __dMul,??__dMul??rT
   \   00000096   061C               MOV         R6,R0
   \   00000098   0F1C               MOV         R7,R1
   \   0000009A   201C               MOV         R0,R4
   \   0000009C   0830               ADD         R0,#+8
   \   0000009E   0CC8               LDMIA       R0!,{R2,R3}
   \   000000A0   0834               ADD         R4,#+8
   \   000000A2   03CC               LDMIA       R4!,{R0,R1}
   \   000000A4   ........           _BLF        __dMul,??__dMul??rT
   \   000000A8   321C               MOV         R2,R6
   \   000000AA   3B1C               MOV         R3,R7
   \   000000AC   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000B0   0022               MOV         R2,#+0
   \   000000B2   8023               MOV         R3,#+128
   \   000000B4   DB05               LSL         R3,R3,#+23         ;; #+1073741824
   \   000000B6   ........           _BLF        __dMul,??__dMul??rT
   \   000000BA   021C               MOV         R2,R0
   \   000000BC   0B1C               MOV         R3,R1
   \   000000BE   0020               MOV         R0,#+0
   \   000000C0   ....               LDR         R1,??DataTable6    ;; 0x3ff00000
   \   000000C2   ........           _BLF        __dSub,??__dSub??rT
   \   000000C6   ....               B           ?Subroutine26
    292          }
    293          
    294          /**********************************************************/
    295          /**********************************************************/
    296          

   \                                 In segment CODE, align 4, keep-with-next
    297          void dcv2euler( double* THETAe, const double* DCV )
    298          {
   \                     ??dcv2euler:
   \   00000000   30B5               PUSH        {R4,R5,LR}
   \   00000002   051C               MOV         R5,R0
   \   00000004   0C1C               MOV         R4,R1
    299          #ifdef __AVR__
    300          		THETAe[0] = atan2( DCV[2], DCV[1] );
    301          #else
    302          		THETAe[0] = atan2( DCV[1], DCV[2] );
   \   00000006   081C               MOV         R0,R1
   \   00000008   1030               ADD         R0,#+16
   \   0000000A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000000C   081C               MOV         R0,R1
   \   0000000E   0830               ADD         R0,#+8
   \   00000010   03C8               LDMIA       R0!,{R0,R1}
   \   00000012   ........           _BLF        atan2,??atan2??rT
   \   00000016   03C5               STMIA       R5!,{R0,R1}
    303          #endif
    304          
    305          		THETAe[1] = -asin( DCV[0] );
   \   00000018   03CC               LDMIA       R4!,{R0,R1}
   \   0000001A   ........           _BLF        asin,??asin??rT
   \   0000001E   8022               MOV         R2,#+128
   \   00000020   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   00000022   5140               EOR         R1,R2
   \   00000024   03C5               STMIA       R5!,{R0,R1}
    306          				
    307          }
   \   00000026   30BC               POP         {R4,R5}
   \   00000028   01BC               POP         {R0}
   \   0000002A   0047               BX          R0                 ;; return
    308          
    309          /**********************************************************/
    310          /**********************************************************/
    311          

   \                                 In segment CODE, align 4, keep-with-next
    312          void quat2euler( double* THETAe, const double * quat )
    313          {
   \                     ??quat2euler:
   \   00000000   F0B5               PUSH        {R4-R7,LR}
   \   00000002   051C               MOV         R5,R0
   \   00000004   0C1C               MOV         R4,R1
    314          	THETAe[0] = atan2( 2 * (quat[2] * quat[3] + quat[0] * quat[1] ),\
    315          				1 - 2 * (quat[1] * quat[1] + quat[2] * quat[2] ) );
   \   00000006   081C               MOV         R0,R1
   \   00000008   1030               ADD         R0,#+16
   \   0000000A   03C8               LDMIA       R0!,{R0,R1}
   \   0000000C   221C               MOV         R2,R4
   \   0000000E   1032               ADD         R2,#+16
   \   00000010   0CCA               LDMIA       R2!,{R2,R3}
   \   00000012   ........           _BLF        __dMul,??__dMul??rT
   \   00000016   061C               MOV         R6,R0
   \   00000018   0F1C               MOV         R7,R1
   \   0000001A   201C               MOV         R0,R4
   \   0000001C   0830               ADD         R0,#+8
   \   0000001E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000020   201C               MOV         R0,R4
   \   00000022   0830               ADD         R0,#+8
   \   00000024   03C8               LDMIA       R0!,{R0,R1}
   \   00000026   ........           _BLF        __dMul,??__dMul??rT
   \   0000002A   321C               MOV         R2,R6
   \   0000002C   3B1C               MOV         R3,R7
   \   0000002E   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000032   021C               MOV         R2,R0
   \   00000034   0B1C               MOV         R3,R1
   \   00000036   0020               MOV         R0,#+0
   \   00000038   8021               MOV         R1,#+128
   \   0000003A   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   0000003C   ........           _BLF        __dMul,??__dMul??rT
   \   00000040   021C               MOV         R2,R0
   \   00000042   0B1C               MOV         R3,R1
   \   00000044   0020               MOV         R0,#+0
   \   00000046   ....               LDR         R1,??DataTable6    ;; 0x3ff00000
   \   00000048   ........           _BLF        __dSub,??__dSub??rT
   \   0000004C   021C               MOV         R2,R0
   \   0000004E   0B1C               MOV         R3,R1
   \   00000050   0CB4               PUSH        {R2,R3}
   \   00000052   0CCC               LDMIA       R4!,{R2,R3}
   \   00000054   083C               SUB         R4,#+8
   \   00000056   201C               MOV         R0,R4
   \   00000058   0830               ADD         R0,#+8
   \   0000005A   03C8               LDMIA       R0!,{R0,R1}
   \   0000005C   ........           _BLF        __dMul,??__dMul??rT
   \   00000060   061C               MOV         R6,R0
   \   00000062   0F1C               MOV         R7,R1
   \   00000064   201C               MOV         R0,R4
   \   00000066   1030               ADD         R0,#+16
   \   00000068   0CC8               LDMIA       R0!,{R2,R3}
   \   0000006A   201C               MOV         R0,R4
   \   0000006C   1830               ADD         R0,#+24
   \   0000006E   03C8               LDMIA       R0!,{R0,R1}
   \   00000070   ........           _BLF        __dMul,??__dMul??rT
   \   00000074   321C               MOV         R2,R6
   \   00000076   3B1C               MOV         R3,R7
   \   00000078   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000007C   021C               MOV         R2,R0
   \   0000007E   0B1C               MOV         R3,R1
   \   00000080   0020               MOV         R0,#+0
   \   00000082   8021               MOV         R1,#+128
   \   00000084   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   00000086   ........           _BLF        __dMul,??__dMul??rT
   \   0000008A   0CBC               POP         {R2,R3}
   \   0000008C   ........           _BLF        atan2,??atan2??rT
   \   00000090   03C5               STMIA       R5!,{R0,R1}
   \   00000092   083D               SUB         R5,#+8
    316          		
    317          	THETAe[1] =  -asin( 2 * ( quat[1] * quat[3] - quat[0] * quat[2] ) );
   \   00000094   03CC               LDMIA       R4!,{R0,R1}
   \   00000096   083C               SUB         R4,#+8
   \   00000098   221C               MOV         R2,R4
   \   0000009A   1032               ADD         R2,#+16
   \   0000009C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000009E   ........           _BLF        __dMul,??__dMul??rT
   \   000000A2   061C               MOV         R6,R0
   \   000000A4   0F1C               MOV         R7,R1
   \   000000A6   201C               MOV         R0,R4
   \   000000A8   0830               ADD         R0,#+8
   \   000000AA   0CC8               LDMIA       R0!,{R2,R3}
   \   000000AC   201C               MOV         R0,R4
   \   000000AE   1830               ADD         R0,#+24
   \   000000B0   03C8               LDMIA       R0!,{R0,R1}
   \   000000B2   ........           _BLF        __dMul,??__dMul??rT
   \   000000B6   321C               MOV         R2,R6
   \   000000B8   3B1C               MOV         R3,R7
   \   000000BA   ........           _BLF        __dSub,??__dSub??rT
   \   000000BE   021C               MOV         R2,R0
   \   000000C0   0B1C               MOV         R3,R1
   \   000000C2   0020               MOV         R0,#+0
   \   000000C4   8021               MOV         R1,#+128
   \   000000C6   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   000000C8   ........           _BLF        __dMul,??__dMul??rT
   \   000000CC   ........           _BLF        asin,??asin??rT
   \   000000D0   8022               MOV         R2,#+128
   \   000000D2   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   000000D4   5140               EOR         R1,R2
   \   000000D6   2A1C               MOV         R2,R5
   \   000000D8   0832               ADD         R2,#+8
   \   000000DA   03C2               STMIA       R2!,{R0,R1}
    318          				
    319          	THETAe[2] = atan2( 2 * ( quat[1] * quat[2] + quat[0] * quat[3] ), \
    320          				1 - 2 * ( quat[2] * quat[2] + quat[3] * quat[3] ) );
   \   000000DC   201C               MOV         R0,R4
   \   000000DE   1830               ADD         R0,#+24
   \   000000E0   03C8               LDMIA       R0!,{R0,R1}
   \   000000E2   221C               MOV         R2,R4
   \   000000E4   1832               ADD         R2,#+24
   \   000000E6   0CCA               LDMIA       R2!,{R2,R3}
   \   000000E8   ........           _BLF        __dMul,??__dMul??rT
   \   000000EC   061C               MOV         R6,R0
   \   000000EE   0F1C               MOV         R7,R1
   \   000000F0   201C               MOV         R0,R4
   \   000000F2   1030               ADD         R0,#+16
   \   000000F4   0CC8               LDMIA       R0!,{R2,R3}
   \   000000F6   201C               MOV         R0,R4
   \   000000F8   1030               ADD         R0,#+16
   \   000000FA   03C8               LDMIA       R0!,{R0,R1}
   \   000000FC   ........           _BLF        __dMul,??__dMul??rT
   \   00000100   321C               MOV         R2,R6
   \   00000102   3B1C               MOV         R3,R7
   \   00000104   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000108   021C               MOV         R2,R0
   \   0000010A   0B1C               MOV         R3,R1
   \   0000010C   0020               MOV         R0,#+0
   \   0000010E   8021               MOV         R1,#+128
   \   00000110   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   00000112   ........           _BLF        __dMul,??__dMul??rT
   \   00000116   021C               MOV         R2,R0
   \   00000118   0B1C               MOV         R3,R1
   \   0000011A   0020               MOV         R0,#+0
   \   0000011C   ....               LDR         R1,??DataTable6    ;; 0x3ff00000
   \   0000011E   ........           _BLF        __dSub,??__dSub??rT
   \   00000122   021C               MOV         R2,R0
   \   00000124   0B1C               MOV         R3,R1
   \   00000126   0CB4               PUSH        {R2,R3}
   \   00000128   0CCC               LDMIA       R4!,{R2,R3}
   \   0000012A   083C               SUB         R4,#+8
   \   0000012C   201C               MOV         R0,R4
   \   0000012E   1830               ADD         R0,#+24
   \   00000130   03C8               LDMIA       R0!,{R0,R1}
   \   00000132   ........           _BLF        __dMul,??__dMul??rT
   \   00000136   061C               MOV         R6,R0
   \   00000138   0F1C               MOV         R7,R1
   \   0000013A   201C               MOV         R0,R4
   \   0000013C   0830               ADD         R0,#+8
   \   0000013E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000140   1034               ADD         R4,#+16
   \   00000142   03CC               LDMIA       R4!,{R0,R1}
   \   00000144   ........           _BLF        __dMul,??__dMul??rT
   \   00000148   321C               MOV         R2,R6
   \   0000014A   3B1C               MOV         R3,R7
   \   0000014C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000150   021C               MOV         R2,R0
   \   00000152   0B1C               MOV         R3,R1
   \   00000154   0020               MOV         R0,#+0
   \   00000156   8021               MOV         R1,#+128
   \   00000158   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   0000015A   ........           _BLF        __dMul,??__dMul??rT
   \   0000015E   0CBC               POP         {R2,R3}
   \   00000160   ........           _BLF        atan2,??atan2??rT
   \   00000164   1035               ADD         R5,#+16
   \   00000166   C046               NOP         
   \   00000168                      REQUIRE ?Subroutine26
   \   00000168                      ;; // Fall through to label ?Subroutine26
    321          }
    322          
    323          /**********************************************************/
    324          /**********************************************************/
    325          

   \                                 In segment CODE, align 4, keep-with-next
    326          void euler2quat( double* quat, const double* myeuler )
    327          {
   \                     ??euler2quat:
   \   00000000   F1B5               PUSH        {R0,R4-R7,LR}
   \   00000002   94B0               SUB         SP,#+80
   \   00000004   0C1C               MOV         R4,R1
    328          	const double phi   = myeuler[0] / 2.0;
   \   00000006   03CC               LDMIA       R4!,{R0,R1}
   \   00000008   083C               SUB         R4,#+8
   \   0000000A   0022               MOV         R2,#+0
   \   0000000C   8023               MOV         R3,#+128
   \   0000000E   DB05               LSL         R3,R3,#+23         ;; #+1073741824
   \   00000010   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000014   061C               MOV         R6,R0
   \   00000016   0F1C               MOV         R7,R1
    329          	const double theta = myeuler[1] / 2.0;
   \   00000018   04AD               ADD         R5,SP,#+16
   \   0000001A   201C               MOV         R0,R4
   \   0000001C   0830               ADD         R0,#+8
   \   0000001E   03C8               LDMIA       R0!,{R0,R1}
   \   00000020   0022               MOV         R2,#+0
   \   00000022   8023               MOV         R3,#+128
   \   00000024   DB05               LSL         R3,R3,#+23         ;; #+1073741824
   \   00000026   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000002A   03C5               STMIA       R5!,{R0,R1}
    330          	const double psi   = myeuler[2] / 2.0;
   \   0000002C   1034               ADD         R4,#+16
   \   0000002E   03CC               LDMIA       R4!,{R0,R1}
   \   00000030   0022               MOV         R2,#+0
   \   00000032   8023               MOV         R3,#+128
   \   00000034   DB05               LSL         R3,R3,#+23         ;; #+1073741824
   \   00000036   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000003A   03C5               STMIA       R5!,{R0,R1}
    331          					
    332          	const double shphi0   = sin( phi );
   \   0000003C   0022               MOV         R2,#+0
   \   0000003E   301C               MOV         R0,R6
   \   00000040   391C               MOV         R1,R7
   \   00000042   ........           _BLF        _Sin,??_Sin??rT
   \   00000046   0CAA               ADD         R2,SP,#+48
   \   00000048   03C2               STMIA       R2!,{R0,R1}
    333          	const double chphi0   = cos( phi );
   \   0000004A   0122               MOV         R2,#+1
   \   0000004C   301C               MOV         R0,R6
   \   0000004E   391C               MOV         R1,R7
   \   00000050   ........           _BLF        _Sin,??_Sin??rT
   \   00000054   08AA               ADD         R2,SP,#+32
   \   00000056   03C2               STMIA       R2!,{R0,R1}
    334          							
    335          	const double shtheta0 = sin( theta );
   \   00000058   0022               MOV         R2,#+0
   \   0000005A   04A8               ADD         R0,SP,#+16
   \   0000005C   03C8               LDMIA       R0!,{R0,R1}
   \   0000005E   ........           _BLF        _Sin,??_Sin??rT
   \   00000062   0AAA               ADD         R2,SP,#+40
   \   00000064   03C2               STMIA       R2!,{R0,R1}
    336          	const double chtheta0 = cos (theta );
   \   00000066   0122               MOV         R2,#+1
   \   00000068   04A8               ADD         R0,SP,#+16
   \   0000006A   03C8               LDMIA       R0!,{R0,R1}
   \   0000006C   ........           _BLF        _Sin,??_Sin??rT
   \   00000070   041C               MOV         R4,R0
   \   00000072   0D1C               MOV         R5,R1
    337          									
    338          	const double shpsi0   = sin( psi );
   \   00000074   0022               MOV         R2,#+0
   \   00000076   06A8               ADD         R0,SP,#+24
   \   00000078   03C8               LDMIA       R0!,{R0,R1}
   \   0000007A   ........           _BLF        _Sin,??_Sin??rT
   \   0000007E   6A46               MOV         R2,SP
   \   00000080   03C2               STMIA       R2!,{R0,R1}
    339          	const double chpsi0   = cos( psi );
   \   00000082   0122               MOV         R2,#+1
   \   00000084   06A8               ADD         R0,SP,#+24
   \   00000086   03C8               LDMIA       R0!,{R0,R1}
   \   00000088   ........           _BLF        _Sin,??_Sin??rT
   \   0000008C   02AA               ADD         R2,SP,#+8
   \   0000008E   03C2               STMIA       R2!,{R0,R1}
    340          											
    341          	quat[0] =  chphi0 * chtheta0 * chpsi0 + shphi0 * shtheta0 * shpsi0;
   \   00000090   0EAE               ADD         R6,SP,#+56
   \   00000092   0CA8               ADD         R0,SP,#+48
   \   00000094   0CC8               LDMIA       R0!,{R2,R3}
   \   00000096   0AA8               ADD         R0,SP,#+40
   \   00000098   03C8               LDMIA       R0!,{R0,R1}
   \   0000009A   ........           _BLF        __dMul,??__dMul??rT
   \   0000009E   03C6               STMIA       R6!,{R0,R1}
   \   000000A0   08A8               ADD         R0,SP,#+32
   \   000000A2   03C8               LDMIA       R0!,{R0,R1}
   \   000000A4   221C               MOV         R2,R4
   \   000000A6   2B1C               MOV         R3,R5
   \   000000A8   ........           _BLF        __dMul,??__dMul??rT
   \   000000AC   03C6               STMIA       R6!,{R0,R1}
   \   000000AE   149A               LDR         R2,[SP, #+80]
   \   000000B0   04B4               PUSH        {R2}
   \   000000B2   0FA8               ADD         R0,SP,#+60
   \   000000B4   0CC8               LDMIA       R0!,{R2,R3}
   \   000000B6   01A8               ADD         R0,SP,#+4
   \   000000B8   03C8               LDMIA       R0!,{R0,R1}
   \   000000BA   ........           _BLF        __dMul,??__dMul??rT
   \   000000BE   061C               MOV         R6,R0
   \   000000C0   0F1C               MOV         R7,R1
   \   000000C2   11A8               ADD         R0,SP,#+68
   \   000000C4   0CC8               LDMIA       R0!,{R2,R3}
   \   000000C6   03A8               ADD         R0,SP,#+12
   \   000000C8   03C8               LDMIA       R0!,{R0,R1}
   \   000000CA   ........           _BLF        __dMul,??__dMul??rT
   \   000000CE   321C               MOV         R2,R6
   \   000000D0   3B1C               MOV         R3,R7
   \   000000D2   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000D6   04BC               POP         {R2}
   \   000000D8   03C2               STMIA       R2!,{R0,R1}
    342          	quat[1] = -chphi0 * shtheta0 * shpsi0 + shphi0 * chtheta0 * chpsi0;
   \   000000DA   12AE               ADD         R6,SP,#+72
   \   000000DC   08A8               ADD         R0,SP,#+32
   \   000000DE   0CC8               LDMIA       R0!,{R2,R3}
   \   000000E0   03C8               LDMIA       R0!,{R0,R1}
   \   000000E2   ........           _BLF        __dMul,??__dMul??rT
   \   000000E6   03C6               STMIA       R6!,{R0,R1}
   \   000000E8   0CA8               ADD         R0,SP,#+48
   \   000000EA   03C8               LDMIA       R0!,{R0,R1}
   \   000000EC   221C               MOV         R2,R4
   \   000000EE   2B1C               MOV         R3,R5
   \   000000F0   ........           _BLF        __dMul,??__dMul??rT
   \   000000F4   041C               MOV         R4,R0
   \   000000F6   0D1C               MOV         R5,R1
   \   000000F8   149A               LDR         R2,[SP, #+80]
   \   000000FA   0832               ADD         R2,#+8
   \   000000FC   04B4               PUSH        {R2}
   \   000000FE   13A8               ADD         R0,SP,#+76
   \   00000100   0CC8               LDMIA       R0!,{R2,R3}
   \   00000102   01A8               ADD         R0,SP,#+4
   \   00000104   03C8               LDMIA       R0!,{R0,R1}
   \   00000106   ........           _BLF        __dMul,??__dMul??rT
   \   0000010A   061C               MOV         R6,R0
   \   0000010C   0F1C               MOV         R7,R1
   \   0000010E   03A8               ADD         R0,SP,#+12
   \   00000110   03C8               LDMIA       R0!,{R0,R1}
   \   00000112   221C               MOV         R2,R4
   \   00000114   2B1C               MOV         R3,R5
   \   00000116   ........           _BLF        __dMul,??__dMul??rT
   \   0000011A   321C               MOV         R2,R6
   \   0000011C   3B1C               MOV         R3,R7
   \   0000011E   ........           _BLF        __dSub,??__dSub??rT
   \   00000122   04BC               POP         {R2}
   \   00000124   03C2               STMIA       R2!,{R0,R1}
    343          	quat[2] =  chphi0 * shtheta0 * chpsi0 + shphi0 * chtheta0 * shpsi0;
   \   00000126   149E               LDR         R6,[SP, #+80]
   \   00000128   1036               ADD         R6,#+16
   \   0000012A   6846               MOV         R0,SP
   \   0000012C   03C8               LDMIA       R0!,{R0,R1}
   \   0000012E   221C               MOV         R2,R4
   \   00000130   2B1C               MOV         R3,R5
   \   00000132   ........           _BLF        __dMul,??__dMul??rT
   \   00000136   041C               MOV         R4,R0
   \   00000138   0D1C               MOV         R5,R1
   \   0000013A   12A8               ADD         R0,SP,#+72
   \   0000013C   0CC8               LDMIA       R0!,{R2,R3}
   \   0000013E   02A8               ADD         R0,SP,#+8
   \   00000140   03C8               LDMIA       R0!,{R0,R1}
   \   00000142   ........           _BLF        __dMul,??__dMul??rT
   \   00000146   221C               MOV         R2,R4
   \   00000148   2B1C               MOV         R3,R5
   \   0000014A   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000014E   03C6               STMIA       R6!,{R0,R1}
    344          	quat[3] =  chphi0 * chtheta0 * shpsi0 - shphi0 * shtheta0 * chpsi0;
   \   00000150   149E               LDR         R6,[SP, #+80]
   \   00000152   1836               ADD         R6,#+24
   \   00000154   0EA8               ADD         R0,SP,#+56
   \   00000156   0CC8               LDMIA       R0!,{R2,R3}
   \   00000158   02A8               ADD         R0,SP,#+8
   \   0000015A   03C8               LDMIA       R0!,{R0,R1}
   \   0000015C   ........           _BLF        __dMul,??__dMul??rT
   \   00000160   041C               MOV         R4,R0
   \   00000162   0D1C               MOV         R5,R1
   \   00000164   10A8               ADD         R0,SP,#+64
   \   00000166   0CC8               LDMIA       R0!,{R2,R3}
   \   00000168   6846               MOV         R0,SP
   \   0000016A   03C8               LDMIA       R0!,{R0,R1}
   \   0000016C   ........           _BLF        __dMul,??__dMul??rT
   \   00000170   221C               MOV         R2,R4
   \   00000172   2B1C               MOV         R3,R5
   \   00000174   ........           _BLF        __dSub,??__dSub??rT
   \   00000178   03C6               STMIA       R6!,{R0,R1}
    345          }
   \   0000017A   15B0               ADD         SP,#+84
   \   0000017C   ....               B           ??Subroutine26_0
    346          
    347          /**********************************************************/
    348          /**********************************************************/
    349          

   \                                 In segment CODE, align 4, keep-with-next
    350          void invert2( double (*A)[2] )
    351          {
   \                     ??invert2:
   \   00000000   F3B5               PUSH        {R0,R1,R4-R7,LR}
   \   00000002   061C               MOV         R6,R0
    352             double det = A[0][0] * A[1][1] - A[0][1] * A[1][0];
   \   00000004   0830               ADD         R0,#+8
   \   00000006   0CC8               LDMIA       R0!,{R2,R3}
   \   00000008   301C               MOV         R0,R6
   \   0000000A   1030               ADD         R0,#+16
   \   0000000C   03C8               LDMIA       R0!,{R0,R1}
   \   0000000E   ........           _BLF        __dMul,??__dMul??rT
   \   00000012   041C               MOV         R4,R0
   \   00000014   0D1C               MOV         R5,R1
   \   00000016   0CCE               LDMIA       R6!,{R2,R3}
   \   00000018   083E               SUB         R6,#+8
   \   0000001A   301C               MOV         R0,R6
   \   0000001C   1830               ADD         R0,#+24
   \   0000001E   03C8               LDMIA       R0!,{R0,R1}
   \   00000020   ........           _BLF        __dMul,??__dMul??rT
   \   00000024   221C               MOV         R2,R4
   \   00000026   2B1C               MOV         R3,R5
   \   00000028   ........           _BLF        __dSub,??__dSub??rT
   \   0000002C   041C               MOV         R4,R0
   \   0000002E   0D1C               MOV         R5,R1
    353             double temp = A[0][0];			
   \   00000030   6A46               MOV         R2,SP
   \   00000032   03CE               LDMIA       R6!,{R0,R1}
   \   00000034   083E               SUB         R6,#+8
   \   00000036   03C2               STMIA       R2!,{R0,R1}
    354          
    355             A[0][0] = A[1][1] / det;
   \   00000038   301C               MOV         R0,R6
   \   0000003A   1830               ADD         R0,#+24
   \   0000003C   03C8               LDMIA       R0!,{R0,R1}
   \   0000003E   221C               MOV         R2,R4
   \   00000040   2B1C               MOV         R3,R5
   \   00000042   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000046   03C6               STMIA       R6!,{R0,R1}
   \   00000048   083E               SUB         R6,#+8
    356             A[1][1] = temp /det;
   \   0000004A   371C               MOV         R7,R6
   \   0000004C   1837               ADD         R7,#+24
   \   0000004E   6846               MOV         R0,SP
   \   00000050   03C8               LDMIA       R0!,{R0,R1}
   \   00000052   221C               MOV         R2,R4
   \   00000054   2B1C               MOV         R3,R5
   \   00000056   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000005A   03C7               STMIA       R7!,{R0,R1}
    357             A[0][1] /= -det;
   \   0000005C   371C               MOV         R7,R6
   \   0000005E   0837               ADD         R7,#+8
   \   00000060   301C               MOV         R0,R6
   \   00000062   0830               ADD         R0,#+8
   \   00000064   03C8               LDMIA       R0!,{R0,R1}
   \   00000066   221C               MOV         R2,R4
   \   00000068   2B1C               MOV         R3,R5
   \   0000006A   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000006E   8022               MOV         R2,#+128
   \   00000070   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   00000072   5140               EOR         R1,R2
   \   00000074   03C7               STMIA       R7!,{R0,R1}
    358             A[1][0] /= -det;
   \   00000076   371C               MOV         R7,R6
   \   00000078   1037               ADD         R7,#+16
   \   0000007A   1036               ADD         R6,#+16
   \   0000007C   03CE               LDMIA       R6!,{R0,R1}
   \   0000007E   221C               MOV         R2,R4
   \   00000080   2B1C               MOV         R3,R5
   \   00000082   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000086   8022               MOV         R2,#+128
   \   00000088   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   0000008A   5140               EOR         R1,R2
   \   0000008C   03C7               STMIA       R7!,{R0,R1}
    359          }
   \   0000008E   FCBC               POP         {R2-R7}
   \   00000090   01BC               POP         {R0}
   \   00000092   0047               BX          R0                 ;; return
    360          
    361          /**********************************************************/
    362          /**********************************************************/
    363          

   \                                 In segment CODE, align 4, keep-with-next
    364          void quat2DCM( double (*DD)[3], const double* quat )
    365          {
   \                     ??quat2DCM:
   \   00000000   F1B5               PUSH        {R0,R4-R7,LR}
   \   00000002   0C1C               MOV         R4,R1
    366          	DD[0][0] = 1 - 2 * ( quat[2]*quat[2] + quat[3]*quat[3] );
   \   00000004   051C               MOV         R5,R0
   \   00000006   081C               MOV         R0,R1
   \   00000008   1830               ADD         R0,#+24
   \   0000000A   03C8               LDMIA       R0!,{R0,R1}
   \   0000000C   221C               MOV         R2,R4
   \   0000000E   1832               ADD         R2,#+24
   \   00000010   0CCA               LDMIA       R2!,{R2,R3}
   \   00000012   ........           _BLF        __dMul,??__dMul??rT
   \   00000016   061C               MOV         R6,R0
   \   00000018   0F1C               MOV         R7,R1
   \   0000001A   201C               MOV         R0,R4
   \   0000001C   1030               ADD         R0,#+16
   \   0000001E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000020   201C               MOV         R0,R4
   \   00000022   1030               ADD         R0,#+16
   \   00000024   03C8               LDMIA       R0!,{R0,R1}
   \   00000026   ........           _BLF        __dMul,??__dMul??rT
   \   0000002A   321C               MOV         R2,R6
   \   0000002C   3B1C               MOV         R3,R7
   \   0000002E   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000032   021C               MOV         R2,R0
   \   00000034   0B1C               MOV         R3,R1
   \   00000036   0020               MOV         R0,#+0
   \   00000038   8021               MOV         R1,#+128
   \   0000003A   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   0000003C   ........           _BLF        __dMul,??__dMul??rT
   \   00000040   021C               MOV         R2,R0
   \   00000042   0B1C               MOV         R3,R1
   \   00000044   0020               MOV         R0,#+0
   \   00000046   ....               LDR         R1,??DataTable10   ;; 0x3ff00000
   \   00000048   ........           _BLF        __dSub,??__dSub??rT
   \   0000004C   03C5               STMIA       R5!,{R0,R1}
    367          	DD[0][1] = 2 * ( quat[1]*quat[2] + quat[0]*quat[3] );
   \   0000004E   009D               LDR         R5,[SP, #+0]
   \   00000050   0835               ADD         R5,#+8
   \   00000052   03CC               LDMIA       R4!,{R0,R1}
   \   00000054   083C               SUB         R4,#+8
   \   00000056   221C               MOV         R2,R4
   \   00000058   1832               ADD         R2,#+24
   \   0000005A   0CCA               LDMIA       R2!,{R2,R3}
   \   0000005C   ........           _BLF        __dMul,??__dMul??rT
   \   00000060   061C               MOV         R6,R0
   \   00000062   0F1C               MOV         R7,R1
   \   00000064   201C               MOV         R0,R4
   \   00000066   0830               ADD         R0,#+8
   \   00000068   0CC8               LDMIA       R0!,{R2,R3}
   \   0000006A   201C               MOV         R0,R4
   \   0000006C   1030               ADD         R0,#+16
   \   0000006E   03C8               LDMIA       R0!,{R0,R1}
   \   00000070   ........           _BLF        __dMul,??__dMul??rT
   \   00000074   321C               MOV         R2,R6
   \   00000076   3B1C               MOV         R3,R7
   \   00000078   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000007C   021C               MOV         R2,R0
   \   0000007E   0B1C               MOV         R3,R1
   \   00000080   0020               MOV         R0,#+0
   \   00000082   8021               MOV         R1,#+128
   \   00000084   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   00000086   ........           _BLF        __dMul,??__dMul??rT
   \   0000008A   03C5               STMIA       R5!,{R0,R1}
    368          	DD[0][2] = 2 * ( quat[1]*quat[3] - quat[0]*quat[2] );
   \   0000008C   009D               LDR         R5,[SP, #+0]
   \   0000008E   1035               ADD         R5,#+16
   \   00000090   03CC               LDMIA       R4!,{R0,R1}
   \   00000092   083C               SUB         R4,#+8
   \   00000094   221C               MOV         R2,R4
   \   00000096   1032               ADD         R2,#+16
   \   00000098   0CCA               LDMIA       R2!,{R2,R3}
   \   0000009A   ........           _BLF        __dMul,??__dMul??rT
   \   0000009E   061C               MOV         R6,R0
   \   000000A0   0F1C               MOV         R7,R1
   \   000000A2   201C               MOV         R0,R4
   \   000000A4   0830               ADD         R0,#+8
   \   000000A6   0CC8               LDMIA       R0!,{R2,R3}
   \   000000A8   201C               MOV         R0,R4
   \   000000AA   1830               ADD         R0,#+24
   \   000000AC   03C8               LDMIA       R0!,{R0,R1}
   \   000000AE   ........           _BLF        __dMul,??__dMul??rT
   \   000000B2   321C               MOV         R2,R6
   \   000000B4   3B1C               MOV         R3,R7
   \   000000B6   ........           _BLF        __dSub,??__dSub??rT
   \   000000BA   021C               MOV         R2,R0
   \   000000BC   0B1C               MOV         R3,R1
   \   000000BE   0020               MOV         R0,#+0
   \   000000C0   8021               MOV         R1,#+128
   \   000000C2   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   000000C4   ........           _BLF        __dMul,??__dMul??rT
   \   000000C8   03C5               STMIA       R5!,{R0,R1}
    369          					
    370          	DD[1][0] = 2 * ( quat[1]*quat[2] - quat[0]*quat[3] );
   \   000000CA   009D               LDR         R5,[SP, #+0]
   \   000000CC   1835               ADD         R5,#+24
   \   000000CE   03CC               LDMIA       R4!,{R0,R1}
   \   000000D0   083C               SUB         R4,#+8
   \   000000D2   221C               MOV         R2,R4
   \   000000D4   1832               ADD         R2,#+24
   \   000000D6   0CCA               LDMIA       R2!,{R2,R3}
   \   000000D8   ........           _BLF        __dMul,??__dMul??rT
   \   000000DC   061C               MOV         R6,R0
   \   000000DE   0F1C               MOV         R7,R1
   \   000000E0   201C               MOV         R0,R4
   \   000000E2   0830               ADD         R0,#+8
   \   000000E4   0CC8               LDMIA       R0!,{R2,R3}
   \   000000E6   201C               MOV         R0,R4
   \   000000E8   1030               ADD         R0,#+16
   \   000000EA   03C8               LDMIA       R0!,{R0,R1}
   \   000000EC   ........           _BLF        __dMul,??__dMul??rT
   \   000000F0   321C               MOV         R2,R6
   \   000000F2   3B1C               MOV         R3,R7
   \   000000F4   ........           _BLF        __dSub,??__dSub??rT
   \   000000F8   021C               MOV         R2,R0
   \   000000FA   0B1C               MOV         R3,R1
   \   000000FC   0020               MOV         R0,#+0
   \   000000FE   8021               MOV         R1,#+128
   \   00000100   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   00000102   ........           _BLF        __dMul,??__dMul??rT
   \   00000106   03C5               STMIA       R5!,{R0,R1}
    371          	DD[1][1] = 1 - 2 * ( quat[1]*quat[1] + quat[3]*quat[3] );
   \   00000108   009D               LDR         R5,[SP, #+0]
   \   0000010A   2035               ADD         R5,#+32
   \   0000010C   201C               MOV         R0,R4
   \   0000010E   1830               ADD         R0,#+24
   \   00000110   03C8               LDMIA       R0!,{R0,R1}
   \   00000112   221C               MOV         R2,R4
   \   00000114   1832               ADD         R2,#+24
   \   00000116   0CCA               LDMIA       R2!,{R2,R3}
   \   00000118   ........           _BLF        __dMul,??__dMul??rT
   \   0000011C   061C               MOV         R6,R0
   \   0000011E   0F1C               MOV         R7,R1
   \   00000120   201C               MOV         R0,R4
   \   00000122   0830               ADD         R0,#+8
   \   00000124   0CC8               LDMIA       R0!,{R2,R3}
   \   00000126   201C               MOV         R0,R4
   \   00000128   0830               ADD         R0,#+8
   \   0000012A   03C8               LDMIA       R0!,{R0,R1}
   \   0000012C   ........           _BLF        __dMul,??__dMul??rT
   \   00000130   321C               MOV         R2,R6
   \   00000132   3B1C               MOV         R3,R7
   \   00000134   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000138   021C               MOV         R2,R0
   \   0000013A   0B1C               MOV         R3,R1
   \   0000013C   0020               MOV         R0,#+0
   \   0000013E   8021               MOV         R1,#+128
   \   00000140   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   00000142   ........           _BLF        __dMul,??__dMul??rT
   \   00000146   021C               MOV         R2,R0
   \   00000148   0B1C               MOV         R3,R1
   \   0000014A   0020               MOV         R0,#+0
   \   0000014C   ....               LDR         R1,??DataTable10   ;; 0x3ff00000
   \   0000014E   ........           _BLF        __dSub,??__dSub??rT
   \   00000152   03C5               STMIA       R5!,{R0,R1}
    372          	DD[1][2] = 2 * ( quat[2]*quat[3] + quat[0]*quat[1] );
   \   00000154   009D               LDR         R5,[SP, #+0]
   \   00000156   2835               ADD         R5,#+40
   \   00000158   03CC               LDMIA       R4!,{R0,R1}
   \   0000015A   083C               SUB         R4,#+8
   \   0000015C   221C               MOV         R2,R4
   \   0000015E   0832               ADD         R2,#+8
   \   00000160   0CCA               LDMIA       R2!,{R2,R3}
   \   00000162   ........           _BLF        __dMul,??__dMul??rT
   \   00000166   061C               MOV         R6,R0
   \   00000168   0F1C               MOV         R7,R1
   \   0000016A   201C               MOV         R0,R4
   \   0000016C   1030               ADD         R0,#+16
   \   0000016E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000170   201C               MOV         R0,R4
   \   00000172   1830               ADD         R0,#+24
   \   00000174   03C8               LDMIA       R0!,{R0,R1}
   \   00000176   ........           _BLF        __dMul,??__dMul??rT
   \   0000017A   321C               MOV         R2,R6
   \   0000017C   3B1C               MOV         R3,R7
   \   0000017E   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000182   021C               MOV         R2,R0
   \   00000184   0B1C               MOV         R3,R1
   \   00000186   0020               MOV         R0,#+0
   \   00000188   8021               MOV         R1,#+128
   \   0000018A   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   0000018C   ........           _BLF        __dMul,??__dMul??rT
   \   00000190   03C5               STMIA       R5!,{R0,R1}
    373          								
    374          	DD[2][0] = 2 * ( quat[1]*quat[3] + quat[0]*quat[2] );
   \   00000192   009D               LDR         R5,[SP, #+0]
   \   00000194   3035               ADD         R5,#+48
   \   00000196   03CC               LDMIA       R4!,{R0,R1}
   \   00000198   083C               SUB         R4,#+8
   \   0000019A   221C               MOV         R2,R4
   \   0000019C   1032               ADD         R2,#+16
   \   0000019E   0CCA               LDMIA       R2!,{R2,R3}
   \   000001A0   ........           _BLF        __dMul,??__dMul??rT
   \   000001A4   061C               MOV         R6,R0
   \   000001A6   0F1C               MOV         R7,R1
   \   000001A8   201C               MOV         R0,R4
   \   000001AA   0830               ADD         R0,#+8
   \   000001AC   0CC8               LDMIA       R0!,{R2,R3}
   \   000001AE   201C               MOV         R0,R4
   \   000001B0   1830               ADD         R0,#+24
   \   000001B2   03C8               LDMIA       R0!,{R0,R1}
   \   000001B4   ........           _BLF        __dMul,??__dMul??rT
   \   000001B8   321C               MOV         R2,R6
   \   000001BA   3B1C               MOV         R3,R7
   \   000001BC   ........           _BLF        __dAdd,??__dAdd??rT
   \   000001C0   021C               MOV         R2,R0
   \   000001C2   0B1C               MOV         R3,R1
   \   000001C4   0020               MOV         R0,#+0
   \   000001C6   8021               MOV         R1,#+128
   \   000001C8   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   000001CA   ........           _BLF        __dMul,??__dMul??rT
   \   000001CE   03C5               STMIA       R5!,{R0,R1}
    375          	DD[2][1] = 2 * ( quat[2]*quat[3] - quat[0]*quat[1] );
   \   000001D0   009D               LDR         R5,[SP, #+0]
   \   000001D2   3835               ADD         R5,#+56
   \   000001D4   03CC               LDMIA       R4!,{R0,R1}
   \   000001D6   083C               SUB         R4,#+8
   \   000001D8   221C               MOV         R2,R4
   \   000001DA   0832               ADD         R2,#+8
   \   000001DC   0CCA               LDMIA       R2!,{R2,R3}
   \   000001DE   ........           _BLF        __dMul,??__dMul??rT
   \   000001E2   061C               MOV         R6,R0
   \   000001E4   0F1C               MOV         R7,R1
   \   000001E6   201C               MOV         R0,R4
   \   000001E8   1030               ADD         R0,#+16
   \   000001EA   0CC8               LDMIA       R0!,{R2,R3}
   \   000001EC   201C               MOV         R0,R4
   \   000001EE   1830               ADD         R0,#+24
   \   000001F0   03C8               LDMIA       R0!,{R0,R1}
   \   000001F2   ........           _BLF        __dMul,??__dMul??rT
   \   000001F6   321C               MOV         R2,R6
   \   000001F8   3B1C               MOV         R3,R7
   \   000001FA   ........           _BLF        __dSub,??__dSub??rT
   \   000001FE   021C               MOV         R2,R0
   \   00000200   0B1C               MOV         R3,R1
   \   00000202   0020               MOV         R0,#+0
   \   00000204   8021               MOV         R1,#+128
   \   00000206   C905               LSL         R1,R1,#+23         ;; #+1073741824
   \   00000208   ........           _BLF        __dMul,??__dMul??rT
   \   0000020C   03C5               STMIA       R5!,{R0,R1}
    376          	DD[2][2] = 1 - 2 * ( quat[1]*quat[1] + quat[2]*quat[2] );
   \   0000020E   009D               LDR         R5,[SP, #+0]
   \   00000210   4035               ADD         R5,#+64
   \   00000212   201C               MOV         R0,R4
   \   00000214   1030               ADD         R0,#+16
   \   00000216   03C8               LDMIA       R0!,{R0,R1}
   \   00000218   221C               MOV         R2,R4
   \   0000021A   1032               ADD         R2,#+16
   \   0000021C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000021E   ........           _BLF        __dMul,??__dMul??rT
   \   00000222   061C               MOV         R6,R0
   \   00000224   0F1C               MOV         R7,R1
   \   00000226   201C               MOV         R0,R4
   \   00000228   0830               ADD         R0,#+8
   \   0000022A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000022C   0834               ADD         R4,#+8
   \   0000022E   03CC               LDMIA       R4!,{R0,R1}
   \   00000230   ........           _BLF        __dMul,??__dMul??rT
   \   00000234   321C               MOV         R2,R6
   \   00000236   3B1C               MOV         R3,R7
   \   00000238   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000023C   0022               MOV         R2,#+0
   \   0000023E   8023               MOV         R3,#+128
   \   00000240   DB05               LSL         R3,R3,#+23         ;; #+1073741824
   \   00000242   ........           _BLF        __dMul,??__dMul??rT
   \   00000246   021C               MOV         R2,R0
   \   00000248   0B1C               MOV         R3,R1
   \   0000024A   0020               MOV         R0,#+0
   \   0000024C   ....               LDR         R1,??DataTable10   ;; 0x3ff00000
   \   0000024E   ........           _BLF        __dSub,??__dSub??rT
   \   00000252   C046               NOP         
   \   00000254                      REQUIRE ?Subroutine27
   \   00000254                      ;; // Fall through to label ?Subroutine27
    377          }
    378          
    379          /**********************************************************/
    380          /**********************************************************/
    381          	

   \                                 In segment CODE, align 4, keep-with-next
    382          void invert3( double (*matrix)[3], unsigned char order )
    383          {	
   \                     ??invert3:
   \   00000000   F3B5               PUSH        {R0,R1,R4-R7,LR}
   \   00000002   83B0               SUB         SP,#+12
   \   00000004   0026               MOV         R6,#+0
   \   00000006   2BE0               B           ??invert3_1
    384          	unsigned char m, i, j;
    385          		
    386          	for( m=0; m<order; m++ ){
    387             	  for( i=0; i<order; i++ ){
    388          	    for( j=0; j<order; j++ ){
    389          	      if( ( i!=m ) && ( j!=m ) ) {
    390          		   matrix[i][j] = matrix[i][j] - matrix[i][m]*matrix[m][j]/matrix[m][m];
    391          	      }	
    392                      }
    393                    }
    394          
    395          	  for( j=0; j<order; j++ ){									      	         if( j != m ){
   \                     ??invert3_2:
   \   00000008   3106               LSL         R1,R6,#+24
   \   0000000A   090E               LSR         R1,R1,#+24
   \   0000000C   8842               CMP         R0,R1
   \   0000000E   17D0               BEQ         ??invert3_3
    396           		matrix[m][j] =  matrix[m][j]/matrix[m][m];
   \   00000010   E800               LSL         R0,R5,#+3
   \   00000012   0199               LDR         R1,[SP, #+4]
   \   00000014   0C18               ADD         R4,R1,R0
   \   00000016   03CC               LDMIA       R4!,{R0,R1}
   \   00000018   083C               SUB         R4,#+8
   \   0000001A   009A               LDR         R2,[SP, #+0]
   \   0000001C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000001E   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000022   03C4               STMIA       R4!,{R0,R1}
    397          									
    398          		matrix[j][m] = -matrix[j][m]/matrix[m][m];
   \   00000024   1820               MOV         R0,#+24
   \   00000026   6843               MUL         R0,R5
   \   00000028   0299               LDR         R1,[SP, #+8]
   \   0000002A   0C18               ADD         R4,R1,R0
   \   0000002C   03CC               LDMIA       R4!,{R0,R1}
   \   0000002E   083C               SUB         R4,#+8
   \   00000030   009A               LDR         R2,[SP, #+0]
   \   00000032   0CCA               LDMIA       R2!,{R2,R3}
   \   00000034   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000038   8022               MOV         R2,#+128
   \   0000003A   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   0000003C   5140               EOR         R1,R2
   \   0000003E   03C4               STMIA       R4!,{R0,R1}
    399          
    400          	    }
    401             	  }
   \                     ??invert3_3:
   \   00000040   6D1C               ADD         R5,R5,#+1
   \                     ??invert3_4:
   \   00000042   6946               MOV         R1,SP
   \   00000044   097C               LDRB        R1,[R1, #+16]
   \   00000046   2806               LSL         R0,R5,#+24
   \   00000048   000E               LSR         R0,R0,#+24
   \   0000004A   8842               CMP         R0,R1
   \   0000004C   DCD3               BCC         ??invert3_2
    402          
    403          	  matrix[m][m] = 1.0/matrix[m][m];
   \   0000004E   009C               LDR         R4,[SP, #+0]
   \   00000050   0020               MOV         R0,#+0
   \   00000052   ....               LDR         R1,??DataTable10   ;; 0x3ff00000
   \   00000054   221C               MOV         R2,R4
   \   00000056   0CCA               LDMIA       R2!,{R2,R3}
   \   00000058   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000005C   03C4               STMIA       R4!,{R0,R1}
   \   0000005E   761C               ADD         R6,R6,#+1
   \                     ??invert3_1:
   \   00000060   6946               MOV         R1,SP
   \   00000062   097C               LDRB        R1,[R1, #+16]
   \   00000064   3006               LSL         R0,R6,#+24
   \   00000066   000E               LSR         R0,R0,#+24
   \   00000068   8842               CMP         R0,R1
   \   0000006A   42D2               BCS         ??invert3_5
   \   0000006C   0024               MOV         R4,#+0
   \   0000006E   2CE0               B           ??invert3_6
   \                     ??invert3_7:
   \   00000070   2006               LSL         R0,R4,#+24
   \   00000072   000E               LSR         R0,R0,#+24
   \   00000074   3106               LSL         R1,R6,#+24
   \   00000076   090E               LSR         R1,R1,#+24
   \   00000078   8842               CMP         R0,R1
   \   0000007A   1ED0               BEQ         ??invert3_8
   \   0000007C   2806               LSL         R0,R5,#+24
   \   0000007E   000E               LSR         R0,R0,#+24
   \   00000080   8842               CMP         R0,R1
   \   00000082   1AD0               BEQ         ??invert3_8
   \   00000084   EA00               LSL         R2,R5,#+3
   \   00000086   1820               MOV         R0,#+24
   \   00000088   6043               MUL         R0,R4
   \   0000008A   0399               LDR         R1,[SP, #+12]
   \   0000008C   0918               ADD         R1,R1,R0
   \   0000008E   8F18               ADD         R7,R1,R2
   \   00000090   0299               LDR         R1,[SP, #+8]
   \   00000092   0818               ADD         R0,R1,R0
   \   00000094   03C8               LDMIA       R0!,{R0,R1}
   \   00000096   03B4               PUSH        {R0,R1}
   \   00000098   0398               LDR         R0,[SP, #+12]
   \   0000009A   8018               ADD         R0,R0,R2
   \   0000009C   03C8               LDMIA       R0!,{R0,R1}
   \   0000009E   0CBC               POP         {R2,R3}
   \   000000A0   ........           _BLF        __dMul,??__dMul??rT
   \   000000A4   009A               LDR         R2,[SP, #+0]
   \   000000A6   0CCA               LDMIA       R2!,{R2,R3}
   \   000000A8   ........           _BLF        __dDiv,??__dDiv??rT
   \   000000AC   021C               MOV         R2,R0
   \   000000AE   0B1C               MOV         R3,R1
   \   000000B0   03CF               LDMIA       R7!,{R0,R1}
   \   000000B2   083F               SUB         R7,#+8
   \   000000B4   ........           _BLF        __dSub,??__dSub??rT
   \   000000B8   03C7               STMIA       R7!,{R0,R1}
   \                     ??invert3_8:
   \   000000BA   6D1C               ADD         R5,R5,#+1
   \                     ??invert3_9:
   \   000000BC   6946               MOV         R1,SP
   \   000000BE   097C               LDRB        R1,[R1, #+16]
   \   000000C0   2806               LSL         R0,R5,#+24
   \   000000C2   000E               LSR         R0,R0,#+24
   \   000000C4   8842               CMP         R0,R1
   \   000000C6   D3D3               BCC         ??invert3_7
   \   000000C8   641C               ADD         R4,R4,#+1
   \                     ??invert3_6:
   \   000000CA   1820               MOV         R0,#+24
   \   000000CC   7043               MUL         R0,R6
   \   000000CE   0399               LDR         R1,[SP, #+12]
   \   000000D0   0818               ADD         R0,R1,R0
   \   000000D2   0190               STR         R0,[SP, #+4]
   \   000000D4   F000               LSL         R0,R6,#+3
   \   000000D6   0199               LDR         R1,[SP, #+4]
   \   000000D8   0918               ADD         R1,R1,R0
   \   000000DA   0091               STR         R1,[SP, #+0]
   \   000000DC   0399               LDR         R1,[SP, #+12]
   \   000000DE   0818               ADD         R0,R1,R0
   \   000000E0   0290               STR         R0,[SP, #+8]
   \   000000E2   6946               MOV         R1,SP
   \   000000E4   097C               LDRB        R1,[R1, #+16]
   \   000000E6   2006               LSL         R0,R4,#+24
   \   000000E8   000E               LSR         R0,R0,#+24
   \   000000EA   8842               CMP         R0,R1
   \   000000EC   0025               MOV         R5,#+0
   \   000000EE   A8D2               BCS         ??invert3_4
   \   000000F0   E4E7               B           ??invert3_9
    404                 }
    405          }
   \                     ??invert3_5:
   \   000000F2   05B0               ADD         SP,#+20
   \   000000F4   ....               B           ??Subroutine26_0
    406          

   \                                 In segment CODE, align 4, keep-with-next
    407          void invert6( double matrix[6][6], unsigned char order )
    408          {	
   \                     ??invert6:
   \   00000000   F3B5               PUSH        {R0,R1,R4-R7,LR}
   \   00000002   83B0               SUB         SP,#+12
   \   00000004   0026               MOV         R6,#+0
   \   00000006   2BE0               B           ??invert6_1
    409          	
    410          	unsigned char m, i, j;
    411          
    412          	
    413          	for( m=0; m<order; m++ ){
    414             	  for( i=0; i<order; i++ ){
    415          	    for( j=0; j<order; j++ ){
    416          	      if( ( i!=m ) && ( j!=m ) ) {
    417          		    matrix[i][j] = matrix[i][j] - matrix[i][m]*matrix[m][j]/matrix[m][m];
    418          															   }	
    419                      }
    420          	  }
    421          	  
    422          	  for( j=0; j<order; j++ ){	
    423          		  if( j != m ){
   \                     ??invert6_2:
   \   00000008   3106               LSL         R1,R6,#+24
   \   0000000A   090E               LSR         R1,R1,#+24
   \   0000000C   8842               CMP         R0,R1
   \   0000000E   17D0               BEQ         ??invert6_3
    424          			  matrix[m][j] =  matrix[m][j]/matrix[m][m];
   \   00000010   E800               LSL         R0,R5,#+3
   \   00000012   0199               LDR         R1,[SP, #+4]
   \   00000014   0C18               ADD         R4,R1,R0
   \   00000016   03CC               LDMIA       R4!,{R0,R1}
   \   00000018   083C               SUB         R4,#+8
   \   0000001A   009A               LDR         R2,[SP, #+0]
   \   0000001C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000001E   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000022   03C4               STMIA       R4!,{R0,R1}
    425          			  matrix[j][m] = -matrix[j][m]/matrix[m][m];
   \   00000024   3020               MOV         R0,#+48
   \   00000026   6843               MUL         R0,R5
   \   00000028   0299               LDR         R1,[SP, #+8]
   \   0000002A   0C18               ADD         R4,R1,R0
   \   0000002C   03CC               LDMIA       R4!,{R0,R1}
   \   0000002E   083C               SUB         R4,#+8
   \   00000030   009A               LDR         R2,[SP, #+0]
   \   00000032   0CCA               LDMIA       R2!,{R2,R3}
   \   00000034   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000038   8022               MOV         R2,#+128
   \   0000003A   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   0000003C   5140               EOR         R1,R2
   \   0000003E   03C4               STMIA       R4!,{R0,R1}
    426          		  }
    427          	  }
   \                     ??invert6_3:
   \   00000040   6D1C               ADD         R5,R5,#+1
   \                     ??invert6_4:
   \   00000042   6946               MOV         R1,SP
   \   00000044   097C               LDRB        R1,[R1, #+16]
   \   00000046   2806               LSL         R0,R5,#+24
   \   00000048   000E               LSR         R0,R0,#+24
   \   0000004A   8842               CMP         R0,R1
   \   0000004C   DCD3               BCC         ??invert6_2
    428          
    429          	
    430          	  matrix[m][m] = 1.0/matrix[m][m];
   \   0000004E   009C               LDR         R4,[SP, #+0]
   \   00000050   0020               MOV         R0,#+0
   \   00000052   ....               LDR         R1,??DataTable11   ;; 0x3ff00000
   \   00000054   221C               MOV         R2,R4
   \   00000056   0CCA               LDMIA       R2!,{R2,R3}
   \   00000058   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000005C   03C4               STMIA       R4!,{R0,R1}
   \   0000005E   761C               ADD         R6,R6,#+1
   \                     ??invert6_1:
   \   00000060   6946               MOV         R1,SP
   \   00000062   097C               LDRB        R1,[R1, #+16]
   \   00000064   3006               LSL         R0,R6,#+24
   \   00000066   000E               LSR         R0,R0,#+24
   \   00000068   8842               CMP         R0,R1
   \   0000006A   42D2               BCS         ??invert6_5
   \   0000006C   0024               MOV         R4,#+0
   \   0000006E   2CE0               B           ??invert6_6
   \                     ??invert6_7:
   \   00000070   2006               LSL         R0,R4,#+24
   \   00000072   000E               LSR         R0,R0,#+24
   \   00000074   3106               LSL         R1,R6,#+24
   \   00000076   090E               LSR         R1,R1,#+24
   \   00000078   8842               CMP         R0,R1
   \   0000007A   1ED0               BEQ         ??invert6_8
   \   0000007C   2806               LSL         R0,R5,#+24
   \   0000007E   000E               LSR         R0,R0,#+24
   \   00000080   8842               CMP         R0,R1
   \   00000082   1AD0               BEQ         ??invert6_8
   \   00000084   EA00               LSL         R2,R5,#+3
   \   00000086   3020               MOV         R0,#+48
   \   00000088   6043               MUL         R0,R4
   \   0000008A   0399               LDR         R1,[SP, #+12]
   \   0000008C   0918               ADD         R1,R1,R0
   \   0000008E   8F18               ADD         R7,R1,R2
   \   00000090   0299               LDR         R1,[SP, #+8]
   \   00000092   0818               ADD         R0,R1,R0
   \   00000094   03C8               LDMIA       R0!,{R0,R1}
   \   00000096   03B4               PUSH        {R0,R1}
   \   00000098   0398               LDR         R0,[SP, #+12]
   \   0000009A   8018               ADD         R0,R0,R2
   \   0000009C   03C8               LDMIA       R0!,{R0,R1}
   \   0000009E   0CBC               POP         {R2,R3}
   \   000000A0   ........           _BLF        __dMul,??__dMul??rT
   \   000000A4   009A               LDR         R2,[SP, #+0]
   \   000000A6   0CCA               LDMIA       R2!,{R2,R3}
   \   000000A8   ........           _BLF        __dDiv,??__dDiv??rT
   \   000000AC   021C               MOV         R2,R0
   \   000000AE   0B1C               MOV         R3,R1
   \   000000B0   03CF               LDMIA       R7!,{R0,R1}
   \   000000B2   083F               SUB         R7,#+8
   \   000000B4   ........           _BLF        __dSub,??__dSub??rT
   \   000000B8   03C7               STMIA       R7!,{R0,R1}
   \                     ??invert6_8:
   \   000000BA   6D1C               ADD         R5,R5,#+1
   \                     ??invert6_9:
   \   000000BC   6946               MOV         R1,SP
   \   000000BE   097C               LDRB        R1,[R1, #+16]
   \   000000C0   2806               LSL         R0,R5,#+24
   \   000000C2   000E               LSR         R0,R0,#+24
   \   000000C4   8842               CMP         R0,R1
   \   000000C6   D3D3               BCC         ??invert6_7
   \   000000C8   641C               ADD         R4,R4,#+1
   \                     ??invert6_6:
   \   000000CA   3020               MOV         R0,#+48
   \   000000CC   7043               MUL         R0,R6
   \   000000CE   0399               LDR         R1,[SP, #+12]
   \   000000D0   0818               ADD         R0,R1,R0
   \   000000D2   0190               STR         R0,[SP, #+4]
   \   000000D4   F000               LSL         R0,R6,#+3
   \   000000D6   0199               LDR         R1,[SP, #+4]
   \   000000D8   0918               ADD         R1,R1,R0
   \   000000DA   0091               STR         R1,[SP, #+0]
   \   000000DC   0399               LDR         R1,[SP, #+12]
   \   000000DE   0818               ADD         R0,R1,R0
   \   000000E0   0290               STR         R0,[SP, #+8]
   \   000000E2   6946               MOV         R1,SP
   \   000000E4   097C               LDRB        R1,[R1, #+16]
   \   000000E6   2006               LSL         R0,R4,#+24
   \   000000E8   000E               LSR         R0,R0,#+24
   \   000000EA   8842               CMP         R0,R1
   \   000000EC   0025               MOV         R5,#+0
   \   000000EE   A8D2               BCS         ??invert6_4
   \   000000F0   E4E7               B           ??invert6_9
    431          	}
    432          }
   \                     ??invert6_5:
   \   000000F2   05B0               ADD         SP,#+20
   \   000000F4   ....               B           ??Subroutine26_0
    433          
    434          //-----------------syc ÏÞÖÆ¸÷´«¸ÐÆ÷Òì³£Ìø±äº¯Êý----------------------//

   \                                 In segment CODE, align 4, keep-with-next
    435          double abnormal_limit(double raw_value, double last_value, double *out_value, double len)
    436          {
   \                     ??abnormal_limit:
   \   00000000   73B5               PUSH        {R0,R1,R4-R6,LR}
   \   00000002   101C               MOV         R0,R2
   \   00000004   191C               MOV         R1,R3
   \   00000006   069E               LDR         R6,[SP, #+24]
    437              static double value = 0.0;
    438          	static double out_result = 0.0;
    439          	//static int count_point = 0;
    440          	value = last_value - raw_value;
   \   00000008   6A46               MOV         R2,SP
   \   0000000A   0CCA               LDMIA       R2!,{R2,R3}
   \   0000000C   ........           _BLF        __dSub,??__dSub??rT
   \   00000010   041C               MOV         R4,R0
   \   00000012   0D1C               MOV         R5,R1
    441          	if(value <= -len || value >= len)
   \   00000014   07A8               ADD         R0,SP,#+28
   \   00000016   03C8               LDMIA       R0!,{R0,R1}
   \   00000018   8022               MOV         R2,#+128
   \   0000001A   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   0000001C   5140               EOR         R1,R2
   \   0000001E   221C               MOV         R2,R4
   \   00000020   2B1C               MOV         R3,R5
   \   00000022   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00000026   0028               CMP         R0,#+0
   \   00000028   07D1               BNE         ??abnormal_limit_1
   \   0000002A   201C               MOV         R0,R4
   \   0000002C   291C               MOV         R1,R5
   \   0000002E   07AA               ADD         R2,SP,#+28
   \   00000030   0CCA               LDMIA       R2!,{R2,R3}
   \   00000032   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00000036   0028               CMP         R0,#+0
   \   00000038   05D0               BEQ         ??abnormal_limit_2
    442          	{
    443          	    abnormal_limit_flag = 1; 
   \                     ??abnormal_limit_1:
   \   0000003A   0648               LDR         R0,??abnormal_limit_3  ;; abnormal_limit_flag
   \   0000003C   0121               MOV         R1,#+1
   \   0000003E   0170               STRB        R1,[R0, #+0]
    444          		out_result = *out_value;
   \   00000040   03CE               LDMIA       R6!,{R0,R1}
   \   00000042   083E               SUB         R6,#+8
   \   00000044   01E0               B           ??abnormal_limit_4
    445          	}		    
    446          	else
    447          	{   
    448          		out_result = raw_value;	
   \                     ??abnormal_limit_2:
   \   00000046   6846               MOV         R0,SP
   \   00000048   03C8               LDMIA       R0!,{R0,R1}
    449          	}
    450          	*out_value = out_result;
   \                     ??abnormal_limit_4:
   \   0000004A   03C6               STMIA       R6!,{R0,R1}
    451          	return out_result;
   \   0000004C   7CBC               POP         {R2-R6}
   \   0000004E   04BC               POP         {R2}
   \   00000050   1047               BX          R2                 ;; return
   \   00000052   C046               NOP         
   \                     ??abnormal_limit_3:
   \   00000054   ........           DC32        abnormal_limit_flag
    452          }
    453          //--------------Ê®×ÖÅÌ½âñî¼Óñî¾ØÕó----------------------------//

   \                                 In segment CODE, align 4, keep-with-next
    454          void DecoupingMatrix(int out[3], int in[3])  //rcp
    455          {
   \                     ??DecoupingMatrix:
   \   00000000   00B5               PUSH        {LR}
   \   00000002   021C               MOV         R2,R0
   \   00000004   0B1C               MOV         R3,R1
    456          	out[0] = (in[0] - in[1] + 2*in[2]) / 3;//pitch
   \   00000006   0868               LDR         R0,[R1, #+0]
   \   00000008   4968               LDR         R1,[R1, #+4]
   \   0000000A   401A               SUB         R0,R0,R1
   \   0000000C   9968               LDR         R1,[R3, #+8]
   \   0000000E   4900               LSL         R1,R1,#+1
   \   00000010   4018               ADD         R0,R0,R1
   \   00000012   0321               MOV         R1,#+3
   \   00000014   ........           _BLF        ??div32_t,??rT??div32_t
   \   00000018   1160               STR         R1,[R2, #+0]
    457          	out[1] = (in[0] + in[1]) / 2;//roll
   \   0000001A   1868               LDR         R0,[R3, #+0]
   \   0000001C   5968               LDR         R1,[R3, #+4]
   \   0000001E   4018               ADD         R0,R0,R1
   \   00000020   C10F               LSR         R1,R0,#+31
   \   00000022   0818               ADD         R0,R1,R0
   \   00000024   4010               ASR         R0,R0,#+1
   \   00000026   5060               STR         R0,[R2, #+4]
    458          	out[2] = (-in[0] + in[1] + in[2]) / 3;//coll
   \   00000028   5868               LDR         R0,[R3, #+4]
   \   0000002A   1968               LDR         R1,[R3, #+0]
   \   0000002C   401A               SUB         R0,R0,R1
   \   0000002E   9968               LDR         R1,[R3, #+8]
   \   00000030   4018               ADD         R0,R0,R1
   \   00000032   0321               MOV         R1,#+3
   \   00000034   ........           _BLF        ??div32_t,??rT??div32_t
   \   00000038   9160               STR         R1,[R2, #+8]
    459          }
   \   0000003A   01BC               POP         {R0}
   \   0000003C   0047               BX          R0                 ;; return

   \                                 In segment CODE, align 4, keep-with-next
    460          void CoupingMatrix(int out[3], int in[3])//prc
    461          {
   \                     ??CoupingMatrix:
   \   00000000   F0B5               PUSH        {R4-R7,LR}
   \   00000002   041C               MOV         R4,R0
   \   00000004   0D1C               MOV         R5,R1
    462          	out[0] = 0.5*in[0] + in[1] - in[2];//roll
   \   00000006   0868               LDR         R0,[R1, #+0]
   \   00000008   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   0000000C   021C               MOV         R2,R0
   \   0000000E   0B1C               MOV         R3,R1
   \   00000010   0020               MOV         R0,#+0
   \   00000012   1E49               LDR         R1,??CoupingMatrix_1  ;; 0x3fe00000
   \   00000014   ........           _BLF        __dMul,??__dMul??rT
   \   00000018   061C               MOV         R6,R0
   \   0000001A   0F1C               MOV         R7,R1
   \   0000001C   6868               LDR         R0,[R5, #+4]
   \   0000001E   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00000022   321C               MOV         R2,R6
   \   00000024   3B1C               MOV         R3,R7
   \   00000026   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000002A   061C               MOV         R6,R0
   \   0000002C   0F1C               MOV         R7,R1
   \   0000002E   A868               LDR         R0,[R5, #+8]
   \   00000030   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00000034   021C               MOV         R2,R0
   \   00000036   0B1C               MOV         R3,R1
   \   00000038   301C               MOV         R0,R6
   \   0000003A   391C               MOV         R1,R7
   \   0000003C   ........           _BLF        __dSub,??__dSub??rT
   \   00000040   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   00000044   2060               STR         R0,[R4, #+0]
    463          	out[1] =-0.5*in[0] + in[1] + in[2];//coll
   \   00000046   2868               LDR         R0,[R5, #+0]
   \   00000048   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   0000004C   021C               MOV         R2,R0
   \   0000004E   0B1C               MOV         R3,R1
   \   00000050   0020               MOV         R0,#+0
   \   00000052   0F49               LDR         R1,??CoupingMatrix_1+0x4  ;; 0xbfe00000
   \   00000054   ........           _BLF        __dMul,??__dMul??rT
   \   00000058   061C               MOV         R6,R0
   \   0000005A   0F1C               MOV         R7,R1
   \   0000005C   6868               LDR         R0,[R5, #+4]
   \   0000005E   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00000062   321C               MOV         R2,R6
   \   00000064   3B1C               MOV         R3,R7
   \   00000066   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000006A   061C               MOV         R6,R0
   \   0000006C   0F1C               MOV         R7,R1
   \   0000006E   A868               LDR         R0,[R5, #+8]
   \   00000070   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00000074   321C               MOV         R2,R6
   \   00000076   3B1C               MOV         R3,R7
   \   00000078   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000007C   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   00000080   6060               STR         R0,[R4, #+4]
    464          	out[2] = in[0] + in[2];//pitch
   \   00000082   2868               LDR         R0,[R5, #+0]
   \   00000084   A968               LDR         R1,[R5, #+8]
   \   00000086   4018               ADD         R0,R0,R1
   \   00000088   A060               STR         R0,[R4, #+8]
    465          }
   \   0000008A   ....               B           ??Subroutine26_0
   \                     ??CoupingMatrix_1:
   \   0000008C   0000E03F           DC32        0x3fe00000
   \   00000090   0000E0BF           DC32        0xbfe00000

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   0000F03F           DC32        0x3ff00000

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   F1D4C853           DC32        0x53c8d4f1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   0000F03F           DC32        0x3ff00000

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable10:
   \   00000000   0000F03F           DC32        0x3ff00000

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable11:
   \   00000000   0000F03F           DC32        0x3ff00000

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for cos_theta>`:
   \   00000000   000000000000       DC32 0H, 3FF00000H
   \              F03F        
   \                     `?<Initializer for sin_theta>`:
   \   00000008   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for last_theta>`:
   \   00000010   000000000000       DC32 0H, 0H
   \              0000        
    466          

   Maximum stack usage in bytes:

     Function                       CSTACK
     --------                       ------
     CoupingMatrix(int *, int *)       20
     DecoupingMatrix(int *, int *)      4
     abnormal_limit(double, double, double *, double)
                                       24
     accel2euler(double *, double const *, double *)
                                       40
     compass_heading(double *, double *)
                                       76
     dcv2euler(double *, double const *)
                                       12
     euler2quat(double *, double const *)
                                      108
     eulerDC(double (*)[3], double, double, double)
                                       84
     first_order_filter(double, double, double)
                                       20
     invert2(double (*)[2])            28
     invert3(double (*)[3], unsigned char)
                                       48
     invert6(double (*)[6], unsigned char)
                                       48
     limit(double, double, double)     28
     limit_int(int, int, int)           4
     mean_filter(double *, int, double)
                                       28
     mean_filter_simple(int, double, double *, double)
                                       20
     mulNxM(void *, void const *, void const *, signed char, signed char, signed char, signed char, signed char)
                                       72
     ned2bf2(double *, double, double const *)
                                       28
     ned2bf3(double *, double const *, double const *)
                                      116
     norm(double *)                    24
     quat2DCM(double (*)[3], double const *)
                                       24
     quat2dcv(double *, double const *)
                                       24
     quat2euler(double *, double const *)
                                       28
     rad2deg(double *, double *, unsigned char)
                                       24


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     mean_filter(double *, int, double)
                                      80
     ?Subroutine24                     6
     mean_filter_simple(int, double, double *, double)
                                      60
     ?Subroutine25                     6
     first_order_filter(double, double, double)
                                      60
     eulerDC(double (*)[3], double, double, double)
                                     394
     ned2bf3(double *, double const *, double const *)
                                     250
     ?Subroutine26                     8
     ned2bf2(double *, double, double const *)
                                     172
     ?Subroutine27                     8
     cos_theta                        24
     norm(double *)                   92
     mulNxM(void *, void const *, void const *, signed char, signed char, signed char, signed char, signed char)
                                     270
     limit(double, double, double)    56
     limit_int(int, int, int)         18
     rad2deg(double *, double *, unsigned char)
                                      60
     compass_heading(double *, double *)
                                     284
     update_flag                       1
     accel2euler(double *, double const *, double *)
                                     104
     quat2dcv(double *, double const *)
                                     200
     dcv2euler(double *, double const *)
                                      44
     quat2euler(double *, double const *)
                                     360
     euler2quat(double *, double const *)
                                     382
     invert2(double (*)[2])          148
     quat2DCM(double (*)[3], double const *)
                                     596
     invert3(double (*)[3], unsigned char)
                                     246
     invert6(double (*)[6], unsigned char)
                                     246
     abnormal_limit(double, double, double *, double)
                                      88
     DecoupingMatrix(int *, int *)    62
     CoupingMatrix(int *, int *)     148
     ??DataTable0                      4
     ??DataTable2                      4
     ??DataTable6                      4
     ??DataTable10                     4
     ??DataTable11                     4
     ?<Initializer for cos_theta>     24
      Others                         400

 
 4 844 bytes in segment CODE
    24 bytes in segment DATA_I
    24 bytes in segment DATA_ID
     1 byte  in segment DATA_Z
    24 bytes in segment INITTAB
 
 4 468 bytes of CODE  memory (+ 400 bytes shared)
    24 bytes of CONST memory
    25 bytes of DATA  memory

Errors: none
Warnings: none
