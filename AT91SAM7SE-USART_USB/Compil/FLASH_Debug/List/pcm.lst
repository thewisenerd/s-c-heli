##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.31A/W32 EVALUATION    13/Jan/2016  00:20:32 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\pcm\pcm.c                                   #
#    Command line    =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\pcm\pcm.c -lC H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-1 #
#                       0-1ÊµÑéÊÒ\2015-6-27ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú #
#                       ´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2014_7_31\AT91SAM7SE-USART_USB #
#                       \Compil\FLASH_Debug\List\ -o                         #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Debug\Obj #
#                       \ -z9 --debug --cpu_mode thumb --endian little       #
#                       --cpu ARM7TDMI --stack_align 4 --interwork -e --fpu  #
#                       None --ec++ --dlib_config                            #
#                       D:\IAREWE431\ARM\LIB\dl4tptinl8n.h -I                #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\srcIAR\ -I      #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\..\src\ -I      #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\ -I       #
#                       H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\kalman\   #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\pcm\   #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\spi\   #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\timer\ #
#                        -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27 #
#                       ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+L #
#                       QR_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\pid\  #
#                       -I H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27Ë #
#                       øÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQ #
#                       R_2014_7_31\AT91SAM7SE-USART_USB\Compil\..\..\avcs\  #
#                       -I D:\IAREWE431\ARM\INC\                             #
#    List file       =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Debug\Lis #
#                       t\pcm.lst                                            #
#    Object file     =  H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ² #
#                       \Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2 #
#                       014_7_31\AT91SAM7SE-USART_USB\Compil\FLASH_Debug\Obj #
#                       \pcm.r79                                             #
#                                                                            #
#                                                                            #
##############################################################################

H:\ÊµÑéÊÒ¹¤×÷2015-8-20\2014-10-1ÊµÑéÊÒ\2015-6-27ËøÎ²\Ð¡Ö±Éý»ú´úÂë²âÊÔ1-9\Ð¡Ö±Éý»ú´úÂë²âÊÔ\Â·¾¶¹æ»®+LQR_2014_7_31\pcm\pcm.c
      1          #include <includs.h>
      2          
      3          
      4          //unsigned int servo_widths[ 10 ]={1000,2250,2250,2250,2250,2250,2250,2250,2250,8000};
      5          int servo_widths[ 10 ] = {1247,2931,2898,2823,2872,2805,2938,2805,2805,9973};//syc 2011 10.31
      6          //2250 1.5ms 
      7                   //servo_widths[1]-8 // roll pitch throttle yaw coll auto_switch 
      8          /*int pwm_roll_mid = 2805,
      9              pwm_pitch_mid = 2805,
     10              pwm_yaw_mid = 2805,
     11              pwm_coll_mid = 2805;*/
     12          
     13          //------------ÆÕÍ¨Ö±Éý»úËùÓÃ£¬×¢ÊÍÓÚ2014/5/28-----------------
     14          /*int pwm_roll_mid = 2830,
     15              pwm_pitch_mid = 1860,
     16              pwm_coll_mid = 800;
     17          int temp_pwm_coll_mid = 800;*/
     18          //------------------------------------------------------------
     19          
     20          //------------Ð¡Ö±Éý»úËùÓÃ£¬ÐÞ¸ÄÓÚ2015/4/28-------------------
     21          int pwm_roll_mid = 2910,
     22              pwm_pitch_mid = 1921,

   \                                 In segment DATA_Z, align 4, align-sorted
     23              pwm_yaw_mid,
   \                     pwm_yaw_mid:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
     24              pwm_coll_mid;
   \                     pwm_coll_mid:
   \   00000000                      DS8 4
     25          int temp_pwm_coll_mid = 1365;
     26          
     27          double desired_x_rate=0;
     28          double desired_y_rate=0;
     29          double desired_d_rate=0;
     30          //------------------------------------------------------------
     31          
     32          int amplify = 60;//default=30
     33          

   \                                 In segment DATA_Z, align 4, align-sorted
     34          int manual_servo_widths[3] = {0};
   \                     manual_servo_widths:
   \   00000000                      DS8 12
     35          char last_control_mode = 0,
     36               control_mode = 0;
     37          
     38          extern double LQR_pitchGain[3];
     39          extern double LQR_rollGain[3];
     40          
     41          double	servoAmplify[4] = {927.06, 955.52, 0.0, 218.0}; //roll, pitch,
     42          //unsigned char pcm_err_char[PCM_NUM] ;
     43          //char pcm_err_flag = 0;
     44          //int pcm_err_pos = 0;
     45          char pcm_rece_flag=0; //³É¹¦½ÓÊÜµ½27¸ö×Ö·û
     46          char pcm_update_flag =0;  //27¸ö×Ö·ûµÄ×´Ì¬  
     47          unsigned char  pcm_line[PCM_NUM-4]="";
     48          int man2auto = 100;

   \                                 In segment DATA_Z, align 1, align-sorted
     49          bool target_receive_flag;
   \                     target_receive_flag:
   \   00000000                      DS8 1

   \                                 In segment DATA_Z, align 1, align-sorted
     50          bool receive_index;
   \                     receive_index:
   \   00000000                      DS8 1

   \                                 In segment DATA_I, align 4, align-sorted
   \                     servo_widths:
   \   00000000                      DS8 40
   \   00000028                      REQUIRE `?<Initializer for servo_widths>`
     51          
     52          int last_pwm[4]={2250,2250,2250,2250};
     53          int servo_widths_mid[4]={0};
     54          //unsigned int servo_widths_temp[10]={1000,2250,2250,2250,2250,2250,2250,2250,2250,8000};
     55          int servo_widths_temp[10]={1247,2931,2898,2823,2872,2805,2938,2805,2805,9973};//2011 10 31
   \                     servo_widths_temp:
   \   00000028                      DS8 40
   \   00000050                      REQUIRE `?<Initializer for servo_widths_temp>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     pwm_roll_mid:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for pwm_roll_mid>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     pwm_pitch_mid:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for pwm_pitch_mid>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     temp_pwm_coll_mid:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for temp_pwm_coll_mid>`
     56          int last_servo_widths_temp[7]={1247,2931,2898,2823,2872,2805,2938};
     57          int lim_servo_widths_temp[7]={1247,2931,2898,2823,2872,2805,2938};
     58          int remote_median[2]={2839,2839};

   \                                 In segment DATA_Z, align 1, align-sorted
     59          char auto_roll_control_mode,
   \                     auto_roll_control_mode:
   \   00000000                      DS8 1

   \                                 In segment DATA_Z, align 1, align-sorted
     60               auto_pitch_control_mode,
   \                     auto_pitch_control_mode:
   \   00000000                      DS8 1

   \                                 In segment DATA_Z, align 1, align-sorted
     61               auto_yaw_control_mode,
   \                     auto_yaw_control_mode:
   \   00000000                      DS8 1

   \                                 In segment DATA_Z, align 1, align-sorted
     62               auto_coll_control_mode;
   \                     auto_coll_control_mode:
   \   00000000                      DS8 1
     63          //double target[UPDATE_TARGET_SIZE][4];   //Ïà¶ÔÓÚÐüÍ£µãµÄ»úÌå×ø±ê;

   \                                 In segment CODE, align 4, keep-with-next
     64          void init_translator(void)
     65          {
     66            AT91F_PMC_EnablePeriphClock ( AT91C_BASE_PMC, 1 << AT91C_ID_PIOA ) ;
   \                     ??init_translator:
   \   00000000   0D48               LDR         R0,??init_translator_1  ;; 0xfffffc10
   \   00000002   0421               MOV         R1,#+4
   \   00000004   0160               STR         R1,[R0, #+0]
     67            AT91F_PMC_EnablePeriphClock ( AT91C_BASE_PMC, 1 << AT91C_ID_PIOB ) ;
   \   00000006   0821               MOV         R1,#+8
   \   00000008   0160               STR         R1,[R0, #+0]
     68            
     69            
     70            AT91F_PIO_CfgOutput( AT91C_BASE_PIOA, AT91C_PIO_PA0|AT91C_PIO_PA1);
   \   0000000A   0320               MOV         R0,#+3
   \   0000000C   0B49               LDR         R1,??init_translator_1+0x4  ;; 0xfffff400
   \   0000000E   0860               STR         R0,[R1, #+0]
   \   00000010   0B49               LDR         R1,??init_translator_1+0x8  ;; 0xfffff410
   \   00000012   0860               STR         R0,[R1, #+0]
     71            AT91F_PIO_CfgOutput( AT91C_BASE_PIOB, AT91C_PIO_PB20|AT91C_PIO_PB21|
     72                                 AT91C_PIO_PB22|AT91C_PIO_PB23) ; //change from PC0,1,2,3 by chen
   \   00000014   F020               MOV         R0,#+240
   \   00000016   0004               LSL         R0,R0,#+16         ;; #+15728640
   \   00000018   0A49               LDR         R1,??init_translator_1+0xC  ;; 0xfffff600
   \   0000001A   0860               STR         R0,[R1, #+0]
   \   0000001C   0A49               LDR         R1,??init_translator_1+0x10  ;; 0xfffff610
   \   0000001E   0860               STR         R0,[R1, #+0]
     73                                   
     74            AT91F_PIO_SetOutput( AT91C_BASE_PIOB,AT91C_PIO_PB20);
   \   00000020   0A48               LDR         R0,??init_translator_1+0x14  ;; 0xfffff630
   \   00000022   8021               MOV         R1,#+128
   \   00000024   4903               LSL         R1,R1,#+13         ;; #+1048576
   \   00000026   0160               STR         R1,[R0, #+0]
     75            /*PC0Ê¹translatorµÄÉÏ°ëÆ¬Îª3.3Vµ½5V·½Ïò´«Êä*/
     76            
     77            /*PC2Ê¹translatorµÄÏÂ°ëÆ¬Îª5Vµ½3.3V·½Ïò´«Êä£¬Í¬Ê±Í¨¹ýOEÊ¹ÄÜtranslator*/
     78            AT91F_PIO_ClearOutput( AT91C_BASE_PIOB, AT91C_PIO_PB21|AT91C_PIO_PB22|AT91C_PIO_PB23);  
   \   00000028   0948               LDR         R0,??init_translator_1+0x18  ;; 0xfffff634
   \   0000002A   E021               MOV         R1,#+224
   \   0000002C   0904               LSL         R1,R1,#+16         ;; #+14680064
   \   0000002E   0160               STR         R1,[R0, #+0]
     79           
     80            CDSET;/*×¢Òâ£ºËüÊÇCD4017µÄRESETÐÅºÅ£¬ËüÊ¹CD4017´Ó'0'¿ªÊ¼²úÉúPWMÐÅºÅ¡£ËüµÄÎ»ÖÃÓÐ´ý¿¼Á¿*/
   \   00000030   0848               LDR         R0,??init_translator_1+0x1C  ;; 0xfffff430
   \   00000032   0121               MOV         R1,#+1
   \   00000034   0160               STR         R1,[R0, #+0]
     81          }
   \   00000036   7047               BX          LR                 ;; return
   \                     ??init_translator_1:
   \   00000038   10FCFFFF           DC32        0xfffffc10
   \   0000003C   00F4FFFF           DC32        0xfffff400
   \   00000040   10F4FFFF           DC32        0xfffff410
   \   00000044   00F6FFFF           DC32        0xfffff600
   \   00000048   10F6FFFF           DC32        0xfffff610
   \   0000004C   30F6FFFF           DC32        0xfffff630
   \   00000050   34F6FFFF           DC32        0xfffff634
   \   00000054   30F4FFFF           DC32        0xfffff430
     82          
     83          //*---------------------------------------------------------------------------
     84          //timer.c  timer2  is used to produce Servo  
     85          //*---------------------------------------------------------------------------
     86          //
     87          //------------------------------Ð¡Ö±Éý»ú×ÔÖ÷Æð½µËùÓÃ------------------------------- 

   \                                 In segment CODE, align 4, keep-with-next
     88          void servo_update_auto(void)
     89          {
   \                     ??servo_update_auto:
   \   00000000   F0B5               PUSH        {R4-R7,LR}
   \   00000002   DDB0               SUB         SP,#+372
     90              unsigned char * pcmline=NULL;
     91              long int pcm_temp[9]={0};
   \   00000004   4BA8               ADD         R0,SP,#+300
   \   00000006   0021               MOV         R1,#+0
   \   00000008   2422               MOV         R2,#+36
   \                     ??servo_update_auto_1:
   \   0000000A   121F               SUB         R2,R2,#+4
   \   0000000C   8150               STR         R1,[R0, R2]
   \   0000000E   FCD1               BNE         ??servo_update_auto_1
     92              int ppm_temp[9]={0};//11.01
   \   00000010   54A8               ADD         R0,SP,#+336
   \   00000012   2422               MOV         R2,#+36
   \                     ??servo_update_auto_2:
   \   00000014   121F               SUB         R2,R2,#+4
   \   00000016   8150               STR         R1,[R0, R2]
   \   00000018   FCD1               BNE         ??servo_update_auto_2
     93              unsigned int decode_flag=0;
     94              double temp[4]={0.0}; 
   \   0000001A   43A8               ADD         R0,SP,#+268
   \   0000001C   2022               MOV         R2,#+32
   \                     ??servo_update_auto_3:
   \   0000001E   121F               SUB         R2,R2,#+4
   \   00000020   8150               STR         R1,[R0, R2]
   \   00000022   FCD1               BNE         ??servo_update_auto_3
   \   00000024   B048               LDR         R0,??servo_update_auto_4  ;; last_control_mode + 92
   \   00000026   0068               LDR         R0,[R0, #+0]
   \   00000028   401C               ADD         R0,R0,#+1
     95            
     96              static int remote_missing = 0;
     97              
     98              
     99              man2auto++;
    100              if (man2auto > 10000)
   \   0000002A   B049               LDR         R1,??servo_update_auto_4+0x4  ;; 0x2711
   \   0000002C   8842               CMP         R0,R1
   \   0000002E   00DB               BLT         ??servo_update_auto_5
    101                    man2auto = 100; 
   \   00000030   6420               MOV         R0,#+100
   \                     ??servo_update_auto_5:
   \   00000032   AD49               LDR         R1,??servo_update_auto_4  ;; last_control_mode + 92
   \   00000034   0860               STR         R0,[R1, #+0]
   \   00000036   AE48               LDR         R0,??servo_update_auto_4+0x8  ;; last_control_mode + 2
   \   00000038   0078               LDRB        R0,[R0, #+0]
   \   0000003A   0128               CMP         R0,#+1
   \   0000003C   21D1               BNE         ??servo_update_auto_6
    102              
    103               if(pcm_rece_flag == 1)
    104              {
    105                pcm_rece_flag = 0; 
   \   0000003E   AC48               LDR         R0,??servo_update_auto_4+0x8  ;; last_control_mode + 2
   \   00000040   0021               MOV         R1,#+0
   \   00000042   0170               STRB        R1,[R0, #+0]
    106                remote_missing = 0;
   \   00000044   AB48               LDR         R0,??servo_update_auto_4+0xC  ;; last_control_mode + 96
   \   00000046   0160               STR         R1,[R0, #+0]
    107                if ( (AVR_PCM[0] != '$') || (AVR_PCM[1] != '$') || AVR_PCM[PCM_NUM-2] != '\r' || AVR_PCM[PCM_NUM-1] != '\n')
   \   00000048   AB48               LDR         R0,??servo_update_auto_4+0x10  ;; AVR_PCM
   \   0000004A   0178               LDRB        R1,[R0, #+0]
   \   0000004C   2429               CMP         R1,#+36
   \   0000004E   08D1               BNE         ??servo_update_auto_7
   \   00000050   4178               LDRB        R1,[R0, #+1]
   \   00000052   2429               CMP         R1,#+36
   \   00000054   05D1               BNE         ??servo_update_auto_7
   \   00000056   817E               LDRB        R1,[R0, #+26]
   \   00000058   0D29               CMP         R1,#+13
   \   0000005A   02D1               BNE         ??servo_update_auto_7
   \   0000005C   C17E               LDRB        R1,[R0, #+27]
   \   0000005E   0A29               CMP         R1,#+10
   \   00000060   03D0               BEQ         ??servo_update_auto_8
    108                {
    109                    pcm_update_flag = 3;
   \                     ??servo_update_auto_7:
   \   00000062   A648               LDR         R0,??servo_update_auto_4+0x14  ;; last_control_mode + 3
   \   00000064   0321               MOV         R1,#+3
   \   00000066   0170               STRB        R1,[R0, #+0]
   \   00000068   15E0               B           ??servo_update_auto_9
    110                }
    111                else
    112                {
    113                    pcm_update_flag = 1;
   \                     ??servo_update_auto_8:
   \   0000006A   A449               LDR         R1,??servo_update_auto_4+0x14  ;; last_control_mode + 3
   \   0000006C   0122               MOV         R2,#+1
   \   0000006E   0A70               STRB        R2,[R1, #+0]
    114                    uncharcpy(pcm_line, AVR_PCM+2,24 );
   \   00000070   0021               MOV         R1,#+0
   \   00000072   A34A               LDR         R2,??servo_update_auto_4+0x18  ;; pcm_line
   \                     ??servo_update_auto_10:
   \   00000074   4318               ADD         R3,R0,R1
   \   00000076   9B78               LDRB        R3,[R3, #+2]
   \   00000078   5354               STRB        R3,[R2, R1]
   \   0000007A   491C               ADD         R1,R1,#+1
   \   0000007C   1829               CMP         R1,#+24
   \   0000007E   0ADA               BGE         ??servo_update_auto_9
   \   00000080   F8E7               B           ??servo_update_auto_10
    115                }
    116              } 
    117              else
    118              {
    119              remote_missing++;
   \                     ??servo_update_auto_6:
   \   00000082   9C48               LDR         R0,??servo_update_auto_4+0xC  ;; last_control_mode + 96
   \   00000084   0068               LDR         R0,[R0, #+0]
   \   00000086   401C               ADD         R0,R0,#+1
   \   00000088   9A49               LDR         R1,??servo_update_auto_4+0xC  ;; last_control_mode + 96
   \   0000008A   0860               STR         R0,[R1, #+0]
    120              if  (remote_missing>15)
   \   0000008C   1028               CMP         R0,#+16
   \   0000008E   02DB               BLT         ??servo_update_auto_9
    121                remote_missing = 15;    
   \   00000090   9848               LDR         R0,??servo_update_auto_4+0xC  ;; last_control_mode + 96
   \   00000092   0F21               MOV         R1,#+15
   \   00000094   0160               STR         R1,[R0, #+0]
    122              }
    123              
    124              
    125              pcmline=pcm_line;
   \                     ??servo_update_auto_9:
   \   00000096   9A48               LDR         R0,??servo_update_auto_4+0x18  ;; pcm_line
   \   00000098   1290               STR         R0,[SP, #+72]
    126              decode_flag=0;
   \   0000009A   0024               MOV         R4,#+0
    127              
    128              for(char i=1;i<9;i++)
   \   0000009C   0125               MOV         R5,#+1
    129              {
    130                  pcm_temp[i]=strntol((char*)pcmline,3,(char**)&pcmline,16);
   \                     ??servo_update_auto_11:
   \   0000009E   AF00               LSL         R7,R5,#+2
   \   000000A0   4BA8               ADD         R0,SP,#+300
   \   000000A2   C619               ADD         R6,R0,R7
   \   000000A4   1023               MOV         R3,#+16
   \   000000A6   12AA               ADD         R2,SP,#+72
   \   000000A8   0321               MOV         R1,#+3
   \   000000AA   1298               LDR         R0,[SP, #+72]
   \   000000AC   ........           _BLF        ??strntol,??strntol??rT
   \   000000B0   3060               STR         R0,[R6, #+0]
    131                  if(pcm_temp[i]==0)
   \   000000B2   0028               CMP         R0,#+0
   \   000000B4   00D1               BNE         ??servo_update_auto_12
    132                  {
    133                      decode_flag++;
   \   000000B6   641C               ADD         R4,R4,#+1
    134                  }
    135                  ppm_temp[i] = (int)(0.8304* pcm_temp[i]-385.2857);
   \                     ??servo_update_auto_12:
   \   000000B8   54AE               ADD         R6,SP,#+336
   \   000000BA   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   000000BE   914A               LDR         R2,??servo_update_auto_4+0x1C  ;; 0x5532618
   \   000000C0   914B               LDR         R3,??servo_update_auto_4+0x20  ;; 0x3fea92a3
   \   000000C2   ........           _BLF        __dMul,??__dMul??rT
   \   000000C6   914A               LDR         R2,??servo_update_auto_4+0x24  ;; 0x3a29c77a
   \   000000C8   914B               LDR         R3,??servo_update_auto_4+0x28  ;; 0xc0781492
   \   000000CA   ........           _BLF        __dAdd,??__dAdd??rT
   \   000000CE   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   000000D2   F051               STR         R0,[R6, R7]
    136              }
   \   000000D4   6D1C               ADD         R5,R5,#+1
   \   000000D6   2806               LSL         R0,R5,#+24
   \   000000D8   000E               LSR         R0,R0,#+24
   \   000000DA   0928               CMP         R0,#+9
   \   000000DC   DFD3               BCC         ??servo_update_auto_11
    137          /*-------------------------------ÊÖ×Ô¿ØÎ»¼ì²â---------------------------------*/
    138          //2015-11-06byMei
    139              last_control_mode = control_mode;
   \   000000DE   8D48               LDR         R0,??servo_update_auto_4+0x2C  ;; last_control_mode
   \   000000E0   8D49               LDR         R1,??servo_update_auto_4+0x30  ;; last_control_mode + 1
   \   000000E2   0978               LDRB        R1,[R1, #+0]
   \   000000E4   0170               STRB        R1,[R0, #+0]
    140              if(pcm_temp[7] < 0x400)
   \   000000E6   5298               LDR         R0,[SP, #+328]
   \   000000E8   8021               MOV         R1,#+128
   \   000000EA   C900               LSL         R1,R1,#+3          ;; #+1024
   \   000000EC   8842               CMP         R0,R1
   \   000000EE   01DA               BGE         ??servo_update_auto_13
    141                  control_mode=1; //0x028 is mode 1 0x200 is mode 2 ÊÖ¿Ø 
   \   000000F0   0120               MOV         R0,#+1
   \   000000F2   00E0               B           ??servo_update_auto_14
    142              else
    143                  control_mode=3;  //0x3d8 is mode 3;×Ô¿Ø
   \                     ??servo_update_auto_13:
   \   000000F4   0320               MOV         R0,#+3
   \                     ??servo_update_auto_14:
   \   000000F6   8849               LDR         R1,??servo_update_auto_4+0x30  ;; last_control_mode + 1
   \   000000F8   0870               STRB        R0,[R1, #+0]
   \   000000FA   002C               CMP         R4,#+0
   \   000000FC   2CD1               BNE         ??servo_update_auto_15
    144                    
    145                  if( decode_flag == 0 )
    146                 {		
    147                      for(char i=1;i<9;i++)
   \   000000FE   0124               MOV         R4,#+1
    148                     {
    149                      	servo_widths_temp[i]=( int)((ppm_temp[i]*1.1718+920)*3/2);
    150                          servo_widths_temp[i]=servo_widths_temp[i]*91/73;
   \                     ??servo_update_auto_16:
   \   00000100   A000               LSL         R0,R4,#+2
   \   00000102   8649               LDR         R1,??servo_update_auto_4+0x34  ;; servo_widths
   \   00000104   0D18               ADD         R5,R1,R0
   \   00000106   54A9               ADD         R1,SP,#+336
   \   00000108   0858               LDR         R0,[R1, R0]
   \   0000010A   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   0000010E   021C               MOV         R2,R0
   \   00000110   0B1C               MOV         R3,R1
   \   00000112   8348               LDR         R0,??servo_update_auto_4+0x38  ;; 0x5b573eab
   \   00000114   8349               LDR         R1,??servo_update_auto_4+0x3C  ;; 0x3ff2bfb1
   \   00000116   ........           _BLF        __dMul,??__dMul??rT
   \   0000011A   021C               MOV         R2,R0
   \   0000011C   0B1C               MOV         R3,R1
   \   0000011E   0020               MOV         R0,#+0
   \   00000120   8149               LDR         R1,??servo_update_auto_4+0x40  ;; 0x408cc000
   \   00000122   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000126   021C               MOV         R2,R0
   \   00000128   0B1C               MOV         R3,R1
   \   0000012A   0020               MOV         R0,#+0
   \   0000012C   7F49               LDR         R1,??servo_update_auto_4+0x44  ;; 0x40080000
   \   0000012E   ........           _BLF        __dMul,??__dMul??rT
   \   00000132   0022               MOV         R2,#+0
   \   00000134   8023               MOV         R3,#+128
   \   00000136   DB05               LSL         R3,R3,#+23         ;; #+1073741824
   \   00000138   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000013C   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   00000140   5B21               MOV         R1,#+91
   \   00000142   4843               MUL         R0,R1
   \   00000144   4921               MOV         R1,#+73
   \   00000146   ........           _BLF        ??div32_t,??rT??div32_t
   \   0000014A   A962               STR         R1,[R5, #+40]
    151                     }                                        
   \   0000014C   641C               ADD         R4,R4,#+1
   \   0000014E   2006               LSL         R0,R4,#+24
   \   00000150   000E               LSR         R0,R0,#+24
   \   00000152   0928               CMP         R0,#+9
   \   00000154   03D2               BCS         ??servo_update_auto_17
   \   00000156   D3E7               B           ??servo_update_auto_16
    152                 }// end of decode_flag == 0
    153                else 
    154                 {
    155                  	pcm_update_flag=2;
   \                     ??servo_update_auto_15:
   \   00000158   6848               LDR         R0,??servo_update_auto_4+0x14  ;; last_control_mode + 3
   \   0000015A   0221               MOV         R1,#+2
   \   0000015C   0170               STRB        R1,[R0, #+0]
    156                 }   
    157           
    158                    
    159          /////////////////////////////////////////////////////////////////´«¸ÐÆ÷Êý¾ÝÔ¤´¦Àí/////////////////////////     
    160             
    161          //½Ç¶È»··´À¡»ñÈ¡
    162          /**************************************½Ç¶È»ñÈ¡,Ã»È¡¿¨¶ûÂü*********************************************/     
    163                  static double roll_angle = 0.0,pitch_angle = 0.0,yaw_angle = 0.0;
    164                  if(servo_widths_temp[3]>2200)
   \                     ??servo_update_auto_17:
   \   0000015E   6A46               MOV         R2,SP
   \   00000160   7348               LDR         R0,??servo_update_auto_4+0x48  ;; last_control_mode + 52
   \   00000162   03C8               LDMIA       R0!,{R0,R1}
   \   00000164   03C2               STMIA       R2!,{R0,R1}
   \   00000166   734E               LDR         R6,??servo_update_auto_4+0x4C  ;; raw_ahrs_pqr
   \   00000168   25AC               ADD         R4,SP,#+148
   \   0000016A   301C               MOV         R0,R6
   \   0000016C   0830               ADD         R0,#+8
   \   0000016E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000170   7148               LDR         R0,??servo_update_auto_4+0x50  ;; 0xfbe76c8b
   \   00000172   7249               LDR         R1,??servo_update_auto_4+0x54  ;; 0x3fa2f1a9
   \   00000174   ........           _BLF        __dMul,??__dMul??rT
   \   00000178   021C               MOV         R2,R0
   \   0000017A   0B1C               MOV         R3,R1
   \   0000017C   7048               LDR         R0,??servo_update_auto_4+0x58  ;; last_control_mode + 44
   \   0000017E   03C8               LDMIA       R0!,{R0,R1}
   \   00000180   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000184   03C4               STMIA       R4!,{R0,R1}
   \   00000186   0CCE               LDMIA       R6!,{R2,R3}
   \   00000188   083E               SUB         R6,#+8
   \   0000018A   6B48               LDR         R0,??servo_update_auto_4+0x50  ;; 0xfbe76c8b
   \   0000018C   6B49               LDR         R1,??servo_update_auto_4+0x54  ;; 0x3fa2f1a9
   \   0000018E   ........           _BLF        __dMul,??__dMul??rT
   \   00000192   6C4A               LDR         R2,??servo_update_auto_4+0x5C  ;; last_control_mode + 36
   \   00000194   0CCA               LDMIA       R2!,{R2,R3}
   \   00000196   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000019A   021C               MOV         R2,R0
   \   0000019C   0B1C               MOV         R3,R1
   \   0000019E   6A48               LDR         R0,??servo_update_auto_4+0x60  ;; servo_widths + 52
   \   000001A0   0068               LDR         R0,[R0, #+0]
   \   000001A2   6A49               LDR         R1,??servo_update_auto_4+0x64  ;; 0x899
   \   000001A4   8842               CMP         R0,R1
   \   000001A6   674F               LDR         R7,??servo_update_auto_4+0x5C  ;; last_control_mode + 36
   \   000001A8   ....               BGE         .+5
   \   000001AA   F7E0               B           ??servo_update_auto_18
    165                  {
    166                    roll_angle = 0.015*raw_ahrs_theta[0] + 0.985*(roll_angle + raw_ahrs_pqr[0]*0.037);
   \   000001AC   6848               LDR         R0,??servo_update_auto_4+0x68  ;; 0xb851eb85
   \   000001AE   6949               LDR         R1,??servo_update_auto_4+0x6C  ;; 0x3fef851e
   \   000001B0   ........           _BLF        __dMul,??__dMul??rT
   \   000001B4   041C               MOV         R4,R0
   \   000001B6   0D1C               MOV         R5,R1
   \   000001B8   6748               LDR         R0,??servo_update_auto_4+0x70  ;; raw_ahrs_theta
   \   000001BA   0CC8               LDMIA       R0!,{R2,R3}
   \   000001BC   6748               LDR         R0,??servo_update_auto_4+0x74  ;; 0xeb851eb8
   \   000001BE   6849               LDR         R1,??servo_update_auto_4+0x78  ;; 0x3f8eb851
   \   000001C0   ........           _BLF        __dMul,??__dMul??rT
   \   000001C4   221C               MOV         R2,R4
   \   000001C6   2B1C               MOV         R3,R5
   \   000001C8   ........           _BLF        __dAdd,??__dAdd??rT
   \   000001CC   03C7               STMIA       R7!,{R0,R1}
    167                    pitch_angle = 0.015*raw_ahrs_theta[1] + 0.985*(pitch_angle + raw_ahrs_pqr[1]*0.037);  
   \   000001CE   25A8               ADD         R0,SP,#+148
   \   000001D0   0CC8               LDMIA       R0!,{R2,R3}
   \   000001D2   5F48               LDR         R0,??servo_update_auto_4+0x68  ;; 0xb851eb85
   \   000001D4   5F49               LDR         R1,??servo_update_auto_4+0x6C  ;; 0x3fef851e
   \   000001D6   ........           _BLF        __dMul,??__dMul??rT
   \   000001DA   041C               MOV         R4,R0
   \   000001DC   0D1C               MOV         R5,R1
   \   000001DE   6148               LDR         R0,??servo_update_auto_4+0x7C  ;; raw_ahrs_theta + 8
   \   000001E0   0CC8               LDMIA       R0!,{R2,R3}
   \   000001E2   5E48               LDR         R0,??servo_update_auto_4+0x74  ;; 0xeb851eb8
   \   000001E4   5E49               LDR         R1,??servo_update_auto_4+0x78  ;; 0x3f8eb851
   \   000001E6   ........           _BLF        __dMul,??__dMul??rT
   \   000001EA   221C               MOV         R2,R4
   \   000001EC   2B1C               MOV         R3,R5
   \   000001EE   ........           _BLF        __dAdd,??__dAdd??rT
   \   000001F2   03C7               STMIA       R7!,{R0,R1}
    168                    yaw_angle = (yaw_angle + raw_ahrs_pqr[2]*0.042);
   \   000001F4   1036               ADD         R6,#+16
   \   000001F6   0CCE               LDMIA       R6!,{R2,R3}
   \   000001F8   5B48               LDR         R0,??servo_update_auto_4+0x80  ;; 0x24dd2f1b
   \   000001FA   5C49               LDR         R1,??servo_update_auto_4+0x84  ;; 0x3fa58106
   \   000001FC   ........           _BLF        __dMul,??__dMul??rT
   \   00000200   6A46               MOV         R2,SP
   \   00000202   0CCA               LDMIA       R2!,{R2,R3}
   \   00000204   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000208   041C               MOV         R4,R0
   \   0000020A   0D1C               MOV         R5,R1
    169                    if (yaw_angle > PI) yaw_angle -= 2*PI; if (yaw_angle <= -PI) yaw_angle += 2*PI;
   \   0000020C   584A               LDR         R2,??servo_update_auto_4+0x88  ;; 0x53c8d4f2
   \   0000020E   594B               LDR         R3,??servo_update_auto_4+0x8C  ;; 0x400921fb
   \   00000210   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00000214   0028               CMP         R0,#+0
   \   00000216   07D0               BEQ         ??servo_update_auto_19
   \   00000218   5748               LDR         R0,??servo_update_auto_4+0x90  ;; 0x53c8d4f1
   \   0000021A   5849               LDR         R1,??servo_update_auto_4+0x94  ;; 0xc01921fb
   \   0000021C   221C               MOV         R2,R4
   \   0000021E   2B1C               MOV         R3,R5
   \   00000220   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000224   041C               MOV         R4,R0
   \   00000226   0D1C               MOV         R5,R1
   \                     ??servo_update_auto_19:
   \   00000228   201C               MOV         R0,R4
   \   0000022A   291C               MOV         R1,R5
   \   0000022C   544A               LDR         R2,??servo_update_auto_4+0x98  ;; 0x53c8d4f0
   \   0000022E   554B               LDR         R3,??servo_update_auto_4+0x9C  ;; 0xc00921fb
   \   00000230   ........           _BLF        __dLess,??__dLess??rT
   \   00000234   0028               CMP         R0,#+0
   \   00000236   07D0               BEQ         ??servo_update_auto_20
   \   00000238   4F48               LDR         R0,??servo_update_auto_4+0x90  ;; 0x53c8d4f1
   \   0000023A   5349               LDR         R1,??servo_update_auto_4+0xA0  ;; 0x401921fb
   \   0000023C   221C               MOV         R2,R4
   \   0000023E   2B1C               MOV         R3,R5
   \   00000240   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000244   041C               MOV         R4,R0
   \   00000246   0D1C               MOV         R5,R1
    170                    if (PI < (yaw_angle - raw_ahrs_theta[2]))  yaw_angle = 0.03*(raw_ahrs_theta[2]+2*PI) + 0.97*(yaw_angle); 
   \                     ??servo_update_auto_20:
   \   00000248   23AE               ADD         R6,SP,#+140
   \   0000024A   201C               MOV         R0,R4
   \   0000024C   291C               MOV         R1,R5
   \   0000024E   4F4A               LDR         R2,??servo_update_auto_4+0xA4  ;; raw_ahrs_theta + 16
   \   00000250   0CCA               LDMIA       R2!,{R2,R3}
   \   00000252   ........           _BLF        __dSub,??__dSub??rT
   \   00000256   03C6               STMIA       R6!,{R0,R1}
   \   00000258   23A8               ADD         R0,SP,#+140
   \   0000025A   03C8               LDMIA       R0!,{R0,R1}
   \   0000025C   444A               LDR         R2,??servo_update_auto_4+0x88  ;; 0x53c8d4f2
   \   0000025E   454B               LDR         R3,??servo_update_auto_4+0x8C  ;; 0x400921fb
   \   00000260   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00000264   0028               CMP         R0,#+0
   \   00000266   14D0               BEQ         ??servo_update_auto_21
   \   00000268   4948               LDR         R0,??servo_update_auto_4+0xA8  ;; 0x70a3d70a
   \   0000026A   4A49               LDR         R1,??servo_update_auto_4+0xAC  ;; 0x3fef0a3d
   \   0000026C   221C               MOV         R2,R4
   \   0000026E   2B1C               MOV         R3,R5
   \   00000270   ........           _BLF        __dMul,??__dMul??rT
   \   00000274   041C               MOV         R4,R0
   \   00000276   0D1C               MOV         R5,R1
   \   00000278   4448               LDR         R0,??servo_update_auto_4+0xA4  ;; raw_ahrs_theta + 16
   \   0000027A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000027C   3E48               LDR         R0,??servo_update_auto_4+0x90  ;; 0x53c8d4f1
   \   0000027E   4249               LDR         R1,??servo_update_auto_4+0xA0  ;; 0x401921fb
   \   00000280   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000284   354A               LDR         R2,??servo_update_auto_4+0x74  ;; 0xeb851eb8
   \   00000286   444B               LDR         R3,??servo_update_auto_4+0xB0  ;; 0x3f9eb851
   \   00000288   ........           _BLF        __dMul,??__dMul??rT
   \   0000028C   221C               MOV         R2,R4
   \   0000028E   2B1C               MOV         R3,R5
   \   00000290   24E0               B           ??servo_update_auto_22
    171                    else if ( (yaw_angle - raw_ahrs_theta[2]) < -PI) yaw_angle = 0.03*(raw_ahrs_theta[2]) + 0.97*(yaw_angle+2*PI); 
   \                     ??servo_update_auto_21:
   \   00000292   3E48               LDR         R0,??servo_update_auto_4+0xA4  ;; raw_ahrs_theta + 16
   \   00000294   0CC8               LDMIA       R0!,{R2,R3}
   \   00000296   3148               LDR         R0,??servo_update_auto_4+0x74  ;; 0xeb851eb8
   \   00000298   3F49               LDR         R1,??servo_update_auto_4+0xB0  ;; 0x3f9eb851
   \   0000029A   ........           _BLF        __dMul,??__dMul??rT
   \   0000029E   061C               MOV         R6,R0
   \   000002A0   0F1C               MOV         R7,R1
   \   000002A2   23A8               ADD         R0,SP,#+140
   \   000002A4   03C8               LDMIA       R0!,{R0,R1}
   \   000002A6   344A               LDR         R2,??servo_update_auto_4+0x90  ;; 0x53c8d4f1
   \   000002A8   364B               LDR         R3,??servo_update_auto_4+0x9C  ;; 0xc00921fb
   \   000002AA   ........           _BLF        __dLess,??__dLess??rT
   \   000002AE   0028               CMP         R0,#+0
   \   000002B0   0CD0               BEQ         ??servo_update_auto_23
   \   000002B2   3148               LDR         R0,??servo_update_auto_4+0x90  ;; 0x53c8d4f1
   \   000002B4   3449               LDR         R1,??servo_update_auto_4+0xA0  ;; 0x401921fb
   \   000002B6   221C               MOV         R2,R4
   \   000002B8   2B1C               MOV         R3,R5
   \   000002BA   ........           _BLF        __dAdd,??__dAdd??rT
   \   000002BE   344A               LDR         R2,??servo_update_auto_4+0xA8  ;; 0x70a3d70a
   \   000002C0   344B               LDR         R3,??servo_update_auto_4+0xAC  ;; 0x3fef0a3d
   \   000002C2   ........           _BLF        __dMul,??__dMul??rT
   \   000002C6   321C               MOV         R2,R6
   \   000002C8   3B1C               MOV         R3,R7
   \   000002CA   07E0               B           ??servo_update_auto_22
    172                    else yaw_angle = 0.03*raw_ahrs_theta[2] + 0.97*yaw_angle;
   \                     ??servo_update_auto_23:
   \   000002CC   3048               LDR         R0,??servo_update_auto_4+0xA8  ;; 0x70a3d70a
   \   000002CE   3149               LDR         R1,??servo_update_auto_4+0xAC  ;; 0x3fef0a3d
   \   000002D0   221C               MOV         R2,R4
   \   000002D2   2B1C               MOV         R3,R5
   \   000002D4   ........           _BLF        __dMul,??__dMul??rT
   \   000002D8   321C               MOV         R2,R6
   \   000002DA   3B1C               MOV         R3,R7
   \                     ??servo_update_auto_22:
   \   000002DC   ........           _BLF        __dAdd,??__dAdd??rT
   \   000002E0   041C               MOV         R4,R0
   \   000002E2   0D1C               MOV         R5,R1
    173                    if (yaw_angle > PI)
   \   000002E4   F6E0               B           ??servo_update_auto_24
   \   000002E6   C046               NOP         
   \                     ??servo_update_auto_4:
   \   000002E8   ........           DC32        last_control_mode + 92
   \   000002EC   11270000           DC32        0x2711
   \   000002F0   ........           DC32        last_control_mode + 2
   \   000002F4   ........           DC32        last_control_mode + 96
   \   000002F8   ........           DC32        AVR_PCM
   \   000002FC   ........           DC32        last_control_mode + 3
   \   00000300   ........           DC32        pcm_line
   \   00000304   18265305           DC32        0x5532618
   \   00000308   A392EA3F           DC32        0x3fea92a3
   \   0000030C   7AC7293A           DC32        0x3a29c77a
   \   00000310   921478C0           DC32        0xc0781492
   \   00000314   ........           DC32        last_control_mode
   \   00000318   ........           DC32        last_control_mode + 1
   \   0000031C   ........           DC32        servo_widths
   \   00000320   AB3E575B           DC32        0x5b573eab
   \   00000324   B1BFF23F           DC32        0x3ff2bfb1
   \   00000328   00C08C40           DC32        0x408cc000
   \   0000032C   00000840           DC32        0x40080000
   \   00000330   ........           DC32        last_control_mode + 52
   \   00000334   ........           DC32        raw_ahrs_pqr
   \   00000338   8B6CE7FB           DC32        0xfbe76c8b
   \   0000033C   A9F1A23F           DC32        0x3fa2f1a9
   \   00000340   ........           DC32        last_control_mode + 44
   \   00000344   ........           DC32        last_control_mode + 36
   \   00000348   ........           DC32        servo_widths + 52
   \   0000034C   99080000           DC32        0x899
   \   00000350   85EB51B8           DC32        0xb851eb85
   \   00000354   1E85EF3F           DC32        0x3fef851e
   \   00000358   ........           DC32        raw_ahrs_theta
   \   0000035C   B81E85EB           DC32        0xeb851eb8
   \   00000360   51B88E3F           DC32        0x3f8eb851
   \   00000364   ........           DC32        raw_ahrs_theta + 8
   \   00000368   1B2FDD24           DC32        0x24dd2f1b
   \   0000036C   0681A53F           DC32        0x3fa58106
   \   00000370   F2D4C853           DC32        0x53c8d4f2
   \   00000374   FB210940           DC32        0x400921fb
   \   00000378   F1D4C853           DC32        0x53c8d4f1
   \   0000037C   FB2119C0           DC32        0xc01921fb
   \   00000380   F0D4C853           DC32        0x53c8d4f0
   \   00000384   FB2109C0           DC32        0xc00921fb
   \   00000388   FB211940           DC32        0x401921fb
   \   0000038C   ........           DC32        raw_ahrs_theta + 16
   \   00000390   0AD7A370           DC32        0x70a3d70a
   \   00000394   3D0AEF3F           DC32        0x3fef0a3d
   \   00000398   51B89E3F           DC32        0x3f9eb851
    174                    yaw_angle -= 2*PI; 
    175                    if (yaw_angle <= -PI)
    176                    yaw_angle += 2*PI;
    177                  }
    178                  
    179                  else
    180                  {
    181                    roll_angle = 0.05*raw_ahrs_theta[0] + 0.95*(roll_angle + raw_ahrs_pqr[0]*0.037);//·É»ú×ÅÂ½×²»÷×ËÌ¬½âËã»á²úÉúÆ«²î,ÕâÀï¿ÉÒÔ¼Ó¿ìÊÕÁ²
   \                     ??servo_update_auto_18:
   \   0000039C   D448               LDR         R0,??servo_update_auto_25  ;; 0x66666666
   \   0000039E   D549               LDR         R1,??servo_update_auto_25+0x4  ;; 0x3fee6666
   \   000003A0   ........           _BLF        __dMul,??__dMul??rT
   \   000003A4   041C               MOV         R4,R0
   \   000003A6   0D1C               MOV         R5,R1
   \   000003A8   D348               LDR         R0,??servo_update_auto_25+0x8  ;; raw_ahrs_theta
   \   000003AA   0CC8               LDMIA       R0!,{R2,R3}
   \   000003AC   D348               LDR         R0,??servo_update_auto_25+0xC  ;; 0x9999999a
   \   000003AE   D449               LDR         R1,??servo_update_auto_25+0x10  ;; 0x3fa99999
   \   000003B0   ........           _BLF        __dMul,??__dMul??rT
   \   000003B4   221C               MOV         R2,R4
   \   000003B6   2B1C               MOV         R3,R5
   \   000003B8   ........           _BLF        __dAdd,??__dAdd??rT
   \   000003BC   03C7               STMIA       R7!,{R0,R1}
    182                    pitch_angle = 0.05*raw_ahrs_theta[1] + 0.95*(pitch_angle + raw_ahrs_pqr[1]*0.037);//·É»ú×ÅÂ½×²»÷×ËÌ¬½âËã»á²úÉúÆ«²î,ÕâÀï¿ÉÒÔ¼Ó¿ìÊÕÁ²
   \   000003BE   25A8               ADD         R0,SP,#+148
   \   000003C0   0CC8               LDMIA       R0!,{R2,R3}
   \   000003C2   CB48               LDR         R0,??servo_update_auto_25  ;; 0x66666666
   \   000003C4   CB49               LDR         R1,??servo_update_auto_25+0x4  ;; 0x3fee6666
   \   000003C6   ........           _BLF        __dMul,??__dMul??rT
   \   000003CA   041C               MOV         R4,R0
   \   000003CC   0D1C               MOV         R5,R1
   \   000003CE   CD48               LDR         R0,??servo_update_auto_25+0x14  ;; raw_ahrs_theta + 8
   \   000003D0   0CC8               LDMIA       R0!,{R2,R3}
   \   000003D2   CA48               LDR         R0,??servo_update_auto_25+0xC  ;; 0x9999999a
   \   000003D4   CA49               LDR         R1,??servo_update_auto_25+0x10  ;; 0x3fa99999
   \   000003D6   ........           _BLF        __dMul,??__dMul??rT
   \   000003DA   221C               MOV         R2,R4
   \   000003DC   2B1C               MOV         R3,R5
   \   000003DE   ........           _BLF        __dAdd,??__dAdd??rT
   \   000003E2   03C7               STMIA       R7!,{R0,R1}
    183                    yaw_angle = (yaw_angle + raw_ahrs_pqr[2]*0.042);
   \   000003E4   1036               ADD         R6,#+16
   \   000003E6   0CCE               LDMIA       R6!,{R2,R3}
   \   000003E8   C748               LDR         R0,??servo_update_auto_25+0x18  ;; 0x24dd2f1b
   \   000003EA   C849               LDR         R1,??servo_update_auto_25+0x1C  ;; 0x3fa58106
   \   000003EC   ........           _BLF        __dMul,??__dMul??rT
   \   000003F0   6A46               MOV         R2,SP
   \   000003F2   0CCA               LDMIA       R2!,{R2,R3}
   \   000003F4   ........           _BLF        __dAdd,??__dAdd??rT
   \   000003F8   041C               MOV         R4,R0
   \   000003FA   0D1C               MOV         R5,R1
    184                    if (yaw_angle > PI) yaw_angle -= 2*PI; if (yaw_angle <= -PI) yaw_angle += 2*PI;
   \   000003FC   C44A               LDR         R2,??servo_update_auto_25+0x20  ;; 0x53c8d4f2
   \   000003FE   C54B               LDR         R3,??servo_update_auto_25+0x24  ;; 0x400921fb
   \   00000400   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00000404   0028               CMP         R0,#+0
   \   00000406   07D0               BEQ         ??servo_update_auto_26
   \   00000408   C348               LDR         R0,??servo_update_auto_25+0x28  ;; 0x53c8d4f1
   \   0000040A   C449               LDR         R1,??servo_update_auto_25+0x2C  ;; 0xc01921fb
   \   0000040C   221C               MOV         R2,R4
   \   0000040E   2B1C               MOV         R3,R5
   \   00000410   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000414   041C               MOV         R4,R0
   \   00000416   0D1C               MOV         R5,R1
   \                     ??servo_update_auto_26:
   \   00000418   201C               MOV         R0,R4
   \   0000041A   291C               MOV         R1,R5
   \   0000041C   C04A               LDR         R2,??servo_update_auto_25+0x30  ;; 0x53c8d4f0
   \   0000041E   C14B               LDR         R3,??servo_update_auto_25+0x34  ;; 0xc00921fb
   \   00000420   ........           _BLF        __dLess,??__dLess??rT
   \   00000424   0028               CMP         R0,#+0
   \   00000426   07D0               BEQ         ??servo_update_auto_27
   \   00000428   BB48               LDR         R0,??servo_update_auto_25+0x28  ;; 0x53c8d4f1
   \   0000042A   BF49               LDR         R1,??servo_update_auto_25+0x38  ;; 0x401921fb
   \   0000042C   221C               MOV         R2,R4
   \   0000042E   2B1C               MOV         R3,R5
   \   00000430   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000434   041C               MOV         R4,R0
   \   00000436   0D1C               MOV         R5,R1
    185                    if (PI < (yaw_angle - raw_ahrs_theta[2]))  yaw_angle = 0.05*(raw_ahrs_theta[2]+2*PI) + 0.95*(yaw_angle); 
   \                     ??servo_update_auto_27:
   \   00000438   6E46               MOV         R6,SP
   \   0000043A   201C               MOV         R0,R4
   \   0000043C   291C               MOV         R1,R5
   \   0000043E   BB4A               LDR         R2,??servo_update_auto_25+0x3C  ;; raw_ahrs_theta + 16
   \   00000440   0CCA               LDMIA       R2!,{R2,R3}
   \   00000442   ........           _BLF        __dSub,??__dSub??rT
   \   00000446   03C6               STMIA       R6!,{R0,R1}
   \   00000448   6846               MOV         R0,SP
   \   0000044A   03C8               LDMIA       R0!,{R0,R1}
   \   0000044C   B04A               LDR         R2,??servo_update_auto_25+0x20  ;; 0x53c8d4f2
   \   0000044E   B14B               LDR         R3,??servo_update_auto_25+0x24  ;; 0x400921fb
   \   00000450   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00000454   0028               CMP         R0,#+0
   \   00000456   14D0               BEQ         ??servo_update_auto_28
   \   00000458   A548               LDR         R0,??servo_update_auto_25  ;; 0x66666666
   \   0000045A   A649               LDR         R1,??servo_update_auto_25+0x4  ;; 0x3fee6666
   \   0000045C   221C               MOV         R2,R4
   \   0000045E   2B1C               MOV         R3,R5
   \   00000460   ........           _BLF        __dMul,??__dMul??rT
   \   00000464   041C               MOV         R4,R0
   \   00000466   0D1C               MOV         R5,R1
   \   00000468   B048               LDR         R0,??servo_update_auto_25+0x3C  ;; raw_ahrs_theta + 16
   \   0000046A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000046C   AA48               LDR         R0,??servo_update_auto_25+0x28  ;; 0x53c8d4f1
   \   0000046E   AE49               LDR         R1,??servo_update_auto_25+0x38  ;; 0x401921fb
   \   00000470   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000474   A14A               LDR         R2,??servo_update_auto_25+0xC  ;; 0x9999999a
   \   00000476   A24B               LDR         R3,??servo_update_auto_25+0x10  ;; 0x3fa99999
   \   00000478   ........           _BLF        __dMul,??__dMul??rT
   \   0000047C   221C               MOV         R2,R4
   \   0000047E   2B1C               MOV         R3,R5
   \   00000480   24E0               B           ??servo_update_auto_29
    186                    else if ( (yaw_angle - raw_ahrs_theta[2]) < -PI) yaw_angle = 0.05*(raw_ahrs_theta[2]) + 0.95*(yaw_angle+2*PI); 
   \                     ??servo_update_auto_28:
   \   00000482   AA48               LDR         R0,??servo_update_auto_25+0x3C  ;; raw_ahrs_theta + 16
   \   00000484   0CC8               LDMIA       R0!,{R2,R3}
   \   00000486   9D48               LDR         R0,??servo_update_auto_25+0xC  ;; 0x9999999a
   \   00000488   9D49               LDR         R1,??servo_update_auto_25+0x10  ;; 0x3fa99999
   \   0000048A   ........           _BLF        __dMul,??__dMul??rT
   \   0000048E   061C               MOV         R6,R0
   \   00000490   0F1C               MOV         R7,R1
   \   00000492   6846               MOV         R0,SP
   \   00000494   03C8               LDMIA       R0!,{R0,R1}
   \   00000496   A04A               LDR         R2,??servo_update_auto_25+0x28  ;; 0x53c8d4f1
   \   00000498   A24B               LDR         R3,??servo_update_auto_25+0x34  ;; 0xc00921fb
   \   0000049A   ........           _BLF        __dLess,??__dLess??rT
   \   0000049E   0028               CMP         R0,#+0
   \   000004A0   0CD0               BEQ         ??servo_update_auto_30
   \   000004A2   9D48               LDR         R0,??servo_update_auto_25+0x28  ;; 0x53c8d4f1
   \   000004A4   A049               LDR         R1,??servo_update_auto_25+0x38  ;; 0x401921fb
   \   000004A6   221C               MOV         R2,R4
   \   000004A8   2B1C               MOV         R3,R5
   \   000004AA   ........           _BLF        __dAdd,??__dAdd??rT
   \   000004AE   904A               LDR         R2,??servo_update_auto_25  ;; 0x66666666
   \   000004B0   904B               LDR         R3,??servo_update_auto_25+0x4  ;; 0x3fee6666
   \   000004B2   ........           _BLF        __dMul,??__dMul??rT
   \   000004B6   321C               MOV         R2,R6
   \   000004B8   3B1C               MOV         R3,R7
   \   000004BA   07E0               B           ??servo_update_auto_29
    187                    else yaw_angle = 0.05*raw_ahrs_theta[2] + 0.95*yaw_angle;
   \                     ??servo_update_auto_30:
   \   000004BC   8C48               LDR         R0,??servo_update_auto_25  ;; 0x66666666
   \   000004BE   8D49               LDR         R1,??servo_update_auto_25+0x4  ;; 0x3fee6666
   \   000004C0   221C               MOV         R2,R4
   \   000004C2   2B1C               MOV         R3,R5
   \   000004C4   ........           _BLF        __dMul,??__dMul??rT
   \   000004C8   321C               MOV         R2,R6
   \   000004CA   3B1C               MOV         R3,R7
   \                     ??servo_update_auto_29:
   \   000004CC   ........           _BLF        __dAdd,??__dAdd??rT
   \   000004D0   041C               MOV         R4,R0
   \   000004D2   0D1C               MOV         R5,R1
    188                    if (yaw_angle > PI)
   \                     ??servo_update_auto_24:
   \   000004D4   201C               MOV         R0,R4
   \   000004D6   291C               MOV         R1,R5
   \   000004D8   8D4A               LDR         R2,??servo_update_auto_25+0x20  ;; 0x53c8d4f2
   \   000004DA   8E4B               LDR         R3,??servo_update_auto_25+0x24  ;; 0x400921fb
   \   000004DC   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   000004E0   0028               CMP         R0,#+0
   \   000004E2   07D0               BEQ         ??servo_update_auto_31
    189                    yaw_angle -= 2*PI; 
   \   000004E4   8C48               LDR         R0,??servo_update_auto_25+0x28  ;; 0x53c8d4f1
   \   000004E6   8D49               LDR         R1,??servo_update_auto_25+0x2C  ;; 0xc01921fb
   \   000004E8   221C               MOV         R2,R4
   \   000004EA   2B1C               MOV         R3,R5
   \   000004EC   ........           _BLF        __dAdd,??__dAdd??rT
   \   000004F0   041C               MOV         R4,R0
   \   000004F2   0D1C               MOV         R5,R1
    190                    if (yaw_angle <= -PI)
   \                     ??servo_update_auto_31:
   \   000004F4   201C               MOV         R0,R4
   \   000004F6   291C               MOV         R1,R5
   \   000004F8   894A               LDR         R2,??servo_update_auto_25+0x30  ;; 0x53c8d4f0
   \   000004FA   8A4B               LDR         R3,??servo_update_auto_25+0x34  ;; 0xc00921fb
   \   000004FC   ........           _BLF        __dLess,??__dLess??rT
   \   00000500   0028               CMP         R0,#+0
   \   00000502   07D0               BEQ         ??servo_update_auto_32
    191                    yaw_angle += 2*PI; 
   \   00000504   8448               LDR         R0,??servo_update_auto_25+0x28  ;; 0x53c8d4f1
   \   00000506   8849               LDR         R1,??servo_update_auto_25+0x38  ;; 0x401921fb
   \   00000508   221C               MOV         R2,R4
   \   0000050A   2B1C               MOV         R3,R5
   \   0000050C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000510   041C               MOV         R4,R0
   \   00000512   0D1C               MOV         R5,R1
   \                     ??servo_update_auto_32:
   \   00000514   8648               LDR         R0,??servo_update_auto_25+0x40  ;; last_control_mode + 52
   \   00000516   30C0               STMIA       R0!,{R4,R5}
    192                  }
    193                  input_yaw = yaw_angle;
   \   00000518   8648               LDR         R0,??servo_update_auto_25+0x44  ;; input_yaw
   \   0000051A   30C0               STMIA       R0!,{R4,R5}
    194                  ahrs_theta[0] = roll_angle;//¿ÉÉ¾,ÓÃÀ´´«Êý¾Ý
   \   0000051C   8648               LDR         R0,??servo_update_auto_25+0x48  ;; last_control_mode + 36
   \   0000051E   C0C8               LDMIA       R0!,{R6,R7}
   \   00000520   864A               LDR         R2,??servo_update_auto_25+0x4C  ;; ahrs_theta
   \   00000522   C0C2               STMIA       R2!,{R6,R7}
   \   00000524   03C8               LDMIA       R0!,{R0,R1}
   \   00000526   03C2               STMIA       R2!,{R0,R1}
    195                  ahrs_theta[1] = pitch_angle;//¿ÉÉ¾,ÓÃÀ´´«Êý¾Ý
    196                  
    197                  double cr,sr,cp,sp,cy,sy,srsp,crsp;
    198                  cr = cos(roll_angle);sr = sin(roll_angle);
   \   00000528   0122               MOV         R2,#+1
   \   0000052A   301C               MOV         R0,R6
   \   0000052C   391C               MOV         R1,R7
   \   0000052E   ........           _BLF        _Sin,??_Sin??rT
   \   00000532   0EAA               ADD         R2,SP,#+56
   \   00000534   03C2               STMIA       R2!,{R0,R1}
   \   00000536   0022               MOV         R2,#+0
   \   00000538   301C               MOV         R0,R6
   \   0000053A   391C               MOV         R1,R7
   \   0000053C   ........           _BLF        _Sin,??_Sin??rT
   \   00000540   10AA               ADD         R2,SP,#+64
   \   00000542   03C2               STMIA       R2!,{R0,R1}
    199                  cp = cos(pitch_angle);sp = sin(pitch_angle);
   \   00000544   0122               MOV         R2,#+1
   \   00000546   7E48               LDR         R0,??servo_update_auto_25+0x50  ;; last_control_mode + 44
   \   00000548   03C8               LDMIA       R0!,{R0,R1}
   \   0000054A   ........           _BLF        _Sin,??_Sin??rT
   \   0000054E   03AA               ADD         R2,SP,#+12
   \   00000550   03C2               STMIA       R2!,{R0,R1}
   \   00000552   0022               MOV         R2,#+0
   \   00000554   7A48               LDR         R0,??servo_update_auto_25+0x50  ;; last_control_mode + 44
   \   00000556   03C8               LDMIA       R0!,{R0,R1}
   \   00000558   ........           _BLF        _Sin,??_Sin??rT
   \   0000055C   13AA               ADD         R2,SP,#+76
   \   0000055E   03C2               STMIA       R2!,{R0,R1}
    200                  cy = cos(yaw_angle);sy = sin(yaw_angle);
   \   00000560   0122               MOV         R2,#+1
   \   00000562   201C               MOV         R0,R4
   \   00000564   291C               MOV         R1,R5
   \   00000566   ........           _BLF        _Sin,??_Sin??rT
   \   0000056A   05AA               ADD         R2,SP,#+20
   \   0000056C   03C2               STMIA       R2!,{R0,R1}
   \   0000056E   0022               MOV         R2,#+0
   \   00000570   201C               MOV         R0,R4
   \   00000572   291C               MOV         R1,R5
   \   00000574   ........           _BLF        _Sin,??_Sin??rT
   \   00000578   07AA               ADD         R2,SP,#+28
   \   0000057A   03C2               STMIA       R2!,{R0,R1}
    201                  srsp = sr*sp ; crsp = cr*sp;
   \   0000057C   27AC               ADD         R4,SP,#+156
   \   0000057E   10A8               ADD         R0,SP,#+64
   \   00000580   0CC8               LDMIA       R0!,{R2,R3}
   \   00000582   13A8               ADD         R0,SP,#+76
   \   00000584   03C8               LDMIA       R0!,{R0,R1}
   \   00000586   ........           _BLF        __dMul,??__dMul??rT
   \   0000058A   03C4               STMIA       R4!,{R0,R1}
   \   0000058C   0EA8               ADD         R0,SP,#+56
   \   0000058E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000590   13A8               ADD         R0,SP,#+76
   \   00000592   03C8               LDMIA       R0!,{R0,R1}
   \   00000594   ........           _BLF        __dMul,??__dMul??rT
   \   00000598   041C               MOV         R4,R0
   \   0000059A   0D1C               MOV         R5,R1
    202                  
    203                  double acc_x,acc_y,acc_n,acc_e,acc_d;
    204                  static double g = 0.0;
    205                  static int stage = 0; 
    206                  if (stage < 200)
   \   0000059C   6948               LDR         R0,??servo_update_auto_25+0x54  ;; last_control_mode + 104
   \   0000059E   0068               LDR         R0,[R0, #+0]
   \   000005A0   0D90               STR         R0,[SP, #+52]
   \   000005A2   6948               LDR         R0,??servo_update_auto_25+0x58  ;; last_control_mode + 100
   \   000005A4   0668               LDR         R6,[R0, #+0]
   \   000005A6   C82E               CMP         R6,#+200
   \   000005A8   ....               BLT         .+5
   \   000005AA   D9E0               B           ??servo_update_auto_33
    207                  {
    208                      stage++; 
   \   000005AC   761C               ADD         R6,R6,#+1
   \   000005AE   0660               STR         R6,[R0, #+0]
    209                      g += accel_g;
   \   000005B0   6A46               MOV         R2,SP
   \   000005B2   6648               LDR         R0,??servo_update_auto_25+0x5C  ;; accel_g
   \   000005B4   03C8               LDMIA       R0!,{R0,R1}
   \   000005B6   03C2               STMIA       R2!,{R0,R1}
   \   000005B8   654E               LDR         R6,??servo_update_auto_25+0x60  ;; last_control_mode + 60
   \   000005BA   6548               LDR         R0,??servo_update_auto_25+0x60  ;; last_control_mode + 60
   \   000005BC   0CC8               LDMIA       R0!,{R2,R3}
   \   000005BE   6846               MOV         R0,SP
   \   000005C0   03C8               LDMIA       R0!,{R0,R1}
   \   000005C2   ........           _BLF        __dAdd,??__dAdd??rT
   \   000005C6   03C6               STMIA       R6!,{R0,R1}
    210                      acc_x = -(imu_accel[0]*cp   + imu_accel[1]*srsp     + imu_accel[2]*crsp);
   \   000005C8   09AA               ADD         R2,SP,#+36
   \   000005CA   04B4               PUSH        {R2}
   \   000005CC   6148               LDR         R0,??servo_update_auto_25+0x64  ;; imu_accel + 16
   \   000005CE   03C8               LDMIA       R0!,{R0,R1}
   \   000005D0   221C               MOV         R2,R4
   \   000005D2   2B1C               MOV         R3,R5
   \   000005D4   ........           _BLF        __dMul,??__dMul??rT
   \   000005D8   061C               MOV         R6,R0
   \   000005DA   0F1C               MOV         R7,R1
   \   000005DC   5E48               LDR         R0,??servo_update_auto_25+0x68  ;; imu_accel + 8
   \   000005DE   0CC8               LDMIA       R0!,{R2,R3}
   \   000005E0   28A8               ADD         R0,SP,#+160
   \   000005E2   03C8               LDMIA       R0!,{R0,R1}
   \   000005E4   ........           _BLF        __dMul,??__dMul??rT
   \   000005E8   041C               MOV         R4,R0
   \   000005EA   0D1C               MOV         R5,R1
   \   000005EC   5B48               LDR         R0,??servo_update_auto_25+0x6C  ;; imu_accel
   \   000005EE   0CC8               LDMIA       R0!,{R2,R3}
   \   000005F0   04A8               ADD         R0,SP,#+16
   \   000005F2   03C8               LDMIA       R0!,{R0,R1}
   \   000005F4   ........           _BLF        __dMul,??__dMul??rT
   \   000005F8   221C               MOV         R2,R4
   \   000005FA   2B1C               MOV         R3,R5
   \   000005FC   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000600   321C               MOV         R2,R6
   \   00000602   3B1C               MOV         R3,R7
   \   00000604   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000608   8022               MOV         R2,#+128
   \   0000060A   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   0000060C   5140               EOR         R1,R2
   \   0000060E   04BC               POP         {R2}
   \   00000610   03C2               STMIA       R2!,{R0,R1}
    211                      acc_y = -(                    imu_accel[1]*cr       - imu_accel[2]*sr);
   \   00000612   0BAE               ADD         R6,SP,#+44
   \   00000614   5048               LDR         R0,??servo_update_auto_25+0x68  ;; imu_accel + 8
   \   00000616   0CC8               LDMIA       R0!,{R2,R3}
   \   00000618   0EA8               ADD         R0,SP,#+56
   \   0000061A   03C8               LDMIA       R0!,{R0,R1}
   \   0000061C   ........           _BLF        __dMul,??__dMul??rT
   \   00000620   041C               MOV         R4,R0
   \   00000622   0D1C               MOV         R5,R1
   \   00000624   4B48               LDR         R0,??servo_update_auto_25+0x64  ;; imu_accel + 16
   \   00000626   0CC8               LDMIA       R0!,{R2,R3}
   \   00000628   10A8               ADD         R0,SP,#+64
   \   0000062A   03C8               LDMIA       R0!,{R0,R1}
   \   0000062C   ........           _BLF        __dMul,??__dMul??rT
   \   00000630   221C               MOV         R2,R4
   \   00000632   2B1C               MOV         R3,R5
   \   00000634   ........           _BLF        __dSub,??__dSub??rT
   \   00000638   03C6               STMIA       R6!,{R0,R1}
    212                      acc_n =   acc_x*cy - acc_y*sy; //acc_n = -(imu_accel[0]*cp*cy + imu_accel[1]*(cy*srsp-sy*cr) + imu_accel[2]*(crsp*cy+sr*sy));
   \   0000063A   17AE               ADD         R6,SP,#+92
   \   0000063C   0BA8               ADD         R0,SP,#+44
   \   0000063E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000640   07A8               ADD         R0,SP,#+28
   \   00000642   03C8               LDMIA       R0!,{R0,R1}
   \   00000644   ........           _BLF        __dMul,??__dMul??rT
   \   00000648   041C               MOV         R4,R0
   \   0000064A   0D1C               MOV         R5,R1
   \   0000064C   09A8               ADD         R0,SP,#+36
   \   0000064E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000650   05A8               ADD         R0,SP,#+20
   \   00000652   03C8               LDMIA       R0!,{R0,R1}
   \   00000654   ........           _BLF        __dMul,??__dMul??rT
   \   00000658   221C               MOV         R2,R4
   \   0000065A   2B1C               MOV         R3,R5
   \   0000065C   ........           _BLF        __dSub,??__dSub??rT
   \   00000660   03C6               STMIA       R6!,{R0,R1}
    213                      acc_e =   acc_x*sy + acc_y*cy;//acc_e = -(imu_accel[0]*cp*sy + imu_accel[1]*(sy*srsp+cy*cr) + imu_accel[2]*(crsp*sy-sr*cy));
   \   00000662   0BA8               ADD         R0,SP,#+44
   \   00000664   0CC8               LDMIA       R0!,{R2,R3}
   \   00000666   05A8               ADD         R0,SP,#+20
   \   00000668   03C8               LDMIA       R0!,{R0,R1}
   \   0000066A   ........           _BLF        __dMul,??__dMul??rT
   \   0000066E   041C               MOV         R4,R0
   \   00000670   0D1C               MOV         R5,R1
   \   00000672   09A8               ADD         R0,SP,#+36
   \   00000674   0CC8               LDMIA       R0!,{R2,R3}
   \   00000676   07A8               ADD         R0,SP,#+28
   \   00000678   03C8               LDMIA       R0!,{R0,R1}
   \   0000067A   ........           _BLF        __dMul,??__dMul??rT
   \   0000067E   221C               MOV         R2,R4
   \   00000680   2B1C               MOV         R3,R5
   \   00000682   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000686   03C6               STMIA       R6!,{R0,R1}
    214                      acc_d = -(imu_accel[0]*-sp  + imu_accel[1]*(cp*sr)  + imu_accel[2]*(cp*cr)   -accel_g);
   \   00000688   1BAA               ADD         R2,SP,#+108
   \   0000068A   04B4               PUSH        {R2}
   \   0000068C   04A8               ADD         R0,SP,#+16
   \   0000068E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000690   0FA8               ADD         R0,SP,#+60
   \   00000692   03C8               LDMIA       R0!,{R0,R1}
   \   00000694   ........           _BLF        __dMul,??__dMul??rT
   \   00000698   2E4A               LDR         R2,??servo_update_auto_25+0x64  ;; imu_accel + 16
   \   0000069A   0CCA               LDMIA       R2!,{R2,R3}
   \   0000069C   ........           _BLF        __dMul,??__dMul??rT
   \   000006A0   061C               MOV         R6,R0
   \   000006A2   0F1C               MOV         R7,R1
   \   000006A4   2D48               LDR         R0,??servo_update_auto_25+0x6C  ;; imu_accel
   \   000006A6   0CC8               LDMIA       R0!,{R2,R3}
   \   000006A8   14A8               ADD         R0,SP,#+80
   \   000006AA   03C8               LDMIA       R0!,{R0,R1}
   \   000006AC   ........           _BLF        __dMul,??__dMul??rT
   \   000006B0   041C               MOV         R4,R0
   \   000006B2   0D1C               MOV         R5,R1
   \   000006B4   04A8               ADD         R0,SP,#+16
   \   000006B6   0CC8               LDMIA       R0!,{R2,R3}
   \   000006B8   11A8               ADD         R0,SP,#+68
   \   000006BA   03C8               LDMIA       R0!,{R0,R1}
   \   000006BC   ........           _BLF        __dMul,??__dMul??rT
   \   000006C0   021C               MOV         R2,R0
   \   000006C2   0B1C               MOV         R3,R1
   \   000006C4   2448               LDR         R0,??servo_update_auto_25+0x68  ;; imu_accel + 8
   \   000006C6   03C8               LDMIA       R0!,{R0,R1}
   \   000006C8   ........           _BLF        __dMul,??__dMul??rT
   \   000006CC   221C               MOV         R2,R4
   \   000006CE   2B1C               MOV         R3,R5
   \   000006D0   ........           _BLF        __dSub,??__dSub??rT
   \   000006D4   321C               MOV         R2,R6
   \   000006D6   3B1C               MOV         R3,R7
   \   000006D8   ........           _BLF        __dAdd,??__dAdd??rT
   \   000006DC   021C               MOV         R2,R0
   \   000006DE   0B1C               MOV         R3,R1
   \   000006E0   01A8               ADD         R0,SP,#+4
   \   000006E2   03C8               LDMIA       R0!,{R0,R1}
   \   000006E4   ........           _BLF        __dSub,??__dSub??rT
   \   000006E8   04BC               POP         {R2}
   \   000006EA   03C2               STMIA       R2!,{R0,R1}
   \   000006EC   1DE1               B           ??servo_update_auto_34
   \   000006EE   C046               NOP         
   \                     ??servo_update_auto_25:
   \   000006F0   66666666           DC32        0x66666666
   \   000006F4   6666EE3F           DC32        0x3fee6666
   \   000006F8   ........           DC32        raw_ahrs_theta
   \   000006FC   9A999999           DC32        0x9999999a
   \   00000700   9999A93F           DC32        0x3fa99999
   \   00000704   ........           DC32        raw_ahrs_theta + 8
   \   00000708   1B2FDD24           DC32        0x24dd2f1b
   \   0000070C   0681A53F           DC32        0x3fa58106
   \   00000710   F2D4C853           DC32        0x53c8d4f2
   \   00000714   FB210940           DC32        0x400921fb
   \   00000718   F1D4C853           DC32        0x53c8d4f1
   \   0000071C   FB2119C0           DC32        0xc01921fb
   \   00000720   F0D4C853           DC32        0x53c8d4f0
   \   00000724   FB2109C0           DC32        0xc00921fb
   \   00000728   FB211940           DC32        0x401921fb
   \   0000072C   ........           DC32        raw_ahrs_theta + 16
   \   00000730   ........           DC32        last_control_mode + 52
   \   00000734   ........           DC32        input_yaw
   \   00000738   ........           DC32        last_control_mode + 36
   \   0000073C   ........           DC32        ahrs_theta
   \   00000740   ........           DC32        last_control_mode + 44
   \   00000744   ........           DC32        last_control_mode + 104
   \   00000748   ........           DC32        last_control_mode + 100
   \   0000074C   ........           DC32        accel_g
   \   00000750   ........           DC32        last_control_mode + 60
   \   00000754   ........           DC32        imu_accel + 16
   \   00000758   ........           DC32        imu_accel + 8
   \   0000075C   ........           DC32        imu_accel
    215                  }
    216                  else if (stage == 200)
   \                     ??servo_update_auto_33:
   \   00000760   6F46               MOV         R7,SP
   \   00000762   5148               LDR         R0,??servo_update_auto_35  ;; imu_accel + 16
   \   00000764   03C8               LDMIA       R0!,{R0,R1}
   \   00000766   221C               MOV         R2,R4
   \   00000768   2B1C               MOV         R3,R5
   \   0000076A   ........           _BLF        __dMul,??__dMul??rT
   \   0000076E   03B4               PUSH        {R0,R1}
   \   00000770   4E48               LDR         R0,??servo_update_auto_35+0x4  ;; imu_accel + 8
   \   00000772   0CC8               LDMIA       R0!,{R2,R3}
   \   00000774   29A8               ADD         R0,SP,#+164
   \   00000776   03C8               LDMIA       R0!,{R0,R1}
   \   00000778   ........           _BLF        __dMul,??__dMul??rT
   \   0000077C   041C               MOV         R4,R0
   \   0000077E   0D1C               MOV         R5,R1
   \   00000780   4B48               LDR         R0,??servo_update_auto_35+0x8  ;; imu_accel
   \   00000782   0CC8               LDMIA       R0!,{R2,R3}
   \   00000784   05A8               ADD         R0,SP,#+20
   \   00000786   03C8               LDMIA       R0!,{R0,R1}
   \   00000788   ........           _BLF        __dMul,??__dMul??rT
   \   0000078C   221C               MOV         R2,R4
   \   0000078E   2B1C               MOV         R3,R5
   \   00000790   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000794   0CBC               POP         {R2,R3}
   \   00000796   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000079A   8022               MOV         R2,#+128
   \   0000079C   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   0000079E   5140               EOR         R1,R2
   \   000007A0   03C7               STMIA       R7!,{R0,R1}
   \   000007A2   29AF               ADD         R7,SP,#+164
   \   000007A4   03A8               ADD         R0,SP,#+12
   \   000007A6   03C8               LDMIA       R0!,{R0,R1}
   \   000007A8   0EAA               ADD         R2,SP,#+56
   \   000007AA   0CCA               LDMIA       R2!,{R2,R3}
   \   000007AC   ........           _BLF        __dMul,??__dMul??rT
   \   000007B0   021C               MOV         R2,R0
   \   000007B2   0B1C               MOV         R3,R1
   \   000007B4   3C48               LDR         R0,??servo_update_auto_35  ;; imu_accel + 16
   \   000007B6   03C8               LDMIA       R0!,{R0,R1}
   \   000007B8   ........           _BLF        __dMul,??__dMul??rT
   \   000007BC   03B4               PUSH        {R0,R1}
   \   000007BE   3C48               LDR         R0,??servo_update_auto_35+0x8  ;; imu_accel
   \   000007C0   0CC8               LDMIA       R0!,{R2,R3}
   \   000007C2   15A8               ADD         R0,SP,#+84
   \   000007C4   03C8               LDMIA       R0!,{R0,R1}
   \   000007C6   ........           _BLF        __dMul,??__dMul??rT
   \   000007CA   041C               MOV         R4,R0
   \   000007CC   0D1C               MOV         R5,R1
   \   000007CE   05A8               ADD         R0,SP,#+20
   \   000007D0   0CC8               LDMIA       R0!,{R2,R3}
   \   000007D2   12A8               ADD         R0,SP,#+72
   \   000007D4   03C8               LDMIA       R0!,{R0,R1}
   \   000007D6   ........           _BLF        __dMul,??__dMul??rT
   \   000007DA   021C               MOV         R2,R0
   \   000007DC   0B1C               MOV         R3,R1
   \   000007DE   3348               LDR         R0,??servo_update_auto_35+0x4  ;; imu_accel + 8
   \   000007E0   03C8               LDMIA       R0!,{R0,R1}
   \   000007E2   ........           _BLF        __dMul,??__dMul??rT
   \   000007E6   221C               MOV         R2,R4
   \   000007E8   2B1C               MOV         R3,R5
   \   000007EA   ........           _BLF        __dSub,??__dSub??rT
   \   000007EE   0CBC               POP         {R2,R3}
   \   000007F0   ........           _BLF        __dAdd,??__dAdd??rT
   \   000007F4   03C7               STMIA       R7!,{R0,R1}
   \   000007F6   2D48               LDR         R0,??servo_update_auto_35+0x4  ;; imu_accel + 8
   \   000007F8   0CC8               LDMIA       R0!,{R2,R3}
   \   000007FA   0EA8               ADD         R0,SP,#+56
   \   000007FC   03C8               LDMIA       R0!,{R0,R1}
   \   000007FE   ........           _BLF        __dMul,??__dMul??rT
   \   00000802   041C               MOV         R4,R0
   \   00000804   0D1C               MOV         R5,R1
   \   00000806   2848               LDR         R0,??servo_update_auto_35  ;; imu_accel + 16
   \   00000808   0CC8               LDMIA       R0!,{R2,R3}
   \   0000080A   10A8               ADD         R0,SP,#+64
   \   0000080C   03C8               LDMIA       R0!,{R0,R1}
   \   0000080E   ........           _BLF        __dMul,??__dMul??rT
   \   00000812   221C               MOV         R2,R4
   \   00000814   2B1C               MOV         R3,R5
   \   00000816   ........           _BLF        __dSub,??__dSub??rT
   \   0000081A   041C               MOV         R4,R0
   \   0000081C   0D1C               MOV         R5,R1
   \   0000081E   C920               MOV         R0,#+201
   \   00000820   C82E               CMP         R6,#+200
   \   00000822   2449               LDR         R1,??servo_update_auto_35+0xC  ;; last_control_mode + 100
   \   00000824   0860               STR         R0,[R1, #+0]
   \   00000826   4BD1               BNE         ??servo_update_auto_36
    217                  {
    218                      stage++; 
    219                      g  /= 200.0;
   \   00000828   2348               LDR         R0,??servo_update_auto_35+0x10  ;; last_control_mode + 60
   \   0000082A   03C8               LDMIA       R0!,{R0,R1}
   \   0000082C   0022               MOV         R2,#+0
   \   0000082E   234B               LDR         R3,??servo_update_auto_35+0x14  ;; 0x40690000
   \   00000830   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000834   061C               MOV         R6,R0
   \   00000836   0F1C               MOV         R7,R1
   \   00000838   1F48               LDR         R0,??servo_update_auto_35+0x10  ;; last_control_mode + 60
   \   0000083A   C0C0               STMIA       R0!,{R6,R7}
    220                      acc_x = -(imu_accel[0]*cp   + imu_accel[1]*srsp     + imu_accel[2]*crsp);
   \   0000083C   09AA               ADD         R2,SP,#+36
   \   0000083E   6846               MOV         R0,SP
   \   00000840   03C8               LDMIA       R0!,{R0,R1}
   \   00000842   03C2               STMIA       R2!,{R0,R1}
    221                      acc_y = -(                    imu_accel[1]*cr       - imu_accel[2]*sr);
   \   00000844   0BA8               ADD         R0,SP,#+44
   \   00000846   30C0               STMIA       R0!,{R4,R5}
    222                      acc_n =   acc_x*cy - acc_y*sy; //acc_n = -(imu_accel[0]*cp*cy + imu_accel[1]*(cy*srsp-sy*cr) + imu_accel[2]*(crsp*cy+sr*sy));
   \   00000848   17AA               ADD         R2,SP,#+92
   \   0000084A   04B4               PUSH        {R2}
   \   0000084C   0CA8               ADD         R0,SP,#+48
   \   0000084E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000850   08A8               ADD         R0,SP,#+32
   \   00000852   03C8               LDMIA       R0!,{R0,R1}
   \   00000854   ........           _BLF        __dMul,??__dMul??rT
   \   00000858   041C               MOV         R4,R0
   \   0000085A   0D1C               MOV         R5,R1
   \   0000085C   0AA8               ADD         R0,SP,#+40
   \   0000085E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000860   06A8               ADD         R0,SP,#+24
   \   00000862   03C8               LDMIA       R0!,{R0,R1}
   \   00000864   ........           _BLF        __dMul,??__dMul??rT
   \   00000868   221C               MOV         R2,R4
   \   0000086A   2B1C               MOV         R3,R5
   \   0000086C   ........           _BLF        __dSub,??__dSub??rT
   \   00000870   04BC               POP         {R2}
   \   00000872   03C2               STMIA       R2!,{R0,R1}
    223                      acc_e =   acc_x*sy + acc_y*cy;//acc_e = -(imu_accel[0]*cp*sy + imu_accel[1]*(sy*srsp+cy*cr) + imu_accel[2]*(crsp*sy-sr*cy));
   \   00000874   19AA               ADD         R2,SP,#+100
   \   00000876   04B4               PUSH        {R2}
   \   00000878   0CA8               ADD         R0,SP,#+48
   \   0000087A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000087C   06A8               ADD         R0,SP,#+24
   \   0000087E   03C8               LDMIA       R0!,{R0,R1}
   \   00000880   ........           _BLF        __dMul,??__dMul??rT
   \   00000884   041C               MOV         R4,R0
   \   00000886   0D1C               MOV         R5,R1
   \   00000888   0AA8               ADD         R0,SP,#+40
   \   0000088A   0CC8               LDMIA       R0!,{R2,R3}
   \   0000088C   08A8               ADD         R0,SP,#+32
   \   0000088E   03C8               LDMIA       R0!,{R0,R1}
   \   00000890   ........           _BLF        __dMul,??__dMul??rT
   \   00000894   221C               MOV         R2,R4
   \   00000896   2B1C               MOV         R3,R5
   \   00000898   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000089C   04BC               POP         {R2}
   \   0000089E   03C2               STMIA       R2!,{R0,R1}
    224                      acc_d = -(imu_accel[0]*-sp  + imu_accel[1]*(cp*sr)  + imu_accel[2]*(cp*cr)   - g);
   \   000008A0   1BAC               ADD         R4,SP,#+108
   \   000008A2   301C               MOV         R0,R6
   \   000008A4   391C               MOV         R1,R7
   \   000008A6   3BE0               B           ??servo_update_auto_37
   \                     ??servo_update_auto_35:
   \   000008A8   ........           DC32        imu_accel + 16
   \   000008AC   ........           DC32        imu_accel + 8
   \   000008B0   ........           DC32        imu_accel
   \   000008B4   ........           DC32        last_control_mode + 100
   \   000008B8   ........           DC32        last_control_mode + 60
   \   000008BC   00006940           DC32        0x40690000
    225                  }
    226                  else
    227                  {
    228                      stage = 201;
    229                      acc_x = -(imu_accel[0]*cp   + imu_accel[1]*srsp     + imu_accel[2]*crsp);
   \                     ??servo_update_auto_36:
   \   000008C0   09AA               ADD         R2,SP,#+36
   \   000008C2   6846               MOV         R0,SP
   \   000008C4   03C8               LDMIA       R0!,{R0,R1}
   \   000008C6   03C2               STMIA       R2!,{R0,R1}
    230                      acc_y = -(                    imu_accel[1]*cr       - imu_accel[2]*sr);
   \   000008C8   0BA8               ADD         R0,SP,#+44
   \   000008CA   30C0               STMIA       R0!,{R4,R5}
    231                      acc_n =   acc_x*cy - acc_y*sy; //acc_n = -(imu_accel[0]*cp*cy + imu_accel[1]*(cy*srsp-sy*cr) + imu_accel[2]*(crsp*cy+sr*sy));
   \   000008CC   17AE               ADD         R6,SP,#+92
   \   000008CE   0BA8               ADD         R0,SP,#+44
   \   000008D0   0CC8               LDMIA       R0!,{R2,R3}
   \   000008D2   07A8               ADD         R0,SP,#+28
   \   000008D4   03C8               LDMIA       R0!,{R0,R1}
   \   000008D6   ........           _BLF        __dMul,??__dMul??rT
   \   000008DA   041C               MOV         R4,R0
   \   000008DC   0D1C               MOV         R5,R1
   \   000008DE   09A8               ADD         R0,SP,#+36
   \   000008E0   0CC8               LDMIA       R0!,{R2,R3}
   \   000008E2   05A8               ADD         R0,SP,#+20
   \   000008E4   03C8               LDMIA       R0!,{R0,R1}
   \   000008E6   ........           _BLF        __dMul,??__dMul??rT
   \   000008EA   221C               MOV         R2,R4
   \   000008EC   2B1C               MOV         R3,R5
   \   000008EE   ........           _BLF        __dSub,??__dSub??rT
   \   000008F2   03C6               STMIA       R6!,{R0,R1}
    232                      acc_e =   acc_x*sy + acc_y*cy;//acc_e = -(imu_accel[0]*cp*sy + imu_accel[1]*(sy*srsp+cy*cr) + imu_accel[2]*(crsp*sy-sr*cy));
   \   000008F4   0BA8               ADD         R0,SP,#+44
   \   000008F6   0CC8               LDMIA       R0!,{R2,R3}
   \   000008F8   05A8               ADD         R0,SP,#+20
   \   000008FA   03C8               LDMIA       R0!,{R0,R1}
   \   000008FC   ........           _BLF        __dMul,??__dMul??rT
   \   00000900   041C               MOV         R4,R0
   \   00000902   0D1C               MOV         R5,R1
   \   00000904   09A8               ADD         R0,SP,#+36
   \   00000906   0CC8               LDMIA       R0!,{R2,R3}
   \   00000908   07A8               ADD         R0,SP,#+28
   \   0000090A   03C8               LDMIA       R0!,{R0,R1}
   \   0000090C   ........           _BLF        __dMul,??__dMul??rT
   \   00000910   221C               MOV         R2,R4
   \   00000912   2B1C               MOV         R3,R5
   \   00000914   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000918   03C6               STMIA       R6!,{R0,R1}
    233                      acc_d = -(imu_accel[0]*-sp  + imu_accel[1]*(cp*sr)  + imu_accel[2]*(cp*cr)   - g);
   \   0000091A   1BAC               ADD         R4,SP,#+108
   \   0000091C   A748               LDR         R0,??servo_update_auto_38  ;; last_control_mode + 60
   \   0000091E   03C8               LDMIA       R0!,{R0,R1}
   \                     ??servo_update_auto_37:
   \   00000920   29AA               ADD         R2,SP,#+164
   \   00000922   0CCA               LDMIA       R2!,{R2,R3}
   \   00000924   ........           _BLF        __dSub,??__dSub??rT
   \   00000928   03C4               STMIA       R4!,{R0,R1}
    234                  }    
    235                        
    236                  static double N=0,dN=0,E=0,dE=0,D=0,dD=0;
    237          
    238                  dN = (dN+acc_n*0.0333333)*0.9 + position.raw_current_uvw[0]*0.1;
   \                     ??servo_update_auto_34:
   \   0000092A   A548               LDR         R0,??servo_update_auto_38+0x4  ;; position + 72
   \   0000092C   0290               STR         R0,[SP, #+8]
   \   0000092E   A54E               LDR         R6,??servo_update_auto_38+0x8  ;; last_control_mode + 76
   \   00000930   1830               ADD         R0,#+24
   \   00000932   0CC8               LDMIA       R0!,{R2,R3}
   \   00000934   A448               LDR         R0,??servo_update_auto_38+0xC  ;; 0x9999999a
   \   00000936   A549               LDR         R1,??servo_update_auto_38+0x10  ;; 0x3fb99999
   \   00000938   ........           _BLF        __dMul,??__dMul??rT
   \   0000093C   041C               MOV         R4,R0
   \   0000093E   0D1C               MOV         R5,R1
   \   00000940   17A8               ADD         R0,SP,#+92
   \   00000942   03C8               LDMIA       R0!,{R0,R1}
   \   00000944   A24A               LDR         R2,??servo_update_auto_38+0x14  ;; 0xf2bc4a9f
   \   00000946   A34B               LDR         R3,??servo_update_auto_38+0x18  ;; 0x3fa1110f
   \   00000948   ........           _BLF        __dMul,??__dMul??rT
   \   0000094C   021C               MOV         R2,R0
   \   0000094E   0B1C               MOV         R3,R1
   \   00000950   9C48               LDR         R0,??servo_update_auto_38+0x8  ;; last_control_mode + 76
   \   00000952   03C8               LDMIA       R0!,{R0,R1}
   \   00000954   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000958   021C               MOV         R2,R0
   \   0000095A   0B1C               MOV         R3,R1
   \   0000095C   9E48               LDR         R0,??servo_update_auto_38+0x1C  ;; 0xcccccccd
   \   0000095E   9F49               LDR         R1,??servo_update_auto_38+0x20  ;; 0x3feccccc
   \   00000960   ........           _BLF        __dMul,??__dMul??rT
   \   00000964   221C               MOV         R2,R4
   \   00000966   2B1C               MOV         R3,R5
   \   00000968   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000096C   03C6               STMIA       R6!,{R0,R1}
   \   0000096E   9C4E               LDR         R6,??servo_update_auto_38+0x24  ;; last_control_mode + 68
   \   00000970   0298               LDR         R0,[SP, #+8]
   \   00000972   0CC8               LDMIA       R0!,{R2,R3}
   \   00000974   9448               LDR         R0,??servo_update_auto_38+0xC  ;; 0x9999999a
   \   00000976   9549               LDR         R1,??servo_update_auto_38+0x10  ;; 0x3fb99999
   \   00000978   ........           _BLF        __dMul,??__dMul??rT
   \   0000097C   041C               MOV         R4,R0
   \   0000097E   0D1C               MOV         R5,R1
   \   00000980   9048               LDR         R0,??servo_update_auto_38+0x8  ;; last_control_mode + 76
   \   00000982   03C8               LDMIA       R0!,{R0,R1}
   \   00000984   924A               LDR         R2,??servo_update_auto_38+0x14  ;; 0xf2bc4a9f
   \   00000986   934B               LDR         R3,??servo_update_auto_38+0x18  ;; 0x3fa1110f
   \   00000988   ........           _BLF        __dMul,??__dMul??rT
   \   0000098C   021C               MOV         R2,R0
   \   0000098E   0B1C               MOV         R3,R1
   \   00000990   9348               LDR         R0,??servo_update_auto_38+0x24  ;; last_control_mode + 68
   \   00000992   03C8               LDMIA       R0!,{R0,R1}
   \   00000994   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000998   021C               MOV         R2,R0
   \   0000099A   0B1C               MOV         R3,R1
   \   0000099C   8E48               LDR         R0,??servo_update_auto_38+0x1C  ;; 0xcccccccd
   \   0000099E   8F49               LDR         R1,??servo_update_auto_38+0x20  ;; 0x3feccccc
   \   000009A0   ........           _BLF        __dMul,??__dMul??rT
   \   000009A4   221C               MOV         R2,R4
   \   000009A6   2B1C               MOV         R3,R5
   \   000009A8   ........           _BLF        __dAdd,??__dAdd??rT
   \   000009AC   03C6               STMIA       R6!,{R0,R1}
   \   000009AE   8D4E               LDR         R6,??servo_update_auto_38+0x28  ;; ??dE
   \   000009B0   0298               LDR         R0,[SP, #+8]
   \   000009B2   2030               ADD         R0,#+32
   \   000009B4   0CC8               LDMIA       R0!,{R2,R3}
   \   000009B6   8448               LDR         R0,??servo_update_auto_38+0xC  ;; 0x9999999a
   \   000009B8   8449               LDR         R1,??servo_update_auto_38+0x10  ;; 0x3fb99999
   \   000009BA   ........           _BLF        __dMul,??__dMul??rT
   \   000009BE   041C               MOV         R4,R0
   \   000009C0   0D1C               MOV         R5,R1
   \   000009C2   19A8               ADD         R0,SP,#+100
   \   000009C4   03C8               LDMIA       R0!,{R0,R1}
   \   000009C6   824A               LDR         R2,??servo_update_auto_38+0x14  ;; 0xf2bc4a9f
   \   000009C8   824B               LDR         R3,??servo_update_auto_38+0x18  ;; 0x3fa1110f
   \   000009CA   ........           _BLF        __dMul,??__dMul??rT
   \   000009CE   021C               MOV         R2,R0
   \   000009D0   0B1C               MOV         R3,R1
   \   000009D2   8448               LDR         R0,??servo_update_auto_38+0x28  ;; ??dE
   \   000009D4   03C8               LDMIA       R0!,{R0,R1}
   \   000009D6   ........           _BLF        __dAdd,??__dAdd??rT
   \   000009DA   021C               MOV         R2,R0
   \   000009DC   0B1C               MOV         R3,R1
   \   000009DE   7E48               LDR         R0,??servo_update_auto_38+0x1C  ;; 0xcccccccd
   \   000009E0   7E49               LDR         R1,??servo_update_auto_38+0x20  ;; 0x3feccccc
   \   000009E2   ........           _BLF        __dMul,??__dMul??rT
   \   000009E6   221C               MOV         R2,R4
   \   000009E8   2B1C               MOV         R3,R5
   \   000009EA   ........           _BLF        __dAdd,??__dAdd??rT
   \   000009EE   03C6               STMIA       R6!,{R0,R1}
   \   000009F0   7D4E               LDR         R6,??servo_update_auto_38+0x2C  ;; last_control_mode + 84
   \   000009F2   0298               LDR         R0,[SP, #+8]
   \   000009F4   0830               ADD         R0,#+8
   \   000009F6   0CC8               LDMIA       R0!,{R2,R3}
   \   000009F8   7348               LDR         R0,??servo_update_auto_38+0xC  ;; 0x9999999a
   \   000009FA   7449               LDR         R1,??servo_update_auto_38+0x10  ;; 0x3fb99999
   \   000009FC   ........           _BLF        __dMul,??__dMul??rT
   \   00000A00   041C               MOV         R4,R0
   \   00000A02   0D1C               MOV         R5,R1
   \   00000A04   7748               LDR         R0,??servo_update_auto_38+0x28  ;; ??dE
   \   00000A06   03C8               LDMIA       R0!,{R0,R1}
   \   00000A08   714A               LDR         R2,??servo_update_auto_38+0x14  ;; 0xf2bc4a9f
   \   00000A0A   724B               LDR         R3,??servo_update_auto_38+0x18  ;; 0x3fa1110f
   \   00000A0C   ........           _BLF        __dMul,??__dMul??rT
   \   00000A10   021C               MOV         R2,R0
   \   00000A12   0B1C               MOV         R3,R1
   \   00000A14   7448               LDR         R0,??servo_update_auto_38+0x2C  ;; last_control_mode + 84
   \   00000A16   03C8               LDMIA       R0!,{R0,R1}
   \   00000A18   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000A1C   021C               MOV         R2,R0
   \   00000A1E   0B1C               MOV         R3,R1
   \   00000A20   6D48               LDR         R0,??servo_update_auto_38+0x1C  ;; 0xcccccccd
   \   00000A22   6E49               LDR         R1,??servo_update_auto_38+0x20  ;; 0x3feccccc
   \   00000A24   ........           _BLF        __dMul,??__dMul??rT
   \   00000A28   221C               MOV         R2,R4
   \   00000A2A   2B1C               MOV         R3,R5
   \   00000A2C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000A30   03C6               STMIA       R6!,{R0,R1}
   \   00000A32   6E48               LDR         R0,??servo_update_auto_38+0x30  ;; bmp_height
   \   00000A34   C0C8               LDMIA       R0!,{R6,R7}
   \   00000A36   6E4A               LDR         R2,??servo_update_auto_38+0x34  ;; ??dE + 32
   \   00000A38   04B4               PUSH        {R2}
   \   00000A3A   0020               MOV         R0,#+0
   \   00000A3C   6D49               LDR         R1,??servo_update_auto_38+0x38  ;; 0x403e0000
   \   00000A3E   321C               MOV         R2,R6
   \   00000A40   3B1C               MOV         R3,R7
   \   00000A42   ........           _BLF        __dMul,??__dMul??rT
   \   00000A46   041C               MOV         R4,R0
   \   00000A48   0D1C               MOV         R5,R1
   \   00000A4A   6948               LDR         R0,??servo_update_auto_38+0x34  ;; ??dE + 32
   \   00000A4C   03C8               LDMIA       R0!,{R0,R1}
   \   00000A4E   6A4A               LDR         R2,??servo_update_auto_38+0x3C  ;; ??dE + 24
   \   00000A50   0CCA               LDMIA       R2!,{R2,R3}
   \   00000A52   ........           _BLF        __dSub,??__dSub??rT
   \   00000A56   221C               MOV         R2,R4
   \   00000A58   2B1C               MOV         R3,R5
   \   00000A5A   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000A5E   04BC               POP         {R2}
   \   00000A60   03C2               STMIA       R2!,{R0,R1}
    239                  N = (N+dN*0.0333333)*0.9 + position.raw_current_xyz[0]*0.1;
    240                  
    241                  dE = (dE+acc_e*0.0333333)*0.9 + (position.raw_current_uvw[1])*0.1;
    242                  E = (E+dE*0.0333333)*0.9 + position.raw_current_xyz[1]*0.1;
    243               
    244                  
    245           //ÆøÑ¹¼ÆÊý¾ÝµÄ×îÐ¡¶þ³Ë·¨ÂË²¨
    246          #define array_length 30
    247          #define a_l 30.0      
    248          #define sumx 465.0 //sumx=0;sumx2=0;for i = 1:array_length;sumx=sumx+i;sumx2 = sumx2+i*i;end;sumx,sumx2%matlab´úÂë
    249          #define sumx2 9455.0
    250                  static double d_array[array_length]={0};
    251                  static int num = 0;
    252                  static double sumy = 0;
    253                  static double sumxy = 0;
    254                  static double sumy_cal = 0;
    255                  static double sumxy_cal = 0;
    256          
    257                  double d,dd;
    258                  sumxy = (sumxy - sumy) + a_l*bmp_height;      
    259                  sumy = sumy - d_array[num] + bmp_height;
   \   00000A62   0D98               LDR         R0,[SP, #+52]
   \   00000A64   C000               LSL         R0,R0,#+3
   \   00000A66   6549               LDR         R1,??servo_update_auto_38+0x40  ;; ??d_array
   \   00000A68   0C18               ADD         R4,R1,R0
   \   00000A6A   634D               LDR         R5,??servo_update_auto_38+0x3C  ;; ??dE + 24
   \   00000A6C   6248               LDR         R0,??servo_update_auto_38+0x3C  ;; ??dE + 24
   \   00000A6E   03C8               LDMIA       R0!,{R0,R1}
   \   00000A70   0CCC               LDMIA       R4!,{R2,R3}
   \   00000A72   083C               SUB         R4,#+8
   \   00000A74   ........           _BLF        __dSub,??__dSub??rT
   \   00000A78   321C               MOV         R2,R6
   \   00000A7A   3B1C               MOV         R3,R7
   \   00000A7C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000A80   03C5               STMIA       R5!,{R0,R1}
    260                  d_array[num] = bmp_height;
   \   00000A82   C0C4               STMIA       R4!,{R6,R7}
    261                  num++;
   \   00000A84   0D9C               LDR         R4,[SP, #+52]
   \   00000A86   641C               ADD         R4,R4,#+1
    262                  sumy_cal += bmp_height;
   \   00000A88   6D46               MOV         R5,SP
   \   00000A8A   5D48               LDR         R0,??servo_update_auto_38+0x44  ;; ??dE + 40
   \   00000A8C   03C8               LDMIA       R0!,{R0,R1}
   \   00000A8E   321C               MOV         R2,R6
   \   00000A90   3B1C               MOV         R3,R7
   \   00000A92   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000A96   03C5               STMIA       R5!,{R0,R1}
    263                  sumxy_cal += num*bmp_height;
   \   00000A98   201C               MOV         R0,R4
   \   00000A9A   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00000A9E   321C               MOV         R2,R6
   \   00000AA0   3B1C               MOV         R3,R7
   \   00000AA2   ........           _BLF        __dMul,??__dMul??rT
   \   00000AA6   574A               LDR         R2,??servo_update_auto_38+0x48  ;; ??dE + 48
   \   00000AA8   0CCA               LDMIA       R2!,{R2,R3}
   \   00000AAA   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000AAE   1E2C               CMP         R4,#+30
   \   00000AB0   0AD1               BNE         ??servo_update_auto_39
    264                  if (num == array_length) 
    265                  {
    266                    num = 0;
   \   00000AB2   0024               MOV         R4,#+0
    267                    sumy = sumy_cal;//ÕâÑù¿ÉÒÔ²»¶ÏÐ£×¼sumyºÍsumxy,ÈÃÎó²î²»»ýÀÛ,È»ºó¼ÆËãÁ¿ÓÖ²»´ó;
   \   00000AB4   504D               LDR         R5,??servo_update_auto_38+0x3C  ;; ??dE + 24
   \   00000AB6   6A46               MOV         R2,SP
   \   00000AB8   0CCA               LDMIA       R2!,{R2,R3}
   \   00000ABA   0CC5               STMIA       R5!,{R2,R3}
    268                    sumxy = sumxy_cal;
   \   00000ABC   4C4A               LDR         R2,??servo_update_auto_38+0x34  ;; ??dE + 32
   \   00000ABE   03C2               STMIA       R2!,{R0,R1}
    269                    sumy_cal = 0;
   \   00000AC0   6A46               MOV         R2,SP
   \   00000AC2   0020               MOV         R0,#+0
   \   00000AC4   211C               MOV         R1,R4
   \   00000AC6   03C2               STMIA       R2!,{R0,R1}
    270                    sumxy_cal = 0;
   \                     ??servo_update_auto_39:
   \   00000AC8   4E4A               LDR         R2,??servo_update_auto_38+0x48  ;; ??dE + 48
   \   00000ACA   03C2               STMIA       R2!,{R0,R1}
   \   00000ACC   4C4A               LDR         R2,??servo_update_auto_38+0x44  ;; ??dE + 40
   \   00000ACE   6846               MOV         R0,SP
   \   00000AD0   03C8               LDMIA       R0!,{R0,R1}
   \   00000AD2   03C2               STMIA       R2!,{R0,R1}
   \   00000AD4   4C48               LDR         R0,??servo_update_auto_38+0x4C  ;; last_control_mode + 104
   \   00000AD6   0460               STR         R4,[R0, #+0]
   \   00000AD8   4748               LDR         R0,??servo_update_auto_38+0x3C  ;; ??dE + 24
   \   00000ADA   0CC8               LDMIA       R0!,{R2,R3}
   \   00000ADC   0020               MOV         R0,#+0
   \   00000ADE   4B49               LDR         R1,??servo_update_auto_38+0x50  ;; 0x407d1000
   \   00000AE0   ........           _BLF        __dMul,??__dMul??rT
   \   00000AE4   041C               MOV         R4,R0
   \   00000AE6   0D1C               MOV         R5,R1
   \   00000AE8   4148               LDR         R0,??servo_update_auto_38+0x34  ;; ??dE + 32
   \   00000AEA   0CC8               LDMIA       R0!,{R2,R3}
   \   00000AEC   0020               MOV         R0,#+0
   \   00000AEE   4149               LDR         R1,??servo_update_auto_38+0x38  ;; 0x403e0000
   \   00000AF0   ........           _BLF        __dMul,??__dMul??rT
   \   00000AF4   221C               MOV         R2,R4
   \   00000AF6   2B1C               MOV         R3,R5
   \   00000AF8   ........           _BLF        __dSub,??__dSub??rT
   \   00000AFC   0022               MOV         R2,#+0
   \   00000AFE   444B               LDR         R3,??servo_update_auto_38+0x54  ;; 0x40f07610
   \   00000B00   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000B04   041C               MOV         R4,R0
   \   00000B06   0D1C               MOV         R5,R1
    271                  }
    272                  dd =  (sumxy*a_l- sumx*sumy)/(sumx2*a_l-sumx*sumx);       //×îÐ¡¶þ³Ë·¨ÄâºÏµÄÐ±ÂÊ
    273                  d = (sumy - dd*sumx)/a_l + dd*a_l;                        //×îÐ¡¶þ³Ë·¨ÄâºÏµÄ¹À¼Æµã
   \   00000B08   0020               MOV         R0,#+0
   \   00000B0A   3A49               LDR         R1,??servo_update_auto_38+0x38  ;; 0x403e0000
   \   00000B0C   221C               MOV         R2,R4
   \   00000B0E   2B1C               MOV         R3,R5
   \   00000B10   ........           _BLF        __dMul,??__dMul??rT
   \   00000B14   061C               MOV         R6,R0
   \   00000B16   0F1C               MOV         R7,R1
   \   00000B18   0020               MOV         R0,#+0
   \   00000B1A   3C49               LDR         R1,??servo_update_auto_38+0x50  ;; 0x407d1000
   \   00000B1C   221C               MOV         R2,R4
   \   00000B1E   2B1C               MOV         R3,R5
   \   00000B20   ........           _BLF        __dMul,??__dMul??rT
   \   00000B24   021C               MOV         R2,R0
   \   00000B26   0B1C               MOV         R3,R1
   \   00000B28   3348               LDR         R0,??servo_update_auto_38+0x3C  ;; ??dE + 24
   \   00000B2A   03C8               LDMIA       R0!,{R0,R1}
   \   00000B2C   ........           _BLF        __dSub,??__dSub??rT
   \   00000B30   0022               MOV         R2,#+0
   \   00000B32   304B               LDR         R3,??servo_update_auto_38+0x38  ;; 0x403e0000
   \   00000B34   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000B38   321C               MOV         R2,R6
   \   00000B3A   3B1C               MOV         R3,R7
   \   00000B3C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000B40   041C               MOV         R4,R0
   \   00000B42   0D1C               MOV         R5,R1
    274                  dd = dd*30.0;
   \   00000B44   39A8               ADD         R0,SP,#+228
   \   00000B46   C0C0               STMIA       R0!,{R6,R7}
    275                  
    276                  static double previous_d = 0.0;
    277                  double delta_d;
    278                  delta_d = d - previous_d;
   \   00000B48   37AE               ADD         R6,SP,#+220
   \   00000B4A   201C               MOV         R0,R4
   \   00000B4C   314A               LDR         R2,??servo_update_auto_38+0x58  ;; ??dE + 56
   \   00000B4E   0CCA               LDMIA       R2!,{R2,R3}
   \   00000B50   ........           _BLF        __dSub,??__dSub??rT
   \   00000B54   03C6               STMIA       R6!,{R0,R1}
    279                  previous_d = d;
   \   00000B56   2F48               LDR         R0,??servo_update_auto_38+0x58  ;; ??dE + 56
   \   00000B58   30C0               STMIA       R0!,{R4,R5}
    280                  
    281           //lidarlite    
    282          #define healthy 0                                         //Éèlidarlite½¡¿µ×´Ì¬Îª0,¼´¿ÉÒÔÊ¹ÓÃÆäÊý¾ÝµÄ×´Ì¬
    283                  static int lidar_state = 0;                       //ÓÃÓÚ¼ÇÂ¼lidarlite×´Ì¬,0Îª½¡¿µ,´óÓÚÁãÎª²»È·¶¨½¡¿µ,,,¼ì²âÌø±ä
    284                  static int lidar_miss = 0;                        //ÓÃÓÚ¿´lidarliteÊÇ·ñÓÐ¸üÐÂ,,,¼ì²â¸üÐÂ
    285                  static double previous_lidar_lite_distance;       
    286                  int previous_lidar_state;                         //ÓÃÓÚ¼ÇÂ¼ÉÏÒ»´ÎlidarliteµÄ×´Ì¬
    287                  previous_lidar_state = lidar_state;
   \   00000B5A   2F48               LDR         R0,??servo_update_auto_38+0x5C  ;; last_control_mode + 108
   \   00000B5C   0468               LDR         R4,[R0, #+0]
   \   00000B5E   0D94               STR         R4,[SP, #+52]
    288                  if (abs(previous_lidar_lite_distance - lidar_lite_distance)>1)
   \   00000B60   6D46               MOV         R5,SP
   \   00000B62   2E48               LDR         R0,??servo_update_auto_38+0x60  ;; ??dE + 64
   \   00000B64   03C8               LDMIA       R0!,{R0,R1}
   \   00000B66   2E4A               LDR         R2,??servo_update_auto_38+0x64  ;; lidar_lite_distance
   \   00000B68   0CCA               LDMIA       R2!,{R2,R3}
   \   00000B6A   ........           _BLF        __dSub,??__dSub??rT
   \   00000B6E   4900               LSL         R1,R1,#+1
   \   00000B70   4908               LSR         R1,R1,#+1
   \   00000B72   03C5               STMIA       R5!,{R0,R1}
   \   00000B74   6846               MOV         R0,SP
   \   00000B76   03C8               LDMIA       R0!,{R0,R1}
   \   00000B78   0122               MOV         R2,#+1
   \   00000B7A   2A4B               LDR         R3,??servo_update_auto_38+0x68  ;; 0x3ff00000
   \   00000B7C   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00000B80   0028               CMP         R0,#+0
   \   00000B82   01D0               BEQ         ??servo_update_auto_40
    289                  {
    290                      lidar_state = 15;                             //Èç¹û·¢ÉúÌø±ä,Ôò±ä³É15
   \   00000B84   0F24               MOV         R4,#+15
   \   00000B86   02E0               B           ??servo_update_auto_41
    291                  } 
    292                  else 
    293                  {
    294                      if(lidar_state > healthy) lidar_state--;      //Èç¹ûÃ»Ìø±ä,Ôòlidar_state½¥½¥¼õÐ¡Îª0,¼´½¡¿µ×´Ì¬
   \                     ??servo_update_auto_40:
   \   00000B88   012C               CMP         R4,#+1
   \   00000B8A   00DB               BLT         ??servo_update_auto_41
   \   00000B8C   641E               SUB         R4,R4,#+1
   \                     ??servo_update_auto_41:
   \   00000B8E   2248               LDR         R0,??servo_update_auto_38+0x5C  ;; last_control_mode + 108
   \   00000B90   0460               STR         R4,[R0, #+0]
    295                  }
    296                  if (previous_lidar_lite_distance == lidar_lite_distance)  
   \   00000B92   2548               LDR         R0,??servo_update_auto_38+0x6C  ;; last_control_mode + 116
   \   00000B94   0468               LDR         R4,[R0, #+0]
   \   00000B96   15AA               ADD         R2,SP,#+84
   \   00000B98   2148               LDR         R0,??servo_update_auto_38+0x64  ;; lidar_lite_distance
   \   00000B9A   03C8               LDMIA       R0!,{R0,R1}
   \   00000B9C   03C2               STMIA       R2!,{R0,R1}
   \   00000B9E   1F48               LDR         R0,??servo_update_auto_38+0x60  ;; ??dE + 64
   \   00000BA0   0CC8               LDMIA       R0!,{R2,R3}
   \   00000BA2   15A8               ADD         R0,SP,#+84
   \   00000BA4   03C8               LDMIA       R0!,{R0,R1}
   \   00000BA6   ........           _BLF        __dEqual,??__dEqual??rT
   \   00000BAA   0028               CMP         R0,#+0
   \   00000BAC   40D0               BEQ         ??servo_update_auto_42
    297                  {
    298                  lidar_miss++;
   \   00000BAE   1F48               LDR         R0,??servo_update_auto_38+0x70  ;; last_control_mode + 112
   \   00000BB0   0068               LDR         R0,[R0, #+0]
   \   00000BB2   401C               ADD         R0,R0,#+1
    299                  if (lidar_miss>15)  lidar_miss = 15;              //Èç¹ûÊý¾Ý²»±ä,´ïµ½15¸ö°ü,ÔòÈÏÎªÊÇ¶ªÊ§lidarliteÊý¾Ý,»òÕßÃ»ÓÐ½Ólidarlite
   \   00000BB4   1028               CMP         R0,#+16
   \   00000BB6   3CDB               BLT         ??servo_update_auto_43
   \   00000BB8   0F20               MOV         R0,#+15
   \   00000BBA   3AE0               B           ??servo_update_auto_43
   \                     ??servo_update_auto_38:
   \   00000BBC   ........           DC32        last_control_mode + 60
   \   00000BC0   ........           DC32        position + 72
   \   00000BC4   ........           DC32        last_control_mode + 76
   \   00000BC8   9A999999           DC32        0x9999999a
   \   00000BCC   9999B93F           DC32        0x3fb99999
   \   00000BD0   9F4ABCF2           DC32        0xf2bc4a9f
   \   00000BD4   0F11A13F           DC32        0x3fa1110f
   \   00000BD8   CDCCCCCC           DC32        0xcccccccd
   \   00000BDC   CCCCEC3F           DC32        0x3feccccc
   \   00000BE0   ........           DC32        last_control_mode + 68
   \   00000BE4   ........           DC32        ??dE
   \   00000BE8   ........           DC32        last_control_mode + 84
   \   00000BEC   ........           DC32        bmp_height
   \   00000BF0   ........           DC32        ??dE + 32
   \   00000BF4   00003E40           DC32        0x403e0000
   \   00000BF8   ........           DC32        ??dE + 24
   \   00000BFC   ........           DC32        ??d_array
   \   00000C00   ........           DC32        ??dE + 40
   \   00000C04   ........           DC32        ??dE + 48
   \   00000C08   ........           DC32        last_control_mode + 104
   \   00000C0C   00107D40           DC32        0x407d1000
   \   00000C10   1076F040           DC32        0x40f07610
   \   00000C14   ........           DC32        ??dE + 56
   \   00000C18   ........           DC32        last_control_mode + 108
   \   00000C1C   ........           DC32        ??dE + 64
   \   00000C20   ........           DC32        lidar_lite_distance
   \   00000C24   0000F03F           DC32        0x3ff00000
   \   00000C28   ........           DC32        last_control_mode + 116
   \   00000C2C   ........           DC32        last_control_mode + 112
    300                  }
    301                  else 
    302                  {
    303                  lidar_miss = 0;                                   //Ò»µ©Êý¾ÝÓÐ±ä,ÄÇÃ´Ö¤Ã÷lidarlite»¹ÔÚ¸üÐÂ
   \                     ??servo_update_auto_42:
   \   00000C30   0020               MOV         R0,#+0
   \                     ??servo_update_auto_43:
   \   00000C32   6E49               LDR         R1,??servo_update_auto_44  ;; last_control_mode + 112
   \   00000C34   0860               STR         R0,[R1, #+0]
    304                  }
    305                  previous_lidar_lite_distance = lidar_lite_distance;
   \   00000C36   6E4A               LDR         R2,??servo_update_auto_44+0x4  ;; ??dE + 64
   \   00000C38   15A8               ADD         R0,SP,#+84
   \   00000C3A   03C8               LDMIA       R0!,{R0,R1}
   \   00000C3C   03C2               STMIA       R2!,{R0,R1}
    306                  
    307                  double distance;
    308                  distance = lidar_lite_distance*cp*cr;             //lidarlite¾àÀëÔÚÊúÖ±·½ÏòÉÏÍ¶Ó°
   \   00000C3E   6D46               MOV         R5,SP
   \   00000C40   15A8               ADD         R0,SP,#+84
   \   00000C42   03C8               LDMIA       R0!,{R0,R1}
   \   00000C44   03AA               ADD         R2,SP,#+12
   \   00000C46   0CCA               LDMIA       R2!,{R2,R3}
   \   00000C48   ........           _BLF        __dMul,??__dMul??rT
   \   00000C4C   021C               MOV         R2,R0
   \   00000C4E   0B1C               MOV         R3,R1
   \   00000C50   0EA8               ADD         R0,SP,#+56
   \   00000C52   03C8               LDMIA       R0!,{R0,R1}
   \   00000C54   ........           _BLF        __dMul,??__dMul??rT
   \   00000C58   03C5               STMIA       R5!,{R0,R1}
   \   00000C5A   664D               LDR         R5,??servo_update_auto_44+0x8  ;; ??dE + 80
   \   00000C5C   6846               MOV         R0,SP
   \   00000C5E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000C60   0020               MOV         R0,#+0
   \   00000C62   6549               LDR         R1,??servo_update_auto_44+0xC  ;; 0x40240000
   \   00000C64   ........           _BLF        __dMul,??__dMul??rT
   \   00000C68   061C               MOV         R6,R0
   \   00000C6A   0F1C               MOV         R7,R1
   \   00000C6C   6148               LDR         R0,??servo_update_auto_44+0x8  ;; ??dE + 80
   \   00000C6E   03C8               LDMIA       R0!,{R0,R1}
   \   00000C70   624A               LDR         R2,??servo_update_auto_44+0x10  ;; ??dE + 72
   \   00000C72   0CCA               LDMIA       R2!,{R2,R3}
   \   00000C74   ........           _BLF        __dSub,??__dSub??rT
   \   00000C78   321C               MOV         R2,R6
   \   00000C7A   3B1C               MOV         R3,R7
   \   00000C7C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000C80   03C5               STMIA       R5!,{R0,R1}
    309                  
    310          //lidarliteµÄ×îÐ¡¶þ³Ë·¨ÂË²¨
    311          #define array_length_ld 10
    312          #define a_l_ld 10.0      
    313          #define sumx_ld 55.0 //sumx=0;sumx2=0;for i = 1:array_length;sumx=sumx+i;sumx2 = sumx2+i*i;end;sumx,sumx2%matlab´úÂë
    314          #define sumx2_ld 385.0
    315                  static double d_array_ld[array_length_ld]={0};
    316                  static int num_ld = 0;
    317                  static double sumy_ld = 0;
    318                  static double sumxy_ld = 0;
    319                  static double sumy_cal_ld = 0;
    320                  static double sumxy_cal_ld = 0;
    321          
    322                  double d_ld,dd_ld;
    323                  sumxy_ld = (sumxy_ld - sumy_ld) + a_l_ld*distance;
    324                  sumy_ld = sumy_ld - d_array_ld[num_ld] + distance;
   \   00000C82   E000               LSL         R0,R4,#+3
   \   00000C84   5E49               LDR         R1,??servo_update_auto_44+0x14  ;; ??d_array_ld
   \   00000C86   0D18               ADD         R5,R1,R0
   \   00000C88   5C4E               LDR         R6,??servo_update_auto_44+0x10  ;; ??dE + 72
   \   00000C8A   5C48               LDR         R0,??servo_update_auto_44+0x10  ;; ??dE + 72
   \   00000C8C   03C8               LDMIA       R0!,{R0,R1}
   \   00000C8E   0CCD               LDMIA       R5!,{R2,R3}
   \   00000C90   083D               SUB         R5,#+8
   \   00000C92   ........           _BLF        __dSub,??__dSub??rT
   \   00000C96   021C               MOV         R2,R0
   \   00000C98   0B1C               MOV         R3,R1
   \   00000C9A   6846               MOV         R0,SP
   \   00000C9C   03C8               LDMIA       R0!,{R0,R1}
   \   00000C9E   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000CA2   03C6               STMIA       R6!,{R0,R1}
    325                  d_array_ld[num_ld] = distance;
   \   00000CA4   6846               MOV         R0,SP
   \   00000CA6   03C8               LDMIA       R0!,{R0,R1}
   \   00000CA8   03C5               STMIA       R5!,{R0,R1}
    326                  num_ld++;
   \   00000CAA   641C               ADD         R4,R4,#+1
    327                  sumy_cal_ld += distance;
   \   00000CAC   5548               LDR         R0,??servo_update_auto_44+0x18  ;; ??dE + 88
   \   00000CAE   0CC8               LDMIA       R0!,{R2,R3}
   \   00000CB0   6846               MOV         R0,SP
   \   00000CB2   03C8               LDMIA       R0!,{R0,R1}
   \   00000CB4   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000CB8   061C               MOV         R6,R0
   \   00000CBA   0F1C               MOV         R7,R1
    328                  sumxy_cal_ld += num_ld*distance;
   \   00000CBC   201C               MOV         R0,R4
   \   00000CBE   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00000CC2   021C               MOV         R2,R0
   \   00000CC4   0B1C               MOV         R3,R1
   \   00000CC6   6846               MOV         R0,SP
   \   00000CC8   03C8               LDMIA       R0!,{R0,R1}
   \   00000CCA   ........           _BLF        __dMul,??__dMul??rT
   \   00000CCE   021C               MOV         R2,R0
   \   00000CD0   0B1C               MOV         R3,R1
   \   00000CD2   4D48               LDR         R0,??servo_update_auto_44+0x1C  ;; ??dE + 96
   \   00000CD4   03C8               LDMIA       R0!,{R0,R1}
   \   00000CD6   ........           _BLF        __dAdd,??__dAdd??rT
    329                  if (num_ld == array_length_ld) 
   \   00000CDA   0A2C               CMP         R4,#+10
   \   00000CDC   07D1               BNE         ??servo_update_auto_45
    330                  {
    331                    num_ld = 0;
   \   00000CDE   0024               MOV         R4,#+0
    332                    sumy_ld = sumy_cal_ld;//ÕâÑù¿ÉÒÔ²»¶ÏÐ£×¼sumyºÍsumxy,ÈÃÎó²î²»»ýÀÛ,È»ºó¼ÆËãÁ¿ÓÖ²»´ó;
   \   00000CE0   464A               LDR         R2,??servo_update_auto_44+0x10  ;; ??dE + 72
   \   00000CE2   C0C2               STMIA       R2!,{R6,R7}
    333                    sumxy_ld = sumxy_cal_ld;
   \   00000CE4   03C2               STMIA       R2!,{R0,R1}
    334                    sumy_cal_ld = 0;
   \   00000CE6   0026               MOV         R6,#+0
   \   00000CE8   271C               MOV         R7,R4
    335                    sumxy_cal_ld = 0;
   \   00000CEA   201C               MOV         R0,R4
   \   00000CEC   211C               MOV         R1,R4
   \                     ??servo_update_auto_45:
   \   00000CEE   464A               LDR         R2,??servo_update_auto_44+0x1C  ;; ??dE + 96
   \   00000CF0   03C2               STMIA       R2!,{R0,R1}
   \   00000CF2   4448               LDR         R0,??servo_update_auto_44+0x18  ;; ??dE + 88
   \   00000CF4   C0C0               STMIA       R0!,{R6,R7}
   \   00000CF6   4548               LDR         R0,??servo_update_auto_44+0x20  ;; last_control_mode + 116
   \   00000CF8   0460               STR         R4,[R0, #+0]
   \   00000CFA   4048               LDR         R0,??servo_update_auto_44+0x10  ;; ??dE + 72
   \   00000CFC   0CC8               LDMIA       R0!,{R2,R3}
   \   00000CFE   0020               MOV         R0,#+0
   \   00000D00   4349               LDR         R1,??servo_update_auto_44+0x24  ;; 0x404b8000
   \   00000D02   ........           _BLF        __dMul,??__dMul??rT
   \   00000D06   041C               MOV         R4,R0
   \   00000D08   0D1C               MOV         R5,R1
   \   00000D0A   3A48               LDR         R0,??servo_update_auto_44+0x8  ;; ??dE + 80
   \   00000D0C   0CC8               LDMIA       R0!,{R2,R3}
   \   00000D0E   0020               MOV         R0,#+0
   \   00000D10   3949               LDR         R1,??servo_update_auto_44+0xC  ;; 0x40240000
   \   00000D12   ........           _BLF        __dMul,??__dMul??rT
   \   00000D16   221C               MOV         R2,R4
   \   00000D18   2B1C               MOV         R3,R5
   \   00000D1A   ........           _BLF        __dSub,??__dSub??rT
   \   00000D1E   0022               MOV         R2,#+0
   \   00000D20   3C4B               LDR         R3,??servo_update_auto_44+0x28  ;; 0x4089c800
   \   00000D22   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000D26   041C               MOV         R4,R0
   \   00000D28   0D1C               MOV         R5,R1
    336                  }
    337                  dd_ld =  (sumxy_ld*a_l_ld- sumx_ld*sumy_ld)/(sumx2_ld*a_l_ld-sumx_ld*sumx_ld);
    338                  d_ld = (sumy_ld - dd_ld*sumx_ld)/a_l_ld + dd_ld*a_l_ld;
   \   00000D2A   6A46               MOV         R2,SP
   \   00000D2C   04B4               PUSH        {R2}
   \   00000D2E   0020               MOV         R0,#+0
   \   00000D30   3149               LDR         R1,??servo_update_auto_44+0xC  ;; 0x40240000
   \   00000D32   221C               MOV         R2,R4
   \   00000D34   2B1C               MOV         R3,R5
   \   00000D36   ........           _BLF        __dMul,??__dMul??rT
   \   00000D3A   061C               MOV         R6,R0
   \   00000D3C   0F1C               MOV         R7,R1
   \   00000D3E   0020               MOV         R0,#+0
   \   00000D40   3349               LDR         R1,??servo_update_auto_44+0x24  ;; 0x404b8000
   \   00000D42   221C               MOV         R2,R4
   \   00000D44   2B1C               MOV         R3,R5
   \   00000D46   ........           _BLF        __dMul,??__dMul??rT
   \   00000D4A   021C               MOV         R2,R0
   \   00000D4C   0B1C               MOV         R3,R1
   \   00000D4E   2B48               LDR         R0,??servo_update_auto_44+0x10  ;; ??dE + 72
   \   00000D50   03C8               LDMIA       R0!,{R0,R1}
   \   00000D52   ........           _BLF        __dSub,??__dSub??rT
   \   00000D56   0022               MOV         R2,#+0
   \   00000D58   274B               LDR         R3,??servo_update_auto_44+0xC  ;; 0x40240000
   \   00000D5A   ........           _BLF        __dDiv,??__dDiv??rT
   \   00000D5E   321C               MOV         R2,R6
   \   00000D60   3B1C               MOV         R3,R7
   \   00000D62   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000D66   04BC               POP         {R2}
   \   00000D68   03C2               STMIA       R2!,{R0,R1}
    339                  dd_ld = dd_ld*30.0;        
   \   00000D6A   2BAE               ADD         R6,SP,#+172
   \   00000D6C   0020               MOV         R0,#+0
   \   00000D6E   2A49               LDR         R1,??servo_update_auto_44+0x2C  ;; 0x403e0000
   \   00000D70   221C               MOV         R2,R4
   \   00000D72   2B1C               MOV         R3,R5
   \   00000D74   ........           _BLF        __dMul,??__dMul??rT
   \   00000D78   03C6               STMIA       R6!,{R0,R1}
    340             
    341                  static double raw_D = 0.0;
    342                  double raw_dD;
    343                  if ((lidar_state == healthy)&&(lidar_miss < 15)&&(lidar_lite_distance > -15.0))//lidar_lite
   \   00000D7A   2848               LDR         R0,??servo_update_auto_44+0x30  ;; ??dE + 104
   \   00000D7C   30C8               LDMIA       R0!,{R4,R5}
   \   00000D7E   2848               LDR         R0,??servo_update_auto_44+0x34  ;; last_control_mode + 108
   \   00000D80   0068               LDR         R0,[R0, #+0]
   \   00000D82   0028               CMP         R0,#+0
   \   00000D84   52D1               BNE         ??servo_update_auto_46
   \   00000D86   1948               LDR         R0,??servo_update_auto_44  ;; last_control_mode + 112
   \   00000D88   0068               LDR         R0,[R0, #+0]
   \   00000D8A   0F28               CMP         R0,#+15
   \   00000D8C   4EDA               BGE         ??servo_update_auto_46
   \   00000D8E   15A8               ADD         R0,SP,#+84
   \   00000D90   03C8               LDMIA       R0!,{R0,R1}
   \   00000D92   0022               MOV         R2,#+0
   \   00000D94   D243               MVN         R2,R2              ;; #-1
   \   00000D96   234B               LDR         R3,??servo_update_auto_44+0x38  ;; 0xc02dffff
   \   00000D98   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00000D9C   0028               CMP         R0,#+0
   \   00000D9E   45D0               BEQ         ??servo_update_auto_46
    344                  {
    345                    if (previous_lidar_state == healthy)
   \   00000DA0   0D98               LDR         R0,[SP, #+52]
   \   00000DA2   0028               CMP         R0,#+0
   \   00000DA4   03D1               BNE         ??servo_update_auto_47
    346                    {
    347                     raw_D =  d_ld;
   \   00000DA6   6846               MOV         R0,SP
   \   00000DA8   30C8               LDMIA       R0!,{R4,R5}
    348                     raw_dD = dd_ld;
   \   00000DAA   2BA8               ADD         R0,SP,#+172
   \   00000DAC   47E0               B           ??servo_update_auto_48
    349                    }
    350                    else              //´«¸ÐÆ÷¹ý¶É
    351                    {
    352                     double bias;
    353                     bias = d_ld - raw_D;
   \                     ??servo_update_auto_47:
   \   00000DAE   03AE               ADD         R6,SP,#+12
   \   00000DB0   6846               MOV         R0,SP
   \   00000DB2   03C8               LDMIA       R0!,{R0,R1}
   \   00000DB4   221C               MOV         R2,R4
   \   00000DB6   2B1C               MOV         R3,R5
   \   00000DB8   ........           _BLF        __dSub,??__dSub??rT
   \   00000DBC   03C6               STMIA       R6!,{R0,R1}
    354                     raw_D = d_ld;
   \   00000DBE   6846               MOV         R0,SP
   \   00000DC0   30C8               LDMIA       R0!,{R4,R5}
    355                     D += bias;
   \   00000DC2   194E               LDR         R6,??servo_update_auto_44+0x3C  ;; ??dE + 8
   \   00000DC4   1848               LDR         R0,??servo_update_auto_44+0x3C  ;; ??dE + 8
   \   00000DC6   0CC8               LDMIA       R0!,{R2,R3}
   \   00000DC8   03A8               ADD         R0,SP,#+12
   \   00000DCA   03C8               LDMIA       R0!,{R0,R1}
   \   00000DCC   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000DD0   03C6               STMIA       R6!,{R0,R1}
    356                     position.current_target[2] += bias;
   \   00000DD2   029E               LDR         R6,[SP, #+8]
   \   00000DD4   7036               ADD         R6,#+112
   \   00000DD6   0298               LDR         R0,[SP, #+8]
   \   00000DD8   7030               ADD         R0,#+112
   \   00000DDA   0CC8               LDMIA       R0!,{R2,R3}
   \   00000DDC   03A8               ADD         R0,SP,#+12
   \   00000DDE   03C8               LDMIA       R0!,{R0,R1}
   \   00000DE0   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000DE4   03C6               STMIA       R6!,{R0,R1}
    357                     raw_dD = dd_ld;
   \   00000DE6   2BA8               ADD         R0,SP,#+172
   \   00000DE8   29E0               B           ??servo_update_auto_48
   \   00000DEA   C046               NOP         
   \                     ??servo_update_auto_44:
   \   00000DEC   ........           DC32        last_control_mode + 112
   \   00000DF0   ........           DC32        ??dE + 64
   \   00000DF4   ........           DC32        ??dE + 80
   \   00000DF8   00002440           DC32        0x40240000
   \   00000DFC   ........           DC32        ??dE + 72
   \   00000E00   ........           DC32        ??d_array_ld
   \   00000E04   ........           DC32        ??dE + 88
   \   00000E08   ........           DC32        ??dE + 96
   \   00000E0C   ........           DC32        last_control_mode + 116
   \   00000E10   00804B40           DC32        0x404b8000
   \   00000E14   00C88940           DC32        0x4089c800
   \   00000E18   00003E40           DC32        0x403e0000
   \   00000E1C   ........           DC32        ??dE + 104
   \   00000E20   ........           DC32        last_control_mode + 108
   \   00000E24   FFFF2DC0           DC32        0xc02dffff
   \   00000E28   ........           DC32        ??dE + 8
    358                    }
    359                  }
    360                  else
    361                  {
    362                     raw_D = raw_D + delta_d;
   \                     ??servo_update_auto_46:
   \   00000E2C   37A8               ADD         R0,SP,#+220
   \   00000E2E   03C8               LDMIA       R0!,{R0,R1}
   \   00000E30   221C               MOV         R2,R4
   \   00000E32   2B1C               MOV         R3,R5
   \   00000E34   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000E38   041C               MOV         R4,R0
   \   00000E3A   0D1C               MOV         R5,R1
    363                     raw_dD = dd;
   \   00000E3C   39A8               ADD         R0,SP,#+228
   \                     ??servo_update_auto_48:
   \   00000E3E   0CC8               LDMIA       R0!,{R2,R3}
   \   00000E40   D248               LDR         R0,??servo_update_auto_49  ;; ??dE + 104
   \   00000E42   30C0               STMIA       R0!,{R4,R5}
   \   00000E44   D24E               LDR         R6,??servo_update_auto_49+0x4  ;; ??dE + 16
   \   00000E46   40B4               PUSH        {R6}
   \   00000E48   D248               LDR         R0,??servo_update_auto_49+0x8  ;; 0x9999999a
   \   00000E4A   D349               LDR         R1,??servo_update_auto_49+0xC  ;; 0x3fb99999
   \   00000E4C   ........           _BLF        __dMul,??__dMul??rT
   \   00000E50   061C               MOV         R6,R0
   \   00000E52   0F1C               MOV         R7,R1
   \   00000E54   1CA8               ADD         R0,SP,#+112
   \   00000E56   0CC8               LDMIA       R0!,{R2,R3}
   \   00000E58   D048               LDR         R0,??servo_update_auto_49+0x10  ;; 0xf2bc4a9f
   \   00000E5A   D149               LDR         R1,??servo_update_auto_49+0x14  ;; 0x3fa1110f
   \   00000E5C   ........           _BLF        __dMul,??__dMul??rT
   \   00000E60   021C               MOV         R2,R0
   \   00000E62   0B1C               MOV         R3,R1
   \   00000E64   CA48               LDR         R0,??servo_update_auto_49+0x4  ;; ??dE + 16
   \   00000E66   03C8               LDMIA       R0!,{R0,R1}
   \   00000E68   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000E6C   021C               MOV         R2,R0
   \   00000E6E   0B1C               MOV         R3,R1
   \   00000E70   CC48               LDR         R0,??servo_update_auto_49+0x18  ;; 0xcccccccd
   \   00000E72   CD49               LDR         R1,??servo_update_auto_49+0x1C  ;; 0x3feccccc
   \   00000E74   ........           _BLF        __dMul,??__dMul??rT
   \   00000E78   321C               MOV         R2,R6
   \   00000E7A   3B1C               MOV         R3,R7
   \   00000E7C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000E80   40BC               POP         {R6}
   \   00000E82   03C6               STMIA       R6!,{R0,R1}
   \   00000E84   C94E               LDR         R6,??servo_update_auto_49+0x20  ;; ??dE + 8
   \   00000E86   C348               LDR         R0,??servo_update_auto_49+0x8  ;; 0x9999999a
   \   00000E88   C349               LDR         R1,??servo_update_auto_49+0xC  ;; 0x3fb99999
   \   00000E8A   221C               MOV         R2,R4
   \   00000E8C   2B1C               MOV         R3,R5
   \   00000E8E   ........           _BLF        __dMul,??__dMul??rT
   \   00000E92   041C               MOV         R4,R0
   \   00000E94   0D1C               MOV         R5,R1
   \   00000E96   BE48               LDR         R0,??servo_update_auto_49+0x4  ;; ??dE + 16
   \   00000E98   03C8               LDMIA       R0!,{R0,R1}
   \   00000E9A   C04A               LDR         R2,??servo_update_auto_49+0x10  ;; 0xf2bc4a9f
   \   00000E9C   C04B               LDR         R3,??servo_update_auto_49+0x14  ;; 0x3fa1110f
   \   00000E9E   ........           _BLF        __dMul,??__dMul??rT
   \   00000EA2   021C               MOV         R2,R0
   \   00000EA4   0B1C               MOV         R3,R1
   \   00000EA6   C148               LDR         R0,??servo_update_auto_49+0x20  ;; ??dE + 8
   \   00000EA8   03C8               LDMIA       R0!,{R0,R1}
   \   00000EAA   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000EAE   021C               MOV         R2,R0
   \   00000EB0   0B1C               MOV         R3,R1
   \   00000EB2   BC48               LDR         R0,??servo_update_auto_49+0x18  ;; 0xcccccccd
   \   00000EB4   BC49               LDR         R1,??servo_update_auto_49+0x1C  ;; 0x3feccccc
   \   00000EB6   ........           _BLF        __dMul,??__dMul??rT
   \   00000EBA   221C               MOV         R2,R4
   \   00000EBC   2B1C               MOV         R3,R5
   \   00000EBE   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000EC2   03C6               STMIA       R6!,{R0,R1}
    364                  }
    365                    
    366                  dD += acc_d*0.0333333;
    367                  dD = dD*0.9 + raw_dD*0.1;//0.6=0.02/0.0333333      
    368                  D = (D+dD*0.0333333)*0.9 + raw_D*0.1;
    369                  
    370          //        double old_point;       
    371          //        old_point = N; 
    372          //        dN += acc_n*0.0333333;
    373          //        N += dN*0.0333333;
    374          //        N = N*0.8 + position.raw_current_xyz[0]*0.2;
    375          //        dN = dN*0.9 + (N-old_point)*3.0;//3=0.1/0.0333333
    376          //        
    377          //        old_point = E; 
    378          //        dE += acc_e*0.0333333;
    379          //        E += dE*0.0333333;
    380          //        E = E*0.8 + position.raw_current_xyz[1]*0.2;
    381          //        dE = dE*0.9 + (E-old_point)*3.0;//3=0.1/0.0333333
    382          //     
    383          //        old_point = D; 
    384          //        D = (D + (dD + acc_d*0.0333333)*0.0333333)*0.95 + bmp_height*0.05;
    385          //        dD = dD*0.95 + (D-old_point)*1.5;//1.5=0.05/0.0333333
    386                  
    387                  input_xyz[0] = N;
   \   00000EC4   BA4A               LDR         R2,??servo_update_auto_49+0x24  ;; input_xyz
   \   00000EC6   BB48               LDR         R0,??servo_update_auto_49+0x28  ;; last_control_mode + 68
   \   00000EC8   03C8               LDMIA       R0!,{R0,R1}
   \   00000ECA   03C2               STMIA       R2!,{R0,R1}
   \   00000ECC   083A               SUB         R2,#+8
    388                  input_xyz[1] = E;
   \   00000ECE   131C               MOV         R3,R2
   \   00000ED0   0833               ADD         R3,#+8
   \   00000ED2   B948               LDR         R0,??servo_update_auto_49+0x2C  ;; last_control_mode + 84
   \   00000ED4   03C8               LDMIA       R0!,{R0,R1}
   \   00000ED6   03C3               STMIA       R3!,{R0,R1}
    389                  input_xyz[2] = D;
   \   00000ED8   1032               ADD         R2,#+16
   \   00000EDA   B448               LDR         R0,??servo_update_auto_49+0x20  ;; ??dE + 8
   \   00000EDC   03C8               LDMIA       R0!,{R0,R1}
   \   00000EDE   03C2               STMIA       R2!,{R0,R1}
    390                  input_uvw[0] = dN;
   \   00000EE0   B64A               LDR         R2,??servo_update_auto_49+0x30  ;; input_uvw
   \   00000EE2   B748               LDR         R0,??servo_update_auto_49+0x34  ;; last_control_mode + 76
   \   00000EE4   03C8               LDMIA       R0!,{R0,R1}
   \   00000EE6   03C2               STMIA       R2!,{R0,R1}
   \   00000EE8   083A               SUB         R2,#+8
    391                  input_uvw[1] = dE;
   \   00000EEA   131C               MOV         R3,R2
   \   00000EEC   0833               ADD         R3,#+8
   \   00000EEE   B548               LDR         R0,??servo_update_auto_49+0x38  ;; ??dE
   \   00000EF0   03C8               LDMIA       R0!,{R0,R1}
   \   00000EF2   03C3               STMIA       R3!,{R0,R1}
    392                  input_uvw[2] = dD;
   \   00000EF4   1032               ADD         R2,#+16
   \   00000EF6   A648               LDR         R0,??servo_update_auto_49+0x4  ;; ??dE + 16
   \   00000EF8   03C8               LDMIA       R0!,{R0,R1}
   \   00000EFA   03C2               STMIA       R2!,{R0,R1}
    393                  if(servo_widths_temp[3]<=2200)
   \   00000EFC   B248               LDR         R0,??servo_update_auto_49+0x3C  ;; servo_widths + 52
   \   00000EFE   0068               LDR         R0,[R0, #+0]
   \   00000F00   B249               LDR         R1,??servo_update_auto_49+0x40  ;; 0x899
   \   00000F02   8842               CMP         R0,R1
   \   00000F04   0EDA               BGE         ??servo_update_auto_50
    394                  {
    395                  position.current_target[0] = N;
   \   00000F06   029A               LDR         R2,[SP, #+8]
   \   00000F08   6032               ADD         R2,#+96
   \   00000F0A   AA48               LDR         R0,??servo_update_auto_49+0x28  ;; last_control_mode + 68
   \   00000F0C   03C8               LDMIA       R0!,{R0,R1}
   \   00000F0E   03C2               STMIA       R2!,{R0,R1}
    396                  position.current_target[1] = E;
   \   00000F10   029A               LDR         R2,[SP, #+8]
   \   00000F12   6832               ADD         R2,#+104
   \   00000F14   A848               LDR         R0,??servo_update_auto_49+0x2C  ;; last_control_mode + 84
   \   00000F16   03C8               LDMIA       R0!,{R0,R1}
   \   00000F18   03C2               STMIA       R2!,{R0,R1}
    397                  position.current_target[2] = D;
   \   00000F1A   029A               LDR         R2,[SP, #+8]
   \   00000F1C   7032               ADD         R2,#+112
   \   00000F1E   A348               LDR         R0,??servo_update_auto_49+0x20  ;; ??dE + 8
   \   00000F20   03C8               LDMIA       R0!,{R0,R1}
   \   00000F22   03C2               STMIA       R2!,{R0,R1}
    398                  }
    399                  
    400                  double X,dX,Y,dY;
    401                  X = cy*(N-position.current_target[0]) + sy*(E-position.current_target[1]);
   \                     ??servo_update_auto_50:
   \   00000F24   6C46               MOV         R4,SP
   \   00000F26   A448               LDR         R0,??servo_update_auto_49+0x2C  ;; last_control_mode + 84
   \   00000F28   03C8               LDMIA       R0!,{R0,R1}
   \   00000F2A   029A               LDR         R2,[SP, #+8]
   \   00000F2C   6832               ADD         R2,#+104
   \   00000F2E   0CCA               LDMIA       R2!,{R2,R3}
   \   00000F30   ........           _BLF        __dSub,??__dSub??rT
   \   00000F34   03C4               STMIA       R4!,{R0,R1}
   \   00000F36   03AA               ADD         R2,SP,#+12
   \   00000F38   0298               LDR         R0,[SP, #+8]
   \   00000F3A   6030               ADD         R0,#+96
   \   00000F3C   03C8               LDMIA       R0!,{R0,R1}
   \   00000F3E   03C2               STMIA       R2!,{R0,R1}
   \   00000F40   3DAE               ADD         R6,SP,#+244
   \   00000F42   07A8               ADD         R0,SP,#+28
   \   00000F44   0CC8               LDMIA       R0!,{R2,R3}
   \   00000F46   6846               MOV         R0,SP
   \   00000F48   03C8               LDMIA       R0!,{R0,R1}
   \   00000F4A   ........           _BLF        __dMul,??__dMul??rT
   \   00000F4E   041C               MOV         R4,R0
   \   00000F50   0D1C               MOV         R5,R1
   \   00000F52   9848               LDR         R0,??servo_update_auto_49+0x28  ;; last_control_mode + 68
   \   00000F54   03C8               LDMIA       R0!,{R0,R1}
   \   00000F56   03AA               ADD         R2,SP,#+12
   \   00000F58   0CCA               LDMIA       R2!,{R2,R3}
   \   00000F5A   ........           _BLF        __dSub,??__dSub??rT
   \   00000F5E   021C               MOV         R2,R0
   \   00000F60   0B1C               MOV         R3,R1
   \   00000F62   05A8               ADD         R0,SP,#+20
   \   00000F64   03C8               LDMIA       R0!,{R0,R1}
   \   00000F66   ........           _BLF        __dMul,??__dMul??rT
   \   00000F6A   221C               MOV         R2,R4
   \   00000F6C   2B1C               MOV         R3,R5
   \   00000F6E   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000F72   03C6               STMIA       R6!,{R0,R1}
    402                  dX = cy*dN + sy*dE;
   \   00000F74   2FAE               ADD         R6,SP,#+188
   \   00000F76   07A8               ADD         R0,SP,#+28
   \   00000F78   0CC8               LDMIA       R0!,{R2,R3}
   \   00000F7A   9248               LDR         R0,??servo_update_auto_49+0x38  ;; ??dE
   \   00000F7C   03C8               LDMIA       R0!,{R0,R1}
   \   00000F7E   ........           _BLF        __dMul,??__dMul??rT
   \   00000F82   041C               MOV         R4,R0
   \   00000F84   0D1C               MOV         R5,R1
   \   00000F86   05A8               ADD         R0,SP,#+20
   \   00000F88   0CC8               LDMIA       R0!,{R2,R3}
   \   00000F8A   8D48               LDR         R0,??servo_update_auto_49+0x34  ;; last_control_mode + 76
   \   00000F8C   03C8               LDMIA       R0!,{R0,R1}
   \   00000F8E   ........           _BLF        __dMul,??__dMul??rT
   \   00000F92   221C               MOV         R2,R4
   \   00000F94   2B1C               MOV         R3,R5
   \   00000F96   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000F9A   03C6               STMIA       R6!,{R0,R1}
    403                  Y = -sy*(N-position.current_target[0]) + cy*(E-position.current_target[1]);
   \   00000F9C   3BAE               ADD         R6,SP,#+236
   \   00000F9E   03A8               ADD         R0,SP,#+12
   \   00000FA0   03C8               LDMIA       R0!,{R0,R1}
   \   00000FA2   844A               LDR         R2,??servo_update_auto_49+0x28  ;; last_control_mode + 68
   \   00000FA4   0CCA               LDMIA       R2!,{R2,R3}
   \   00000FA6   ........           _BLF        __dSub,??__dSub??rT
   \   00000FAA   07AA               ADD         R2,SP,#+28
   \   00000FAC   0CCA               LDMIA       R2!,{R2,R3}
   \   00000FAE   ........           _BLF        __dMul,??__dMul??rT
   \   00000FB2   041C               MOV         R4,R0
   \   00000FB4   0D1C               MOV         R5,R1
   \   00000FB6   05A8               ADD         R0,SP,#+20
   \   00000FB8   0CC8               LDMIA       R0!,{R2,R3}
   \   00000FBA   6846               MOV         R0,SP
   \   00000FBC   03C8               LDMIA       R0!,{R0,R1}
   \   00000FBE   ........           _BLF        __dMul,??__dMul??rT
   \   00000FC2   221C               MOV         R2,R4
   \   00000FC4   2B1C               MOV         R3,R5
   \   00000FC6   ........           _BLF        __dAdd,??__dAdd??rT
   \   00000FCA   03C6               STMIA       R6!,{R0,R1}
    404                  dY = -sy*dN + cy*dE; 
   \   00000FCC   2DAE               ADD         R6,SP,#+180
   \   00000FCE   07A8               ADD         R0,SP,#+28
   \   00000FD0   0CC8               LDMIA       R0!,{R2,R3}
   \   00000FD2   7B48               LDR         R0,??servo_update_auto_49+0x34  ;; last_control_mode + 76
   \   00000FD4   03C8               LDMIA       R0!,{R0,R1}
   \   00000FD6   ........           _BLF        __dMul,??__dMul??rT
   \   00000FDA   041C               MOV         R4,R0
   \   00000FDC   0D1C               MOV         R5,R1
   \   00000FDE   05A8               ADD         R0,SP,#+20
   \   00000FE0   0CC8               LDMIA       R0!,{R2,R3}
   \   00000FE2   7848               LDR         R0,??servo_update_auto_49+0x38  ;; ??dE
   \   00000FE4   03C8               LDMIA       R0!,{R0,R1}
   \   00000FE6   ........           _BLF        __dMul,??__dMul??rT
   \   00000FEA   221C               MOV         R2,R4
   \   00000FEC   2B1C               MOV         R3,R5
   \   00000FEE   ........           _BLF        __dSub,??__dSub??rT
   \   00000FF2   03C6               STMIA       R6!,{R0,R1}
    405          /////////////////////////////////////////////////////////////////¿ØÖÆÆ÷/////////////////////////    
    406          static int coll_mid = 3185;//h
    407          static int throttle = 2200;//h
    408          if( remote_missing > 15) 
   \   00000FF4   7648               LDR         R0,??servo_update_auto_49+0x44  ;; last_control_mode + 28
   \   00000FF6   0068               LDR         R0,[R0, #+0]
   \   00000FF8   7649               LDR         R1,??servo_update_auto_49+0x48  ;; last_control_mode + 32
   \   00000FFA   0D68               LDR         R5,[R1, #+0]
   \   00000FFC   7649               LDR         R1,??servo_update_auto_49+0x4C  ;; last_control_mode + 96
   \   00000FFE   0968               LDR         R1,[R1, #+0]
   \   00001000   1029               CMP         R1,#+16
   \   00001002   0DDB               BLT         ??servo_update_auto_51
    409          {
    410              control_mode=3;
   \   00001004   7549               LDR         R1,??servo_update_auto_49+0x50  ;; last_control_mode + 1
   \   00001006   0322               MOV         R2,#+3
   \   00001008   0A70               STRB        R2,[R1, #+0]
    411              servo_widths_temp[8] = 2899;
   \   0000100A   7549               LDR         R1,??servo_update_auto_49+0x54  ;; servo_widths + 72
   \   0000100C   754A               LDR         R2,??servo_update_auto_49+0x58  ;; 0xb53
   \   0000100E   0A60               STR         R2,[R1, #+0]
    412              servo_widths_temp[2] = remote_median[1];
   \   00001010   7549               LDR         R1,??servo_update_auto_49+0x5C  ;; servo_widths + 48
   \   00001012   0D60               STR         R5,[R1, #+0]
    413              servo_widths_temp[1] = remote_median[0];
   \   00001014   7549               LDR         R1,??servo_update_auto_49+0x60  ;; servo_widths + 44
   \   00001016   0860               STR         R0,[R1, #+0]
    414              servo_widths_temp[0] = coll_mid;
   \   00001018   7549               LDR         R1,??servo_update_auto_49+0x64  ;; servo_widths + 40
   \   0000101A   764A               LDR         R2,??servo_update_auto_49+0x68  ;; last_control_mode + 120
   \   0000101C   1268               LDR         R2,[R2, #+0]
   \   0000101E   0A60               STR         R2,[R1, #+0]
    415          }     
    416           //½Ç¶È»·Æ½ºâµã»ñÈ¡
    417          /***************************************Ò£¿ØÆ÷¿Éµ÷**********************************************/     
    418          static double even_point[2] = {0,0};//Æ½ºâµã,¶ÔÓ¦Æ½ºâµã½Ç¶È
    419          if ((servo_widths_temp[7] > 2900) && (servo_widths_temp[8] > 2900))
   \                     ??servo_update_auto_51:
   \   00001020   6C46               MOV         R4,SP
   \   00001022   7249               LDR         R1,??servo_update_auto_49+0x60  ;; servo_widths + 44
   \   00001024   0968               LDR         R1,[R1, #+0]
   \   00001026   081A               SUB         R0,R1,R0
   \   00001028   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   0000102C   03C4               STMIA       R4!,{R0,R1}
   \   0000102E   6C48               LDR         R0,??servo_update_auto_49+0x54  ;; servo_widths + 72
   \   00001030   0468               LDR         R4,[R0, #+0]
   \   00001032   7148               LDR         R0,??servo_update_auto_49+0x6C  ;; servo_widths + 68
   \   00001034   0068               LDR         R0,[R0, #+0]
   \   00001036   7149               LDR         R1,??servo_update_auto_49+0x70  ;; 0xb55
   \   00001038   8842               CMP         R0,R1
   \   0000103A   1EDB               BLT         ??servo_update_auto_52
   \   0000103C   8C42               CMP         R4,R1
   \   0000103E   1CDB               BLT         ??servo_update_auto_52
    420          {
    421               even_point[0] = (servo_widths_temp[7] - 3349)/20.0*C_DEG2RAD;
   \   00001040   6F4E               LDR         R6,??servo_update_auto_49+0x74  ;; 0xfffff2eb
   \   00001042   704F               LDR         R7,??servo_update_auto_49+0x78  ;; pcm_line + 24
   \   00001044   8019               ADD         R0,R0,R6
   \   00001046   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   0000104A   0022               MOV         R2,#+0
   \   0000104C   6E4B               LDR         R3,??servo_update_auto_49+0x7C  ;; 0x40340000
   \   0000104E   ........           _BLF        __dDiv,??__dDiv??rT
   \   00001052   6E4A               LDR         R2,??servo_update_auto_49+0x80  ;; 0xa2529d39
   \   00001054   6E4B               LDR         R3,??servo_update_auto_49+0x84  ;; 0x3f91df46
   \   00001056   ........           _BLF        __dMul,??__dMul??rT
   \   0000105A   03C7               STMIA       R7!,{R0,R1}
    422               even_point[1] = (servo_widths_temp[8] - 3349)/20.0*C_DEG2RAD;
   \   0000105C   A019               ADD         R0,R4,R6
   \   0000105E   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00001062   0022               MOV         R2,#+0
   \   00001064   684B               LDR         R3,??servo_update_auto_49+0x7C  ;; 0x40340000
   \   00001066   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000106A   021C               MOV         R2,R0
   \   0000106C   0B1C               MOV         R3,R1
   \   0000106E   6748               LDR         R0,??servo_update_auto_49+0x80  ;; 0xa2529d39
   \   00001070   6749               LDR         R1,??servo_update_auto_49+0x84  ;; 0x3f91df46
   \   00001072   ........           _BLF        __dMul,??__dMul??rT
   \   00001076   03C7               STMIA       R7!,{R0,R1}
   \   00001078   01E0               B           ??servo_update_auto_53
    423          }        
    424          //½Ç¶È»·ÆÚ´ýÖµ
    425          double desired_roll_angle,desired_pitch_angle;        
    426          
    427          if (servo_widths_temp[8] > 2900)
   \                     ??servo_update_auto_52:
   \   0000107A   8C42               CMP         R4,R1
   \   0000107C   43DB               BLT         ??servo_update_auto_54
    428          {
    429          /**********************************ÊÖ¿ØÖµ--->½Ç¶ÈÖµ,½Ç¶ÈÓÉÒ¡¸ËÆ«ÒÆÁ¿¾ö¶¨*********************************************/ 
    430              desired_roll_angle =  (servo_widths_temp[1] - remote_median[0])/20.0*C_DEG2RAD;//Ò£¿ØÆ÷¸ø¶¨Öµ±ä»¯+-100¶ÔÓ¦¸ø¶¨Öµ±ä»¯+-5¶È
   \                     ??servo_update_auto_53:
   \   0000107E   33AC               ADD         R4,SP,#+204
   \   00001080   6846               MOV         R0,SP
   \   00001082   03C8               LDMIA       R0!,{R0,R1}
   \   00001084   0022               MOV         R2,#+0
   \   00001086   604B               LDR         R3,??servo_update_auto_49+0x7C  ;; 0x40340000
   \   00001088   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000108C   021C               MOV         R2,R0
   \   0000108E   0B1C               MOV         R3,R1
   \   00001090   5E48               LDR         R0,??servo_update_auto_49+0x80  ;; 0xa2529d39
   \   00001092   5F49               LDR         R1,??servo_update_auto_49+0x84  ;; 0x3f91df46
   \   00001094   ........           _BLF        __dMul,??__dMul??rT
   \   00001098   03C4               STMIA       R4!,{R0,R1}
    431              desired_pitch_angle = -(servo_widths_temp[2] - remote_median[1])/20.0*C_DEG2RAD;//Ò£¿ØÆ÷¸ø¶¨Öµ±ä»¯+-100¶ÔÓ¦¸ø¶¨Öµ±ä»¯+-5¶È        
   \   0000109A   5348               LDR         R0,??servo_update_auto_49+0x5C  ;; servo_widths + 48
   \   0000109C   0068               LDR         R0,[R0, #+0]
   \   0000109E   281A               SUB         R0,R5,R0
   \   000010A0   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   000010A4   0022               MOV         R2,#+0
   \   000010A6   584B               LDR         R3,??servo_update_auto_49+0x7C  ;; 0x40340000
   \   000010A8   ........           _BLF        __dDiv,??__dDiv??rT
   \   000010AC   574A               LDR         R2,??servo_update_auto_49+0x80  ;; 0xa2529d39
   \   000010AE   584B               LDR         R3,??servo_update_auto_49+0x84  ;; 0x3f91df46
   \   000010B0   ........           _BLF        __dMul,??__dMul??rT
   \   000010B4   03C4               STMIA       R4!,{R0,R1}
    432              position.current_target[0] = N;
   \   000010B6   029A               LDR         R2,[SP, #+8]
   \   000010B8   6032               ADD         R2,#+96
   \   000010BA   3E48               LDR         R0,??servo_update_auto_49+0x28  ;; last_control_mode + 68
   \   000010BC   03C8               LDMIA       R0!,{R0,R1}
   \   000010BE   03C2               STMIA       R2!,{R0,R1}
    433              position.current_target[1] = E;
   \   000010C0   029A               LDR         R2,[SP, #+8]
   \   000010C2   6832               ADD         R2,#+104
   \   000010C4   3C48               LDR         R0,??servo_update_auto_49+0x2C  ;; last_control_mode + 84
   \   000010C6   03C8               LDMIA       R0!,{R0,R1}
   \   000010C8   03C2               STMIA       R2!,{R0,R1}
    434              position.current_target[2] = D;
   \   000010CA   029A               LDR         R2,[SP, #+8]
   \   000010CC   7032               ADD         R2,#+112
   \   000010CE   3748               LDR         R0,??servo_update_auto_49+0x20  ;; ??dE + 8
   \   000010D0   03C8               LDMIA       R0!,{R0,R1}
   \   000010D2   03C2               STMIA       R2!,{R0,R1}
    435              desired_x_rate = dX;
   \   000010D4   4F4A               LDR         R2,??servo_update_auto_49+0x88  ;; last_control_mode + 4
   \   000010D6   2FA8               ADD         R0,SP,#+188
   \   000010D8   03C8               LDMIA       R0!,{R0,R1}
   \   000010DA   03C2               STMIA       R2!,{R0,R1}
    436              desired_y_rate = dY;
   \   000010DC   2DA8               ADD         R0,SP,#+180
   \   000010DE   03C8               LDMIA       R0!,{R0,R1}
   \   000010E0   03C2               STMIA       R2!,{R0,R1}
    437              desired_d_rate = dD;
   \   000010E2   31AA               ADD         R2,SP,#+196
   \   000010E4   2A48               LDR         R0,??servo_update_auto_49+0x4  ;; ??dE + 16
   \   000010E6   03C8               LDMIA       R0!,{R0,R1}
   \   000010E8   03C2               STMIA       R2!,{R0,R1}
    438              coll_mid = servo_widths_temp[6];//h
   \   000010EA   4248               LDR         R0,??servo_update_auto_49+0x68  ;; last_control_mode + 120
   \   000010EC   4A49               LDR         R1,??servo_update_auto_49+0x8C  ;; servo_widths + 64
   \   000010EE   0968               LDR         R1,[R1, #+0]
   \   000010F0   0160               STR         R1,[R0, #+0]
    439              throttle = servo_widths_temp[3];
   \   000010F2   4A48               LDR         R0,??servo_update_auto_49+0x90  ;; last_control_mode + 124
   \   000010F4   3449               LDR         R1,??servo_update_auto_49+0x3C  ;; servo_widths + 52
   \   000010F6   0968               LDR         R1,[R1, #+0]
   \   000010F8   0160               STR         R1,[R0, #+0]
    440              temp[2] = 0;
   \   000010FA   43AA               ADD         R2,SP,#+268
   \   000010FC   1032               ADD         R2,#+16
   \   000010FE   0020               MOV         R0,#+0
   \   00001100   0021               MOV         R1,#+0
   \   00001102   03C2               STMIA       R2!,{R0,R1}
   \   00001104   BEE2               B           ??servo_update_auto_55
    441          }
    442          else
    443          {
    444          //ËÙ¶È»·ÆÚ´ýÖµ
    445                  double desired_final_x_velocity,desired_final_y_velocity;
    446                  double desired_x_acceleration,desired_y_acceleration;
    447                  static double desired_next_x_velocity = 0.0;
    448                  static double desired_next_y_velocity = 0.0;
    449          //Î»ÖÃ»·ÆÚ´ýÖµ±ä»¯Á¿
    450                  double desired_d_x,desired_d_y;
    451          /**********************************ÊÖ¿ØÖµ--->±ä»¯µÄÎ»ÖÃÖµ,×îÖÕËÙ¶ÈÓÉÒ¡¸ËÆ«ÒÆÁ¿¾ö¶¨*********************************************/    
    452                  
    453                  desired_final_x_velocity  = (servo_widths_temp[2] - remote_median[1]);
   \                     ??servo_update_auto_54:
   \   00001106   3848               LDR         R0,??servo_update_auto_49+0x5C  ;; servo_widths + 48
   \   00001108   0068               LDR         R0,[R0, #+0]
   \   0000110A   401B               SUB         R0,R0,R5
   \   0000110C   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00001110   041C               MOV         R4,R0
   \   00001112   0D1C               MOV         R5,R1
    454                  if(desired_final_x_velocity > 23.0) desired_final_x_velocity -= 23.0;//¼ÓËÀÇø,·ÀÆ®
   \   00001114   0122               MOV         R2,#+1
   \   00001116   424B               LDR         R3,??servo_update_auto_49+0x94  ;; 0x40370000
   \   00001118   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   0000111C   0028               CMP         R0,#+0
   \   0000111E   06D0               BEQ         ??servo_update_auto_56
   \   00001120   0020               MOV         R0,#+0
   \   00001122   4049               LDR         R1,??servo_update_auto_49+0x98  ;; 0xc0370000
   \                     ??servo_update_auto_57:
   \   00001124   221C               MOV         R2,R4
   \   00001126   2B1C               MOV         R3,R5
   \   00001128   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000112C   0CE0               B           ??servo_update_auto_58
    455                  else if(desired_final_x_velocity < -23.0) desired_final_x_velocity += 23.0;
   \                     ??servo_update_auto_56:
   \   0000112E   201C               MOV         R0,R4
   \   00001130   291C               MOV         R1,R5
   \   00001132   0022               MOV         R2,#+0
   \   00001134   3B4B               LDR         R3,??servo_update_auto_49+0x98  ;; 0xc0370000
   \   00001136   ........           _BLF        __dLess,??__dLess??rT
   \   0000113A   0028               CMP         R0,#+0
   \   0000113C   02D0               BEQ         ??servo_update_auto_59
   \   0000113E   0020               MOV         R0,#+0
   \   00001140   3749               LDR         R1,??servo_update_auto_49+0x94  ;; 0x40370000
   \   00001142   EFE7               B           ??servo_update_auto_57
    456                  else desired_final_x_velocity = 0.0;
   \                     ??servo_update_auto_59:
   \   00001144   0020               MOV         R0,#+0
   \   00001146   0021               MOV         R1,#+0
    457                  desired_final_x_velocity /= 200.0;//Ò£¿ØÆ÷¸ø¶¨Öµ±ä»¯+-100¶ÔÓ¦0.5m/s
   \                     ??servo_update_auto_58:
   \   00001148   1DAC               ADD         R4,SP,#+116
   \   0000114A   0022               MOV         R2,#+0
   \   0000114C   364B               LDR         R3,??servo_update_auto_49+0x9C  ;; 0x40690000
   \   0000114E   ........           _BLF        __dDiv,??__dDiv??rT
   \   00001152   03C4               STMIA       R4!,{R0,R1}
    458                  
    459                  desired_final_y_velocity  = (servo_widths_temp[1] - remote_median[0]);
   \   00001154   6846               MOV         R0,SP
   \   00001156   30C8               LDMIA       R0!,{R4,R5}
    460                  if(desired_final_y_velocity > 23.0) desired_final_y_velocity -=  23.0;//¼ÓËÀÇø,·ÀÆ® 
   \   00001158   201C               MOV         R0,R4
   \   0000115A   291C               MOV         R1,R5
   \   0000115C   0122               MOV         R2,#+1
   \   0000115E   304B               LDR         R3,??servo_update_auto_49+0x94  ;; 0x40370000
   \   00001160   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00001164   0028               CMP         R0,#+0
   \   00001166   06D0               BEQ         ??servo_update_auto_60
   \   00001168   0020               MOV         R0,#+0
   \   0000116A   2E49               LDR         R1,??servo_update_auto_49+0x98  ;; 0xc0370000
   \                     ??servo_update_auto_61:
   \   0000116C   221C               MOV         R2,R4
   \   0000116E   2B1C               MOV         R3,R5
   \   00001170   ........           _BLF        __dAdd,??__dAdd??rT
   \   00001174   5CE0               B           ??servo_update_auto_62
    461                  else if(desired_final_y_velocity < -23.0) desired_final_y_velocity += 23.0;
   \                     ??servo_update_auto_60:
   \   00001176   201C               MOV         R0,R4
   \   00001178   291C               MOV         R1,R5
   \   0000117A   0022               MOV         R2,#+0
   \   0000117C   294B               LDR         R3,??servo_update_auto_49+0x98  ;; 0xc0370000
   \   0000117E   ........           _BLF        __dLess,??__dLess??rT
   \   00001182   0028               CMP         R0,#+0
   \   00001184   52D0               BEQ         ??servo_update_auto_63
   \   00001186   0020               MOV         R0,#+0
   \   00001188   2549               LDR         R1,??servo_update_auto_49+0x94  ;; 0x40370000
   \   0000118A   EFE7               B           ??servo_update_auto_61
   \                     ??servo_update_auto_49:
   \   0000118C   ........           DC32        ??dE + 104
   \   00001190   ........           DC32        ??dE + 16
   \   00001194   9A999999           DC32        0x9999999a
   \   00001198   9999B93F           DC32        0x3fb99999
   \   0000119C   9F4ABCF2           DC32        0xf2bc4a9f
   \   000011A0   0F11A13F           DC32        0x3fa1110f
   \   000011A4   CDCCCCCC           DC32        0xcccccccd
   \   000011A8   CCCCEC3F           DC32        0x3feccccc
   \   000011AC   ........           DC32        ??dE + 8
   \   000011B0   ........           DC32        input_xyz
   \   000011B4   ........           DC32        last_control_mode + 68
   \   000011B8   ........           DC32        last_control_mode + 84
   \   000011BC   ........           DC32        input_uvw
   \   000011C0   ........           DC32        last_control_mode + 76
   \   000011C4   ........           DC32        ??dE
   \   000011C8   ........           DC32        servo_widths + 52
   \   000011CC   99080000           DC32        0x899
   \   000011D0   ........           DC32        last_control_mode + 28
   \   000011D4   ........           DC32        last_control_mode + 32
   \   000011D8   ........           DC32        last_control_mode + 96
   \   000011DC   ........           DC32        last_control_mode + 1
   \   000011E0   ........           DC32        servo_widths + 72
   \   000011E4   530B0000           DC32        0xb53
   \   000011E8   ........           DC32        servo_widths + 48
   \   000011EC   ........           DC32        servo_widths + 44
   \   000011F0   ........           DC32        servo_widths + 40
   \   000011F4   ........           DC32        last_control_mode + 120
   \   000011F8   ........           DC32        servo_widths + 68
   \   000011FC   550B0000           DC32        0xb55
   \   00001200   EBF2FFFF           DC32        0xfffff2eb
   \   00001204   ........           DC32        pcm_line + 24
   \   00001208   00003440           DC32        0x40340000
   \   0000120C   399D52A2           DC32        0xa2529d39
   \   00001210   46DF913F           DC32        0x3f91df46
   \   00001214   ........           DC32        last_control_mode + 4
   \   00001218   ........           DC32        servo_widths + 64
   \   0000121C   ........           DC32        last_control_mode + 124
   \   00001220   00003740           DC32        0x40370000
   \   00001224   000037C0           DC32        0xc0370000
   \   00001228   00006940           DC32        0x40690000
    462                  else desired_final_y_velocity = 0.0;
   \                     ??servo_update_auto_63:
   \   0000122C   0020               MOV         R0,#+0
   \   0000122E   0021               MOV         R1,#+0
    463                  desired_final_y_velocity /= 200.0;//Ò£¿ØÆ÷¸ø¶¨Öµ±ä»¯+-100¶ÔÓ¦0.5m/s
   \                     ??servo_update_auto_62:
   \   00001230   6C46               MOV         R4,SP
   \   00001232   0022               MOV         R2,#+0
   \   00001234   CD4B               LDR         R3,??servo_update_auto_64  ;; 0x40690000
   \   00001236   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000123A   03C4               STMIA       R4!,{R0,R1}
    464                  
    465                  limit( desired_final_x_velocity , -1.5 , 1.5); //ËÙ¶ÈÏÞ·ù
   \   0000123C   0020               MOV         R0,#+0
   \   0000123E   CC49               LDR         R1,??servo_update_auto_64+0x4  ;; 0x3ff80000
   \   00001240   03B4               PUSH        {R0,R1}
   \   00001242   0022               MOV         R2,#+0
   \   00001244   CB4B               LDR         R3,??servo_update_auto_64+0x8  ;; 0xbff80000
   \   00001246   1FA8               ADD         R0,SP,#+124
   \   00001248   03C8               LDMIA       R0!,{R0,R1}
   \   0000124A   ........           _BLF        ??limit,??limit??rT
    466                  limit( desired_final_y_velocity , -1.5 , 1.5); //ËÙ¶ÈÏÞ·ù   
   \   0000124E   0020               MOV         R0,#+0
   \   00001250   C749               LDR         R1,??servo_update_auto_64+0x4  ;; 0x3ff80000
   \   00001252   03B4               PUSH        {R0,R1}
   \   00001254   021C               MOV         R2,R0
   \   00001256   C74B               LDR         R3,??servo_update_auto_64+0x8  ;; 0xbff80000
   \   00001258   04A8               ADD         R0,SP,#+16
   \   0000125A   03C8               LDMIA       R0!,{R0,R1}
   \   0000125C   ........           _BLF        ??limit,??limit??rT
    467                  
    468                  if ((desired_final_x_velocity-desired_next_x_velocity)>0.4)//¸ø¶¨ËÙ¶È½¥±ä,ÒÔ¼°ÆÚ´ý¼ÓËÙ¶È¸üÐÂ
   \   00001260   C548               LDR         R0,??servo_update_auto_64+0xC  ;; ??dE + 112
   \   00001262   30C8               LDMIA       R0!,{R4,R5}
   \   00001264   21A8               ADD         R0,SP,#+132
   \   00001266   03C8               LDMIA       R0!,{R0,R1}
   \   00001268   221C               MOV         R2,R4
   \   0000126A   2B1C               MOV         R3,R5
   \   0000126C   ........           _BLF        __dSub,??__dSub??rT
   \   00001270   061C               MOV         R6,R0
   \   00001272   0F1C               MOV         R7,R1
   \   00001274   C14A               LDR         R2,??servo_update_auto_64+0x10  ;; 0x9999999b
   \   00001276   C24B               LDR         R3,??servo_update_auto_64+0x14  ;; 0x3fd99999
   \   00001278   04B0               ADD         SP,#+16
   \   0000127A   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   0000127E   0028               CMP         R0,#+0
   \   00001280   09D0               BEQ         ??servo_update_auto_65
    469                    {desired_next_x_velocity += 0.05;desired_x_acceleration = 1.5;}
   \   00001282   C048               LDR         R0,??servo_update_auto_64+0x18  ;; 0x9999999a
   \   00001284   C049               LDR         R1,??servo_update_auto_64+0x1C  ;; 0x3fa99999
   \   00001286   221C               MOV         R2,R4
   \   00001288   2B1C               MOV         R3,R5
   \   0000128A   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000128E   1FAC               ADD         R4,SP,#+124
   \   00001290   0022               MOV         R2,#+0
   \   00001292   B74B               LDR         R3,??servo_update_auto_64+0x4  ;; 0x3ff80000
   \   00001294   16E0               B           ??servo_update_auto_66
    470                  else if ((desired_final_x_velocity-desired_next_x_velocity)<-0.4)
   \                     ??servo_update_auto_65:
   \   00001296   301C               MOV         R0,R6
   \   00001298   391C               MOV         R1,R7
   \   0000129A   BA4A               LDR         R2,??servo_update_auto_64+0x18  ;; 0x9999999a
   \   0000129C   BB4B               LDR         R3,??servo_update_auto_64+0x20  ;; 0xbfd99999
   \   0000129E   ........           _BLF        __dLess,??__dLess??rT
   \   000012A2   0028               CMP         R0,#+0
   \   000012A4   09D0               BEQ         ??servo_update_auto_67
    471                    {desired_next_x_velocity -= 0.05;desired_x_acceleration = -1.5;}
   \   000012A6   B748               LDR         R0,??servo_update_auto_64+0x18  ;; 0x9999999a
   \   000012A8   B949               LDR         R1,??servo_update_auto_64+0x24  ;; 0xbfa99999
   \   000012AA   221C               MOV         R2,R4
   \   000012AC   2B1C               MOV         R3,R5
   \   000012AE   ........           _BLF        __dAdd,??__dAdd??rT
   \   000012B2   1FAC               ADD         R4,SP,#+124
   \   000012B4   0022               MOV         R2,#+0
   \   000012B6   AF4B               LDR         R3,??servo_update_auto_64+0x8  ;; 0xbff80000
   \   000012B8   04E0               B           ??servo_update_auto_66
    472                  else
    473                    {desired_next_x_velocity = desired_final_x_velocity;desired_x_acceleration = 0.0;}
   \                     ??servo_update_auto_67:
   \   000012BA   1DA8               ADD         R0,SP,#+116
   \   000012BC   03C8               LDMIA       R0!,{R0,R1}
   \   000012BE   1FAC               ADD         R4,SP,#+124
   \   000012C0   0022               MOV         R2,#+0
   \   000012C2   0023               MOV         R3,#+0
   \                     ??servo_update_auto_66:
   \   000012C4   0CC4               STMIA       R4!,{R2,R3}
   \   000012C6   AC4A               LDR         R2,??servo_update_auto_64+0xC  ;; ??dE + 112
   \   000012C8   03C2               STMIA       R2!,{R0,R1}
    474                  
    475                  if ((desired_final_y_velocity-desired_next_y_velocity)>0.4)//¸ø¶¨ËÙ¶È½¥±ä,ÒÔ¼°ÆÚ´ý¼ÓËÙ¶È¸üÐÂ
   \   000012CA   B248               LDR         R0,??servo_update_auto_64+0x28  ;; pcm_line + 72
   \   000012CC   30C8               LDMIA       R0!,{R4,R5}
   \   000012CE   6846               MOV         R0,SP
   \   000012D0   03C8               LDMIA       R0!,{R0,R1}
   \   000012D2   221C               MOV         R2,R4
   \   000012D4   2B1C               MOV         R3,R5
   \   000012D6   ........           _BLF        __dSub,??__dSub??rT
   \   000012DA   061C               MOV         R6,R0
   \   000012DC   0F1C               MOV         R7,R1
   \   000012DE   A74A               LDR         R2,??servo_update_auto_64+0x10  ;; 0x9999999b
   \   000012E0   A74B               LDR         R3,??servo_update_auto_64+0x14  ;; 0x3fd99999
   \   000012E2   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   000012E6   0028               CMP         R0,#+0
   \   000012E8   0BD0               BEQ         ??servo_update_auto_68
    476                    {desired_next_y_velocity += 0.05;desired_y_acceleration = 1.5;}
   \   000012EA   A648               LDR         R0,??servo_update_auto_64+0x18  ;; 0x9999999a
   \   000012EC   A649               LDR         R1,??servo_update_auto_64+0x1C  ;; 0x3fa99999
   \   000012EE   221C               MOV         R2,R4
   \   000012F0   2B1C               MOV         R3,R5
   \   000012F2   ........           _BLF        __dAdd,??__dAdd??rT
   \   000012F6   041C               MOV         R4,R0
   \   000012F8   0D1C               MOV         R5,R1
   \   000012FA   21AA               ADD         R2,SP,#+132
   \   000012FC   0020               MOV         R0,#+0
   \   000012FE   9C49               LDR         R1,??servo_update_auto_64+0x4  ;; 0x3ff80000
   \   00001300   18E0               B           ??servo_update_auto_69
    477                  else if ((desired_final_y_velocity-desired_next_y_velocity)<-0.4)
   \                     ??servo_update_auto_68:
   \   00001302   301C               MOV         R0,R6
   \   00001304   391C               MOV         R1,R7
   \   00001306   9F4A               LDR         R2,??servo_update_auto_64+0x18  ;; 0x9999999a
   \   00001308   A04B               LDR         R3,??servo_update_auto_64+0x20  ;; 0xbfd99999
   \   0000130A   ........           _BLF        __dLess,??__dLess??rT
   \   0000130E   0028               CMP         R0,#+0
   \   00001310   0BD0               BEQ         ??servo_update_auto_70
    478                    {desired_next_y_velocity -= 0.05;desired_y_acceleration = -1.5;}
   \   00001312   9C48               LDR         R0,??servo_update_auto_64+0x18  ;; 0x9999999a
   \   00001314   9E49               LDR         R1,??servo_update_auto_64+0x24  ;; 0xbfa99999
   \   00001316   221C               MOV         R2,R4
   \   00001318   2B1C               MOV         R3,R5
   \   0000131A   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000131E   041C               MOV         R4,R0
   \   00001320   0D1C               MOV         R5,R1
   \   00001322   21AA               ADD         R2,SP,#+132
   \   00001324   0020               MOV         R0,#+0
   \   00001326   9349               LDR         R1,??servo_update_auto_64+0x8  ;; 0xbff80000
   \   00001328   04E0               B           ??servo_update_auto_69
    479                  else
    480                    {desired_next_y_velocity = desired_final_y_velocity;desired_y_acceleration = 0.0;}
   \                     ??servo_update_auto_70:
   \   0000132A   6846               MOV         R0,SP
   \   0000132C   30C8               LDMIA       R0!,{R4,R5}
   \   0000132E   21AA               ADD         R2,SP,#+132
   \   00001330   0020               MOV         R0,#+0
   \   00001332   0021               MOV         R1,#+0
   \                     ??servo_update_auto_69:
   \   00001334   03C2               STMIA       R2!,{R0,R1}
   \   00001336   9748               LDR         R0,??servo_update_auto_64+0x28  ;; pcm_line + 72
   \   00001338   30C0               STMIA       R0!,{R4,R5}
    481                      
    482                    
    483                  desired_x_rate = desired_next_x_velocity;
   \   0000133A   8F48               LDR         R0,??servo_update_auto_64+0xC  ;; ??dE + 112
   \   0000133C   03C8               LDMIA       R0!,{R0,R1}
   \   0000133E   964A               LDR         R2,??servo_update_auto_64+0x2C  ;; last_control_mode + 4
   \   00001340   03C2               STMIA       R2!,{R0,R1}
    484                  desired_y_rate = desired_next_y_velocity;       
   \   00001342   30C2               STMIA       R2!,{R4,R5}
    485                  desired_d_x = desired_next_x_velocity/30.0;
   \   00001344   6E46               MOV         R6,SP
   \   00001346   0022               MOV         R2,#+0
   \   00001348   944B               LDR         R3,??servo_update_auto_64+0x30  ;; 0x403e0000
   \   0000134A   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000134E   03C6               STMIA       R6!,{R0,R1}
    486                  desired_d_y = desired_next_y_velocity/30.0;    
   \   00001350   201C               MOV         R0,R4
   \   00001352   291C               MOV         R1,R5
   \   00001354   0022               MOV         R2,#+0
   \   00001356   914B               LDR         R3,??servo_update_auto_64+0x30  ;; 0x403e0000
   \   00001358   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000135C   061C               MOV         R6,R0
   \   0000135E   0F1C               MOV         R7,R1
    487                  position.current_target[0] += cy*desired_d_x - sy*desired_d_y;//»úÌå×ªned  
   \   00001360   029A               LDR         R2,[SP, #+8]
   \   00001362   6032               ADD         R2,#+96
   \   00001364   04B4               PUSH        {R2}
   \   00001366   08A8               ADD         R0,SP,#+32
   \   00001368   03C8               LDMIA       R0!,{R0,R1}
   \   0000136A   321C               MOV         R2,R6
   \   0000136C   3B1C               MOV         R3,R7
   \   0000136E   ........           _BLF        __dMul,??__dMul??rT
   \   00001372   041C               MOV         R4,R0
   \   00001374   0D1C               MOV         R5,R1
   \   00001376   06A8               ADD         R0,SP,#+24
   \   00001378   0CC8               LDMIA       R0!,{R2,R3}
   \   0000137A   01A8               ADD         R0,SP,#+4
   \   0000137C   03C8               LDMIA       R0!,{R0,R1}
   \   0000137E   ........           _BLF        __dMul,??__dMul??rT
   \   00001382   221C               MOV         R2,R4
   \   00001384   2B1C               MOV         R3,R5
   \   00001386   ........           _BLF        __dSub,??__dSub??rT
   \   0000138A   021C               MOV         R2,R0
   \   0000138C   0B1C               MOV         R3,R1
   \   0000138E   0398               LDR         R0,[SP, #+12]
   \   00001390   6030               ADD         R0,#+96
   \   00001392   03C8               LDMIA       R0!,{R0,R1}
   \   00001394   ........           _BLF        __dAdd,??__dAdd??rT
   \   00001398   04BC               POP         {R2}
   \   0000139A   03C2               STMIA       R2!,{R0,R1}
    488                  position.current_target[1] += sy*desired_d_x + cy*desired_d_y;//»úÌå×ªned
   \   0000139C   029A               LDR         R2,[SP, #+8]
   \   0000139E   6832               ADD         R2,#+104
   \   000013A0   04B4               PUSH        {R2}
   \   000013A2   06A8               ADD         R0,SP,#+24
   \   000013A4   03C8               LDMIA       R0!,{R0,R1}
   \   000013A6   321C               MOV         R2,R6
   \   000013A8   3B1C               MOV         R3,R7
   \   000013AA   ........           _BLF        __dMul,??__dMul??rT
   \   000013AE   041C               MOV         R4,R0
   \   000013B0   0D1C               MOV         R5,R1
   \   000013B2   08A8               ADD         R0,SP,#+32
   \   000013B4   0CC8               LDMIA       R0!,{R2,R3}
   \   000013B6   01A8               ADD         R0,SP,#+4
   \   000013B8   03C8               LDMIA       R0!,{R0,R1}
   \   000013BA   ........           _BLF        __dMul,??__dMul??rT
   \   000013BE   221C               MOV         R2,R4
   \   000013C0   2B1C               MOV         R3,R5
   \   000013C2   ........           _BLF        __dAdd,??__dAdd??rT
   \   000013C6   039A               LDR         R2,[SP, #+12]
   \   000013C8   6832               ADD         R2,#+104
   \   000013CA   0CCA               LDMIA       R2!,{R2,R3}
   \   000013CC   ........           _BLF        __dAdd,??__dAdd??rT
   \   000013D0   04BC               POP         {R2}
   \   000013D2   03C2               STMIA       R2!,{R0,R1}
    489          /**********************************ËÙ¶ÈÖµ--->½Ç¶È»·,ÓÉËÙ¶È»·Êä³ö¾ö¶¨*********************************************/ 
    490                  desired_pitch_angle = -(0 - X)*out_loop_X_PID[0];//ËÙ¶ÈÎó²î1m/s¶ÔÓ¦¸ø¶¨½Ç¶È±ä»¯+-5¶È  
    491                  desired_roll_angle = (0 - Y)*out_loop_Y_PID[0];//ËÙ¶ÈÎó²î1m/s¶ÔÓ¦¸ø¶¨½Ç¶È±ä»¯+-5¶È
   \   000013D4   724E               LDR         R6,??servo_update_auto_64+0x34  ;; out_loop_Y_PID
   \   000013D6   6C46               MOV         R4,SP
   \   000013D8   3BA8               ADD         R0,SP,#+236
   \   000013DA   0CC8               LDMIA       R0!,{R2,R3}
   \   000013DC   03CE               LDMIA       R6!,{R0,R1}
   \   000013DE   083E               SUB         R6,#+8
   \   000013E0   ........           _BLF        __dMul,??__dMul??rT
   \   000013E4   8022               MOV         R2,#+128
   \   000013E6   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   000013E8   5140               EOR         R1,R2
   \   000013EA   03C4               STMIA       R4!,{R0,R1}
   \   000013EC   0020               MOV         R0,#+0
   \   000013EE   6D49               LDR         R1,??servo_update_auto_64+0x38  ;; 0x40240000
   \   000013F0   03B4               PUSH        {R0,R1}
   \   000013F2   6D4B               LDR         R3,??servo_update_auto_64+0x3C  ;; 0xc0240000
   \   000013F4   0024               MOV         R4,#+0
   \   000013F6   1D1C               MOV         R5,R3
   \   000013F8   3FA8               ADD         R0,SP,#+252
   \   000013FA   0CC8               LDMIA       R0!,{R2,R3}
   \   000013FC   6B48               LDR         R0,??servo_update_auto_64+0x40  ;; out_loop_X_PID
   \   000013FE   03C8               LDMIA       R0!,{R0,R1}
   \   00001400   ........           _BLF        __dMul,??__dMul??rT
   \   00001404   221C               MOV         R2,R4
   \   00001406   2B1C               MOV         R3,R5
    492                  desired_pitch_angle = limit( desired_pitch_angle , -10.0 , 10.0); //½Ç¶ÈÏÞ·ù,½Ç¶ÈÖÆ,ÔÚÕâÀïÏÞ·ù,ÔÚÐüÍ£Ê±,Æðµ½ÏÞÖÆ·É»ú¿¿½üÄ¿±êµãµÄ×î´óËÙ¶ÈµÄ×÷ÓÃ
   \   00001408   ........           _BLF        ??limit,??limit??rT
   \   0000140C   41AA               ADD         R2,SP,#+260
   \   0000140E   03C2               STMIA       R2!,{R0,R1}
    493                  desired_roll_angle = limit( desired_roll_angle , -10.0 , 10.0); //½Ç¶ÈÏÞ·ù,½Ç¶ÈÖÆ       
   \   00001410   201C               MOV         R0,R4
   \   00001412   6449               LDR         R1,??servo_update_auto_64+0x38  ;; 0x40240000
   \   00001414   03B4               PUSH        {R0,R1}
   \   00001416   021C               MOV         R2,R0
   \   00001418   2B1C               MOV         R3,R5
   \   0000141A   04A8               ADD         R0,SP,#+16
   \   0000141C   03C8               LDMIA       R0!,{R0,R1}
   \   0000141E   ........           _BLF        ??limit,??limit??rT
   \   00001422   041C               MOV         R4,R0
   \   00001424   0D1C               MOV         R5,R1
    494                  desired_pitch_angle += -(desired_next_x_velocity - dX)*out_loop_X_PID[2];
    495                  desired_roll_angle += (desired_next_y_velocity - dY)*out_loop_Y_PID[2];
   \   00001426   5B48               LDR         R0,??servo_update_auto_64+0x28  ;; pcm_line + 72
   \   00001428   03C8               LDMIA       R0!,{R0,R1}
   \   0000142A   31AA               ADD         R2,SP,#+196
   \   0000142C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000142E   ........           _BLF        __dSub,??__dSub??rT
   \   00001432   021C               MOV         R2,R0
   \   00001434   0B1C               MOV         R3,R1
   \   00001436   1036               ADD         R6,#+16
   \   00001438   03CE               LDMIA       R6!,{R0,R1}
   \   0000143A   ........           _BLF        __dMul,??__dMul??rT
   \   0000143E   221C               MOV         R2,R4
   \   00001440   2B1C               MOV         R3,R5
   \   00001442   ........           _BLF        __dAdd,??__dAdd??rT
   \   00001446   061C               MOV         R6,R0
   \   00001448   0F1C               MOV         R7,R1
    496                  desired_pitch_angle = limit( desired_pitch_angle , -18.0 , 18.0); //½Ç¶ÈÏÞ·ù,½Ç¶ÈÖÆ
   \   0000144A   0020               MOV         R0,#+0
   \   0000144C   5849               LDR         R1,??servo_update_auto_64+0x44  ;; 0x40320000
   \   0000144E   03B4               PUSH        {R0,R1}
   \   00001450   584B               LDR         R3,??servo_update_auto_64+0x48  ;; 0xc0320000
   \   00001452   041C               MOV         R4,R0
   \   00001454   1D1C               MOV         R5,R3
   \   00001456   35A8               ADD         R0,SP,#+212
   \   00001458   03C8               LDMIA       R0!,{R0,R1}
   \   0000145A   474A               LDR         R2,??servo_update_auto_64+0xC  ;; ??dE + 112
   \   0000145C   0CCA               LDMIA       R2!,{R2,R3}
   \   0000145E   ........           _BLF        __dSub,??__dSub??rT
   \   00001462   021C               MOV         R2,R0
   \   00001464   0B1C               MOV         R3,R1
   \   00001466   5448               LDR         R0,??servo_update_auto_64+0x4C  ;; out_loop_X_PID + 16
   \   00001468   03C8               LDMIA       R0!,{R0,R1}
   \   0000146A   ........           _BLF        __dMul,??__dMul??rT
   \   0000146E   021C               MOV         R2,R0
   \   00001470   0B1C               MOV         R3,R1
   \   00001472   45A8               ADD         R0,SP,#+276
   \   00001474   03C8               LDMIA       R0!,{R0,R1}
   \   00001476   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000147A   221C               MOV         R2,R4
   \   0000147C   2B1C               MOV         R3,R5
   \   0000147E   ........           _BLF        ??limit,??limit??rT
   \   00001482   06AA               ADD         R2,SP,#+24
   \   00001484   03C2               STMIA       R2!,{R0,R1}
    497                  desired_roll_angle = limit( desired_roll_angle , -18.0 , 18.0); //½Ç¶ÈÏÞ·ù,½Ç¶ÈÖÆ  
   \   00001486   201C               MOV         R0,R4
   \   00001488   4949               LDR         R1,??servo_update_auto_64+0x44  ;; 0x40320000
   \   0000148A   03B4               PUSH        {R0,R1}
   \   0000148C   021C               MOV         R2,R0
   \   0000148E   2B1C               MOV         R3,R5
   \   00001490   301C               MOV         R0,R6
   \   00001492   391C               MOV         R1,R7
   \   00001494   ........           _BLF        ??limit,??limit??rT
   \   00001498   49AA               ADD         R2,SP,#+292
   \   0000149A   03C2               STMIA       R2!,{R0,R1}
    498                  desired_pitch_angle += -(desired_x_acceleration - acc_x)*8.5;                         
    499                  desired_roll_angle += (desired_y_acceleration - acc_y)*8.5;
    500                  desired_pitch_angle = limit( desired_pitch_angle , -18.0 , 18.0); //½Ç¶ÈÏÞ·ù,½Ç¶ÈÖÆ
   \   0000149C   201C               MOV         R0,R4
   \   0000149E   4449               LDR         R1,??servo_update_auto_64+0x44  ;; 0x40320000
   \   000014A0   03B4               PUSH        {R0,R1}
   \   000014A2   13A8               ADD         R0,SP,#+76
   \   000014A4   03C8               LDMIA       R0!,{R0,R1}
   \   000014A6   29AA               ADD         R2,SP,#+164
   \   000014A8   0CCA               LDMIA       R2!,{R2,R3}
   \   000014AA   ........           _BLF        __dSub,??__dSub??rT
   \   000014AE   221C               MOV         R2,R4
   \   000014B0   424B               LDR         R3,??servo_update_auto_64+0x50  ;; 0x40210000
   \   000014B2   ........           _BLF        __dMul,??__dMul??rT
   \   000014B6   0AAA               ADD         R2,SP,#+40
   \   000014B8   0CCA               LDMIA       R2!,{R2,R3}
   \   000014BA   ........           _BLF        __dAdd,??__dAdd??rT
   \   000014BE   221C               MOV         R2,R4
   \   000014C0   2B1C               MOV         R3,R5
   \   000014C2   ........           _BLF        ??limit,??limit??rT
   \   000014C6   0AB0               ADD         SP,#+40
   \   000014C8   061C               MOV         R6,R0
   \   000014CA   0F1C               MOV         R7,R1
    501                  desired_roll_angle = limit( desired_roll_angle , -18.0 , 18.0); //½Ç¶ÈÏÞ·ù,½Ç¶ÈÖÆ  
   \   000014CC   201C               MOV         R0,R4
   \   000014CE   3849               LDR         R1,??servo_update_auto_64+0x44  ;; 0x40320000
   \   000014D0   03B4               PUSH        {R0,R1}
   \   000014D2   23A8               ADD         R0,SP,#+140
   \   000014D4   03C8               LDMIA       R0!,{R0,R1}
   \   000014D6   0DAA               ADD         R2,SP,#+52
   \   000014D8   0CCA               LDMIA       R2!,{R2,R3}
   \   000014DA   ........           _BLF        __dSub,??__dSub??rT
   \   000014DE   021C               MOV         R2,R0
   \   000014E0   0B1C               MOV         R3,R1
   \   000014E2   201C               MOV         R0,R4
   \   000014E4   3549               LDR         R1,??servo_update_auto_64+0x50  ;; 0x40210000
   \   000014E6   ........           _BLF        __dMul,??__dMul??rT
   \   000014EA   021C               MOV         R2,R0
   \   000014EC   0B1C               MOV         R3,R1
   \   000014EE   43A8               ADD         R0,SP,#+268
   \   000014F0   03C8               LDMIA       R0!,{R0,R1}
   \   000014F2   ........           _BLF        __dAdd,??__dAdd??rT
   \   000014F6   221C               MOV         R2,R4
   \   000014F8   2B1C               MOV         R3,R5
   \   000014FA   ........           _BLF        ??limit,??limit??rT
   \   000014FE   041C               MOV         R4,R0
   \   00001500   0D1C               MOV         R5,R1
    502                  
    503                  desired_pitch_angle *= C_DEG2RAD;
   \   00001502   37AA               ADD         R2,SP,#+220
   \   00001504   04B4               PUSH        {R2}
   \   00001506   301C               MOV         R0,R6
   \   00001508   391C               MOV         R1,R7
   \   0000150A   2D4A               LDR         R2,??servo_update_auto_64+0x54  ;; 0xa2529d39
   \   0000150C   2D4B               LDR         R3,??servo_update_auto_64+0x58  ;; 0x3f91df46
   \   0000150E   ........           _BLF        __dMul,??__dMul??rT
   \   00001512   04BC               POP         {R2}
   \   00001514   03C2               STMIA       R2!,{R0,R1}
    504                  desired_roll_angle *= C_DEG2RAD;
   \   00001516   35AE               ADD         R6,SP,#+212
   \   00001518   2948               LDR         R0,??servo_update_auto_64+0x54  ;; 0xa2529d39
   \   0000151A   2A49               LDR         R1,??servo_update_auto_64+0x58  ;; 0x3f91df46
   \   0000151C   221C               MOV         R2,R4
   \   0000151E   2B1C               MOV         R3,R5
   \   00001520   ........           _BLF        __dMul,??__dMul??rT
   \   00001524   03C6               STMIA       R6!,{R0,R1}
    505          //        if (abs(ahrs_pqr[2])>0.8)
    506          //        {
    507          //        desired_pitch_angle = 0.0;
    508          //        desired_roll_angle = 0.0;
    509          //        }
    510                      
    511                          
    512                  double desired_d_velocity;//h
    513                  desired_d_velocity = -(servo_widths_temp[6] - coll_mid);
   \   00001526   2848               LDR         R0,??servo_update_auto_64+0x5C  ;; last_control_mode + 120
   \   00001528   0068               LDR         R0,[R0, #+0]
   \   0000152A   2849               LDR         R1,??servo_update_auto_64+0x60  ;; servo_widths + 64
   \   0000152C   0968               LDR         R1,[R1, #+0]
   \   0000152E   401A               SUB         R0,R0,R1
   \   00001530   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00001534   041C               MOV         R4,R0
   \   00001536   0D1C               MOV         R5,R1
    514                  if(desired_d_velocity > 23.0) desired_d_velocity -=  23.0;//¼ÓËÀÇø,·ÀÆ® 
   \   00001538   0122               MOV         R2,#+1
   \   0000153A   254B               LDR         R3,??servo_update_auto_64+0x64  ;; 0x40370000
   \   0000153C   02B0               ADD         SP,#+8
   \   0000153E   ........           _BLF        __dGreaterEqual,??__dGreaterEqual??rT
   \   00001542   0028               CMP         R0,#+0
   \   00001544   06D0               BEQ         ??servo_update_auto_71
   \   00001546   0020               MOV         R0,#+0
   \   00001548   2249               LDR         R1,??servo_update_auto_64+0x68  ;; 0xc0370000
   \                     ??servo_update_auto_72:
   \   0000154A   221C               MOV         R2,R4
   \   0000154C   2B1C               MOV         R3,R5
   \   0000154E   ........           _BLF        __dAdd,??__dAdd??rT
   \   00001552   43E0               B           ??servo_update_auto_73
    515                  else if(desired_d_velocity < -23.0) desired_d_velocity += 23.0;
   \                     ??servo_update_auto_71:
   \   00001554   201C               MOV         R0,R4
   \   00001556   291C               MOV         R1,R5
   \   00001558   0022               MOV         R2,#+0
   \   0000155A   1E4B               LDR         R3,??servo_update_auto_64+0x68  ;; 0xc0370000
   \   0000155C   ........           _BLF        __dLess,??__dLess??rT
   \   00001560   0028               CMP         R0,#+0
   \   00001562   39D0               BEQ         ??servo_update_auto_74
   \   00001564   0020               MOV         R0,#+0
   \   00001566   1A49               LDR         R1,??servo_update_auto_64+0x64  ;; 0x40370000
   \   00001568   EFE7               B           ??servo_update_auto_72
   \   0000156A   C046               NOP         
   \                     ??servo_update_auto_64:
   \   0000156C   00006940           DC32        0x40690000
   \   00001570   0000F83F           DC32        0x3ff80000
   \   00001574   0000F8BF           DC32        0xbff80000
   \   00001578   ........           DC32        ??dE + 112
   \   0000157C   9B999999           DC32        0x9999999b
   \   00001580   9999D93F           DC32        0x3fd99999
   \   00001584   9A999999           DC32        0x9999999a
   \   00001588   9999A93F           DC32        0x3fa99999
   \   0000158C   9999D9BF           DC32        0xbfd99999
   \   00001590   9999A9BF           DC32        0xbfa99999
   \   00001594   ........           DC32        pcm_line + 72
   \   00001598   ........           DC32        last_control_mode + 4
   \   0000159C   00003E40           DC32        0x403e0000
   \   000015A0   ........           DC32        out_loop_Y_PID
   \   000015A4   00002440           DC32        0x40240000
   \   000015A8   000024C0           DC32        0xc0240000
   \   000015AC   ........           DC32        out_loop_X_PID
   \   000015B0   00003240           DC32        0x40320000
   \   000015B4   000032C0           DC32        0xc0320000
   \   000015B8   ........           DC32        out_loop_X_PID + 16
   \   000015BC   00002140           DC32        0x40210000
   \   000015C0   399D52A2           DC32        0xa2529d39
   \   000015C4   46DF913F           DC32        0x3f91df46
   \   000015C8   ........           DC32        last_control_mode + 120
   \   000015CC   ........           DC32        servo_widths + 64
   \   000015D0   00003740           DC32        0x40370000
   \   000015D4   000037C0           DC32        0xc0370000
    516                  else desired_d_velocity = 0.0;
   \                     ??servo_update_auto_74:
   \   000015D8   0020               MOV         R0,#+0
   \   000015DA   0021               MOV         R1,#+0
    517                  desired_d_velocity /= 100.0;//Ò£¿ØÆ÷¸ø¶¨Öµ±ä»¯+-100¶ÔÓ¦1m/s
   \                     ??servo_update_auto_73:
   \   000015DC   0022               MOV         R2,#+0
   \   000015DE   B54B               LDR         R3,??servo_update_auto_75  ;; 0x40590000
   \   000015E0   ........           _BLF        __dDiv,??__dDiv??rT
   \   000015E4   041C               MOV         R4,R0
   \   000015E6   0D1C               MOV         R5,R1
    518                  limit( desired_d_velocity , -0.5 , 0.5); //ËÙ¶ÈÏÞ·ù//h
   \   000015E8   0020               MOV         R0,#+0
   \   000015EA   B349               LDR         R1,??servo_update_auto_75+0x4  ;; 0x3fe00000
   \   000015EC   03B4               PUSH        {R0,R1}
   \   000015EE   0022               MOV         R2,#+0
   \   000015F0   B24B               LDR         R3,??servo_update_auto_75+0x8  ;; 0xbfe00000
   \   000015F2   201C               MOV         R0,R4
   \   000015F4   291C               MOV         R1,R5
   \   000015F6   ........           _BLF        ??limit,??limit??rT
    519                  desired_d_rate = desired_d_velocity;
   \   000015FA   33A8               ADD         R0,SP,#+204
   \   000015FC   30C0               STMIA       R0!,{R4,R5}
    520                  position.current_target[2] += desired_d_velocity/30.0;//h
   \   000015FE   02AE               ADD         R6,SP,#+8
   \   00001600   201C               MOV         R0,R4
   \   00001602   291C               MOV         R1,R5
   \   00001604   0022               MOV         R2,#+0
   \   00001606   AE4B               LDR         R3,??servo_update_auto_75+0xC  ;; 0x403e0000
   \   00001608   ........           _BLF        __dDiv,??__dDiv??rT
   \   0000160C   021C               MOV         R2,R0
   \   0000160E   0B1C               MOV         R3,R1
   \   00001610   0498               LDR         R0,[SP, #+16]
   \   00001612   7030               ADD         R0,#+112
   \   00001614   03C8               LDMIA       R0!,{R0,R1}
   \   00001616   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000161A   03C6               STMIA       R6!,{R0,R1}
   \   0000161C   049A               LDR         R2,[SP, #+16]
   \   0000161E   7032               ADD         R2,#+112
   \   00001620   02A8               ADD         R0,SP,#+8
   \   00001622   03C8               LDMIA       R0!,{R0,R1}
   \   00001624   03C2               STMIA       R2!,{R0,R1}
    521                  temp[2] = (position.current_target[2] - D)*out_loop_D_PID[0];//h
    522                  //temp[2] = limit( temp[2] , -300.0 , 300.0); //h
    523                  temp[2] += (desired_d_velocity - dD)*out_loop_D_PID[2];//h
   \   00001626   A74E               LDR         R6,??servo_update_auto_75+0x10  ;; out_loop_D_PID
   \   00001628   45AF               ADD         R7,SP,#+276
   \   0000162A   1037               ADD         R7,#+16
   \   0000162C   201C               MOV         R0,R4
   \   0000162E   291C               MOV         R1,R5
   \   00001630   A54A               LDR         R2,??servo_update_auto_75+0x14  ;; ??dE + 16
   \   00001632   0CCA               LDMIA       R2!,{R2,R3}
   \   00001634   ........           _BLF        __dSub,??__dSub??rT
   \   00001638   021C               MOV         R2,R0
   \   0000163A   0B1C               MOV         R3,R1
   \   0000163C   301C               MOV         R0,R6
   \   0000163E   1030               ADD         R0,#+16
   \   00001640   03C8               LDMIA       R0!,{R0,R1}
   \   00001642   ........           _BLF        __dMul,??__dMul??rT
   \   00001646   041C               MOV         R4,R0
   \   00001648   0D1C               MOV         R5,R1
   \   0000164A   02A8               ADD         R0,SP,#+8
   \   0000164C   03C8               LDMIA       R0!,{R0,R1}
   \   0000164E   EB4A               LDR         R2,??servo_update_auto_76  ;; ??dE + 8
   \   00001650   0CCA               LDMIA       R2!,{R2,R3}
   \   00001652   ........           _BLF        __dSub,??__dSub??rT
   \   00001656   021C               MOV         R2,R0
   \   00001658   0B1C               MOV         R3,R1
   \   0000165A   03CE               LDMIA       R6!,{R0,R1}
   \   0000165C   ........           _BLF        __dMul,??__dMul??rT
   \   00001660   221C               MOV         R2,R4
   \   00001662   2B1C               MOV         R3,R5
   \   00001664   ........           _BLF        __dAdd,??__dAdd??rT
   \   00001668   03C7               STMIA       R7!,{R0,R1}
    524                  //temp[2] = limit( temp[2] , -300.0 , 300.0);  //h
    525                  if (servo_widths_temp[3]>2200)  
   \   0000166A   E548               LDR         R0,??servo_update_auto_76+0x4  ;; servo_widths + 52
   \   0000166C   0068               LDR         R0,[R0, #+0]
   \   0000166E   E549               LDR         R1,??servo_update_auto_76+0x8  ;; 0x899
   \   00001670   02B0               ADD         SP,#+8
   \   00001672   8842               CMP         R0,R1
   \   00001674   04DB               BLT         ??servo_update_auto_77
    526                  {
    527                      servo_widths_temp[3] = throttle;
   \   00001676   E248               LDR         R0,??servo_update_auto_76+0x4  ;; servo_widths + 52
   \   00001678   E349               LDR         R1,??servo_update_auto_76+0xC  ;; last_control_mode + 124
   \   0000167A   0968               LDR         R1,[R1, #+0]
   \   0000167C   0160               STR         R1,[R0, #+0]
   \   0000167E   01E0               B           ??servo_update_auto_55
    528                  }
    529                  else
    530                  {
    531                      throttle = servo_widths_temp[3];
   \                     ??servo_update_auto_77:
   \   00001680   E149               LDR         R1,??servo_update_auto_76+0xC  ;; last_control_mode + 124
   \   00001682   0860               STR         R0,[R1, #+0]
   \                     ??servo_update_auto_55:
   \   00001684   E14A               LDR         R2,??servo_update_auto_76+0x10  ;; last_control_mode + 20
   \   00001686   31A8               ADD         R0,SP,#+196
   \   00001688   03C8               LDMIA       R0!,{R0,R1}
   \   0000168A   03C2               STMIA       R2!,{R0,R1}
    532                  }
    533                  
    534          }
    535                  roll_commend[0]  = even_point[0] + desired_roll_angle; 
   \   0000168C   E048               LDR         R0,??servo_update_auto_76+0x14  ;; pcm_line + 24
   \   0000168E   0CC8               LDMIA       R0!,{R2,R3}
   \   00001690   33A8               ADD         R0,SP,#+204
   \   00001692   03C8               LDMIA       R0!,{R0,R1}
   \   00001694   ........           _BLF        __dAdd,??__dAdd??rT
   \   00001698   061C               MOV         R6,R0
   \   0000169A   0F1C               MOV         R7,R1
   \   0000169C   DD48               LDR         R0,??servo_update_auto_76+0x18  ;; roll_commend
   \   0000169E   C0C0               STMIA       R0!,{R6,R7}
   \   000016A0   DD4C               LDR         R4,??servo_update_auto_76+0x1C  ;; pitch_commend
   \   000016A2   DE48               LDR         R0,??servo_update_auto_76+0x20  ;; pcm_line + 32
   \   000016A4   0CC8               LDMIA       R0!,{R2,R3}
   \   000016A6   35A8               ADD         R0,SP,#+212
   \   000016A8   03C8               LDMIA       R0!,{R0,R1}
   \   000016AA   ........           _BLF        __dAdd,??__dAdd??rT
   \   000016AE   03C4               STMIA       R4!,{R0,R1}
    536                  pitch_commend[0] = even_point[1] + desired_pitch_angle;  
    537                  
    538          
    539          /*ÄÚ»·PD¿ØÖÆÆ÷*************²ÎÊý¿ÉÒÔÓÃ´®¿Ú·¢,¸ñÊ½:$,1100,20,900,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,**********************/       
    540                  
    541          /*Îó²îµÄµÍÍ¨ÂË²¨*/  
    542          static double roll_old_error = 0.0;     
    543          static double pitch_old_error = 0.0; 
    544          double error,d_error;
    545          #define roll_alpha 0.4
    546          #define pitch_alpha 0.4
    547              error = roll_commend[0] - roll_angle;
    548              d_error = (error - roll_old_error)*roll_alpha;
   \   000016B0   DB48               LDR         R0,??servo_update_auto_76+0x24  ;; pcm_line + 80
   \   000016B2   30C8               LDMIA       R0!,{R4,R5}
   \   000016B4   6A46               MOV         R2,SP
   \   000016B6   04B4               PUSH        {R2}
   \   000016B8   301C               MOV         R0,R6
   \   000016BA   391C               MOV         R1,R7
   \   000016BC   D94A               LDR         R2,??servo_update_auto_76+0x28  ;; last_control_mode + 36
   \   000016BE   0CCA               LDMIA       R2!,{R2,R3}
   \   000016C0   ........           _BLF        __dSub,??__dSub??rT
   \   000016C4   221C               MOV         R2,R4
   \   000016C6   2B1C               MOV         R3,R5
   \   000016C8   ........           _BLF        __dSub,??__dSub??rT
   \   000016CC   D64A               LDR         R2,??servo_update_auto_76+0x2C  ;; 0x9999999a
   \   000016CE   D74B               LDR         R3,??servo_update_auto_76+0x30  ;; 0x3fd99999
   \   000016D0   ........           _BLF        __dMul,??__dMul??rT
   \   000016D4   04BC               POP         {R2}
   \   000016D6   03C2               STMIA       R2!,{R0,R1}
   \   000016D8   D14E               LDR         R6,??servo_update_auto_76+0x24  ;; pcm_line + 80
   \   000016DA   6846               MOV         R0,SP
   \   000016DC   03C8               LDMIA       R0!,{R0,R1}
   \   000016DE   221C               MOV         R2,R4
   \   000016E0   2B1C               MOV         R3,R5
   \   000016E2   ........           _BLF        __dAdd,??__dAdd??rT
   \   000016E6   03C6               STMIA       R6!,{R0,R1}
    549              error = roll_old_error + d_error;
    550              d_error = d_error/0.033333;
    551              roll_old_error = error;
    552              temp[0] = in_loop_roll_PID[0]*(error) + in_loop_roll_PID[2]*(d_error); //roll
   \   000016E8   D14E               LDR         R6,??servo_update_auto_76+0x34  ;; in_loop_roll_PID
   \   000016EA   43AF               ADD         R7,SP,#+268
   \   000016EC   6846               MOV         R0,SP
   \   000016EE   03C8               LDMIA       R0!,{R0,R1}
   \   000016F0   D04A               LDR         R2,??servo_update_auto_76+0x38  ;; 0xe1c15098
   \   000016F2   D14B               LDR         R3,??servo_update_auto_76+0x3C  ;; 0x3fa11105
   \   000016F4   ........           _BLF        __dDiv,??__dDiv??rT
   \   000016F8   021C               MOV         R2,R0
   \   000016FA   0B1C               MOV         R3,R1
   \   000016FC   301C               MOV         R0,R6
   \   000016FE   1030               ADD         R0,#+16
   \   00001700   03C8               LDMIA       R0!,{R0,R1}
   \   00001702   ........           _BLF        __dMul,??__dMul??rT
   \   00001706   041C               MOV         R4,R0
   \   00001708   0D1C               MOV         R5,R1
   \   0000170A   0CCE               LDMIA       R6!,{R2,R3}
   \   0000170C   C448               LDR         R0,??servo_update_auto_76+0x24  ;; pcm_line + 80
   \   0000170E   03C8               LDMIA       R0!,{R0,R1}
   \   00001710   ........           _BLF        __dMul,??__dMul??rT
   \   00001714   221C               MOV         R2,R4
   \   00001716   2B1C               MOV         R3,R5
   \   00001718   ........           _BLF        __dAdd,??__dAdd??rT
   \   0000171C   03C7               STMIA       R7!,{R0,R1}
    553          //    temp[0] = in_loop_roll_PID[0] * error + (25.0) * d_error; //roll
    554              
    555              error = pitch_commend[0] - pitch_angle;
    556              d_error = (error - pitch_old_error)*pitch_alpha;
   \   0000171E   C748               LDR         R0,??servo_update_auto_76+0x40  ;; pcm_line + 88
   \   00001720   30C8               LDMIA       R0!,{R4,R5}
   \   00001722   6E46               MOV         R6,SP
   \   00001724   BC48               LDR         R0,??servo_update_auto_76+0x1C  ;; pitch_commend
   \   00001726   03C8               LDMIA       R0!,{R0,R1}
   \   00001728   C54A               LDR         R2,??servo_update_auto_76+0x44  ;; last_control_mode + 44
   \   0000172A   0CCA               LDMIA       R2!,{R2,R3}
   \   0000172C   ........           _BLF        __dSub,??__dSub??rT
   \   00001730   221C               MOV         R2,R4
   \   00001732   2B1C               MOV         R3,R5
   \   00001734   ........           _BLF        __dSub,??__dSub??rT
   \   00001738   BB4A               LDR         R2,??servo_update_auto_76+0x2C  ;; 0x9999999a
   \   0000173A   BC4B               LDR         R3,??servo_update_auto_76+0x30  ;; 0x3fd99999
   \   0000173C   ........           _BLF        __dMul,??__dMul??rT
   \   00001740   03C6               STMIA       R6!,{R0,R1}
   \   00001742   BE4E               LDR         R6,??servo_update_auto_76+0x40  ;; pcm_line + 88
   \   00001744   6846               MOV         R0,SP
   \   00001746   03C8               LDMIA       R0!,{R0,R1}
   \   00001748   221C               MOV         R2,R4
   \   0000174A   2B1C               MOV         R3,R5
   \   0000174C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00001750   03C6               STMIA       R6!,{R0,R1}
    557              error = pitch_old_error + d_error;
    558              d_error = d_error/0.033333;
    559              pitch_old_error = error; 
    560              temp[1] = in_loop_pitch_PID[0]*(error) + in_loop_pitch_PID[2]*(d_error); //pitch 
   \   00001752   BC4E               LDR         R6,??servo_update_auto_76+0x48  ;; in_loop_pitch_PID
   \   00001754   6846               MOV         R0,SP
   \   00001756   03C8               LDMIA       R0!,{R0,R1}
   \   00001758   B64A               LDR         R2,??servo_update_auto_76+0x38  ;; 0xe1c15098
   \   0000175A   B74B               LDR         R3,??servo_update_auto_76+0x3C  ;; 0x3fa11105
   \   0000175C   ........           _BLF        __dDiv,??__dDiv??rT
   \   00001760   321C               MOV         R2,R6
   \   00001762   1032               ADD         R2,#+16
   \   00001764   0CCA               LDMIA       R2!,{R2,R3}
   \   00001766   ........           _BLF        __dMul,??__dMul??rT
   \   0000176A   041C               MOV         R4,R0
   \   0000176C   0D1C               MOV         R5,R1
   \   0000176E   03CE               LDMIA       R6!,{R0,R1}
   \   00001770   B24A               LDR         R2,??servo_update_auto_76+0x40  ;; pcm_line + 88
   \   00001772   0CCA               LDMIA       R2!,{R2,R3}
   \   00001774   ........           _BLF        __dMul,??__dMul??rT
   \   00001778   221C               MOV         R2,R4
   \   0000177A   2B1C               MOV         R3,R5
   \   0000177C   ........           _BLF        __dAdd,??__dAdd??rT
   \   00001780   041C               MOV         R4,R0
   \   00001782   0D1C               MOV         R5,R1
   \   00001784   43A8               ADD         R0,SP,#+268
   \   00001786   0830               ADD         R0,#+8
   \   00001788   30C0               STMIA       R0!,{R4,R5}
    561          //    temp[1] = in_loop_pitch_PID[0] * error + (-30.0) * d_error; //pitch 
    562          //      
    563          //    temp[0] += abs(in_loop_roll_PID[2] * filter_pqr[2]);
    564          //    temp[1] += in_loop_pitch_PID[2] * filter_pqr[2];
    565              
    566          /*×Ô¿ØÁ¿×ª»»³ÉcollºÍpitchµÄÒ¡¸ËÁ¿(×Ô¿Ø×´Ì¬ÏÂ,·Ç×Ô¿ØÊ±Ò¡¸ËÁ¿Ö±½ÓÓÉÒ£¿ØÆ÷²úÉú,Ò²¾ÍÊÇËµ¿ØÖÆÆ÷ÊÇ·ÉÊÖ)******************/                
    567                  if(control_mode == 3 && last_control_mode == 3)//×Ô¿Ø
   \   0000178A   AF48               LDR         R0,??servo_update_auto_76+0x4C  ;; last_control_mode + 1
   \   0000178C   0078               LDRB        R0,[R0, #+0]
   \   0000178E   0328               CMP         R0,#+3
   \   00001790   2AD1               BNE         ??servo_update_auto_78
   \   00001792   AE48               LDR         R0,??servo_update_auto_76+0x50  ;; last_control_mode
   \   00001794   0078               LDRB        R0,[R0, #+0]
   \   00001796   0328               CMP         R0,#+3
   \   00001798   26D1               BNE         ??servo_update_auto_78
    568                    {	
    569                     servo_widths_temp[1] = remote_median[0] + temp[0];//roll
   \   0000179A   AD4E               LDR         R6,??servo_update_auto_76+0x54  ;; servo_widths + 44
   \   0000179C   AD48               LDR         R0,??servo_update_auto_76+0x58  ;; last_control_mode + 28
   \   0000179E   0068               LDR         R0,[R0, #+0]
   \   000017A0   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   000017A4   021C               MOV         R2,R0
   \   000017A6   0B1C               MOV         R3,R1
   \   000017A8   43A8               ADD         R0,SP,#+268
   \   000017AA   03C8               LDMIA       R0!,{R0,R1}
   \   000017AC   ........           _BLF        __dAdd,??__dAdd??rT
   \   000017B0   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   000017B4   3060               STR         R0,[R6, #+0]
    570                     servo_widths_temp[2] = remote_median[1] + temp[1];//pitch
   \   000017B6   A84E               LDR         R6,??servo_update_auto_76+0x5C  ;; servo_widths + 48
   \   000017B8   A848               LDR         R0,??servo_update_auto_76+0x60  ;; last_control_mode + 32
   \   000017BA   0068               LDR         R0,[R0, #+0]
   \   000017BC   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   000017C0   221C               MOV         R2,R4
   \   000017C2   2B1C               MOV         R3,R5
   \   000017C4   ........           _BLF        __dAdd,??__dAdd??rT
   \   000017C8   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   000017CC   3060               STR         R0,[R6, #+0]
    571                     servo_widths_temp[6] = coll_mid + temp[2];//coll//h
   \   000017CE   A44C               LDR         R4,??servo_update_auto_76+0x64  ;; servo_widths + 64
   \   000017D0   A448               LDR         R0,??servo_update_auto_76+0x68  ;; last_control_mode + 120
   \   000017D2   0068               LDR         R0,[R0, #+0]
   \   000017D4   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   000017D8   43AA               ADD         R2,SP,#+268
   \   000017DA   1032               ADD         R2,#+16
   \   000017DC   0CCA               LDMIA       R2!,{R2,R3}
   \   000017DE   ........           _BLF        __dAdd,??__dAdd??rT
   \   000017E2   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   000017E6   2060               STR         R0,[R4, #+0]
    572                    }
    573          /*Ò¡¸ËÁ¿ñîºÏ*******************************************************************************************************/
    574                  servo_widths_mid[0] = (servo_widths_temp[1]-2838) *13/25;//roll
   \                     ??servo_update_auto_78:
   \   000017E8   9F4A               LDR         R2,??servo_update_auto_76+0x6C  ;; 0xfffff4ea
   \   000017EA   9948               LDR         R0,??servo_update_auto_76+0x54  ;; servo_widths + 44
   \   000017EC   0068               LDR         R0,[R0, #+0]
   \   000017EE   8018               ADD         R0,R0,R2
   \   000017F0   0D21               MOV         R1,#+13
   \   000017F2   4843               MUL         R0,R1
   \   000017F4   1921               MOV         R1,#+25
   \   000017F6   ........           _BLF        ??div32_t,??rT??div32_t
   \   000017FA   0E1C               MOV         R6,R1
   \   000017FC   9B48               LDR         R0,??servo_update_auto_76+0x70  ;; pcm_line + 40
   \   000017FE   0160               STR         R1,[R0, #+0]
    575                  servo_widths_mid[1] = (servo_widths_temp[2]-2838) *3/5;//pitch
   \   00001800   9B4B               LDR         R3,??servo_update_auto_76+0x74  ;; pcm_line + 44
   \   00001802   9548               LDR         R0,??servo_update_auto_76+0x5C  ;; servo_widths + 48
   \   00001804   0068               LDR         R0,[R0, #+0]
   \   00001806   8018               ADD         R0,R0,R2
   \   00001808   0321               MOV         R1,#+3
   \   0000180A   4843               MUL         R0,R1
   \   0000180C   0521               MOV         R1,#+5
   \   0000180E   ........           _BLF        ??div32_t,??rT??div32_t
   \   00001812   1960               STR         R1,[R3, #+0]
    576                  servo_widths_mid[2] = (servo_widths_temp[6]-2838) *2/5;//coll 
   \   00001814   974B               LDR         R3,??servo_update_auto_76+0x78  ;; pcm_line + 48
   \   00001816   9248               LDR         R0,??servo_update_auto_76+0x64  ;; servo_widths + 64
   \   00001818   0068               LDR         R0,[R0, #+0]
   \   0000181A   8018               ADD         R0,R0,R2
   \   0000181C   4000               LSL         R0,R0,#+1
   \   0000181E   0521               MOV         R1,#+5
   \   00001820   ........           _BLF        ??div32_t,??rT??div32_t
   \   00001824   1960               STR         R1,[R3, #+0]
    577          //--------------------------------ÏÞ·ù-----------------------------------------------//        
    578                      servo_widths_mid[0] = limit( servo_widths_mid[0] , -480 , 480);
   \   00001826   0020               MOV         R0,#+0
   \   00001828   9349               LDR         R1,??servo_update_auto_76+0x7C  ;; 0x407e0000
   \   0000182A   03B4               PUSH        {R0,R1}
   \   0000182C   934B               LDR         R3,??servo_update_auto_76+0x80  ;; 0xc07e0000
   \   0000182E   0024               MOV         R4,#+0
   \   00001830   1D1C               MOV         R5,R3
   \   00001832   301C               MOV         R0,R6
   \   00001834   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   00001838   221C               MOV         R2,R4
   \   0000183A   2B1C               MOV         R3,R5
   \   0000183C   ........           _BLF        ??limit,??limit??rT
   \   00001840   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   00001844   8949               LDR         R1,??servo_update_auto_76+0x70  ;; pcm_line + 40
   \   00001846   0860               STR         R0,[R1, #+0]
    579                      servo_widths_mid[1] = limit( servo_widths_mid[1] , -550 , 550); 
   \   00001848   201C               MOV         R0,R4
   \   0000184A   8D49               LDR         R1,??servo_update_auto_76+0x84  ;; 0x40813000
   \   0000184C   03B4               PUSH        {R0,R1}
   \   0000184E   8D4B               LDR         R3,??servo_update_auto_76+0x88  ;; 0xc0813000
   \   00001850   1D1C               MOV         R5,R3
   \   00001852   8748               LDR         R0,??servo_update_auto_76+0x74  ;; pcm_line + 44
   \   00001854   0068               LDR         R0,[R0, #+0]
   \   00001856   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   0000185A   221C               MOV         R2,R4
   \   0000185C   2B1C               MOV         R3,R5
   \   0000185E   ........           _BLF        ??limit,??limit??rT
   \   00001862   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   00001866   8249               LDR         R1,??servo_update_auto_76+0x74  ;; pcm_line + 44
   \   00001868   0860               STR         R0,[R1, #+0]
    580                      servo_widths_mid[2] = limit( servo_widths_mid[2] , -500 , 500);//h
   \   0000186A   201C               MOV         R0,R4
   \   0000186C   8649               LDR         R1,??servo_update_auto_76+0x8C  ;; 0x407f4000
   \   0000186E   03B4               PUSH        {R0,R1}
   \   00001870   864B               LDR         R3,??servo_update_auto_76+0x90  ;; 0xc07f4000
   \   00001872   1D1C               MOV         R5,R3
   \   00001874   7F48               LDR         R0,??servo_update_auto_76+0x78  ;; pcm_line + 48
   \   00001876   0068               LDR         R0,[R0, #+0]
   \   00001878   ........           _BLF        __longToDouble,??__longToDouble??rT
   \   0000187C   221C               MOV         R2,R4
   \   0000187E   2B1C               MOV         R3,R5
   \   00001880   ........           _BLF        ??limit,??limit??rT
   \   00001884   ........           _BLF        __doubleToLong,??__doubleToLong??rT
   \   00001888   7A49               LDR         R1,??servo_update_auto_76+0x78  ;; pcm_line + 48
   \   0000188A   0860               STR         R0,[R1, #+0]
    581          //------------------------------×Ô¿ØPWMÇÐ»»»º³å---------------------------------------//
    582                      if (control_mode==3 && last_control_mode==1)
   \   0000188C   6E48               LDR         R0,??servo_update_auto_76+0x4C  ;; last_control_mode + 1
   \   0000188E   0078               LDRB        R0,[R0, #+0]
   \   00001890   06B0               ADD         SP,#+24
   \   00001892   0328               CMP         R0,#+3
   \   00001894   1AD1               BNE         ??servo_update_auto_79
   \   00001896   6D48               LDR         R0,??servo_update_auto_76+0x50  ;; last_control_mode
   \   00001898   0078               LDRB        R0,[R0, #+0]
   \   0000189A   0128               CMP         R0,#+1
   \   0000189C   16D1               BNE         ??servo_update_auto_79
    583                        {
    584                            man2auto = 0; 
   \   0000189E   7C48               LDR         R0,??servo_update_auto_76+0x94  ;; last_control_mode + 92
   \   000018A0   0460               STR         R4,[R0, #+0]
    585                            remote_median[0] = servo_widths_temp[1];//rollÒ¡¸ËÖÐÎ»Öµ
   \   000018A2   6C48               LDR         R0,??servo_update_auto_76+0x58  ;; last_control_mode + 28
   \   000018A4   6A49               LDR         R1,??servo_update_auto_76+0x54  ;; servo_widths + 44
   \   000018A6   0968               LDR         R1,[R1, #+0]
   \   000018A8   0160               STR         R1,[R0, #+0]
    586                            remote_median[1] = servo_widths_temp[2];//pitchÒ¡¸ËÖÐÎ»Öµ
   \   000018AA   6C48               LDR         R0,??servo_update_auto_76+0x60  ;; last_control_mode + 32
   \   000018AC   6A49               LDR         R1,??servo_update_auto_76+0x5C  ;; servo_widths + 48
   \   000018AE   0968               LDR         R1,[R1, #+0]
   \   000018B0   0160               STR         R1,[R0, #+0]
   \   000018B2   11E0               B           ??servo_update_auto_80
   \                     ??servo_update_auto_75:
   \   000018B4   00005940           DC32        0x40590000
   \   000018B8   0000E03F           DC32        0x3fe00000
   \   000018BC   0000E0BF           DC32        0xbfe00000
   \   000018C0   00003E40           DC32        0x403e0000
   \   000018C4   ........           DC32        out_loop_D_PID
   \   000018C8   ........           DC32        ??dE + 16
    587                        }                 
    588                      if(man2auto < 15 )
   \                     ??servo_update_auto_79:
   \   000018CC   7048               LDR         R0,??servo_update_auto_76+0x94  ;; last_control_mode + 92
   \   000018CE   0068               LDR         R0,[R0, #+0]
   \   000018D0   0F28               CMP         R0,#+15
   \   000018D2   27DA               BGE         ??servo_update_auto_81
    589                        {
    590                            if (man2auto == 0)
   \   000018D4   0028               CMP         R0,#+0
   \   000018D6   07D1               BNE         ??servo_update_auto_82
    591                            {
    592                                last_pwm[0] = servo_widths_mid[0];		//roll
   \                     ??servo_update_auto_80:
   \   000018D8   6E48               LDR         R0,??servo_update_auto_76+0x98  ;; pcm_line + 56
   \   000018DA   6449               LDR         R1,??servo_update_auto_76+0x70  ;; pcm_line + 40
   \   000018DC   0968               LDR         R1,[R1, #+0]
   \   000018DE   0160               STR         R1,[R0, #+0]
    593                                last_pwm[1] = servo_widths_mid[1];		//pitch
   \   000018E0   6D48               LDR         R0,??servo_update_auto_76+0x9C  ;; pcm_line + 60
   \   000018E2   6349               LDR         R1,??servo_update_auto_76+0x74  ;; pcm_line + 44
   \   000018E4   0968               LDR         R1,[R1, #+0]
   \   000018E6   0160               STR         R1,[R0, #+0]
    594                            } 
    595                            servo_widths_mid[0] = last_pwm[0] + (servo_widths_mid[0]-last_pwm[0]) / (15-man2auto) ;//roll            	                              
   \                     ??servo_update_auto_82:
   \   000018E8   0F20               MOV         R0,#+15
   \   000018EA   6949               LDR         R1,??servo_update_auto_76+0x94  ;; last_control_mode + 92
   \   000018EC   0968               LDR         R1,[R1, #+0]
   \   000018EE   421A               SUB         R2,R0,R1
   \   000018F0   6848               LDR         R0,??servo_update_auto_76+0x98  ;; pcm_line + 56
   \   000018F2   0368               LDR         R3,[R0, #+0]
   \   000018F4   5D48               LDR         R0,??servo_update_auto_76+0x70  ;; pcm_line + 40
   \   000018F6   0068               LDR         R0,[R0, #+0]
   \   000018F8   C01A               SUB         R0,R0,R3
   \   000018FA   111C               MOV         R1,R2
   \   000018FC   ........           _BLF        ??div32_t,??rT??div32_t
   \   00001900   5818               ADD         R0,R3,R1
   \   00001902   5A49               LDR         R1,??servo_update_auto_76+0x70  ;; pcm_line + 40
   \   00001904   0860               STR         R0,[R1, #+0]
    596                            last_pwm[0] = servo_widths_mid[0];                  
   \   00001906   6349               LDR         R1,??servo_update_auto_76+0x98  ;; pcm_line + 56
   \   00001908   0860               STR         R0,[R1, #+0]
    597                            servo_widths_mid[1] = last_pwm[1] + (servo_widths_mid[1]-last_pwm[1]) / (15-man2auto);//pitch
   \   0000190A   6348               LDR         R0,??servo_update_auto_76+0x9C  ;; pcm_line + 60
   \   0000190C   0368               LDR         R3,[R0, #+0]
   \   0000190E   5848               LDR         R0,??servo_update_auto_76+0x74  ;; pcm_line + 44
   \   00001910   0068               LDR         R0,[R0, #+0]
   \   00001912   C01A               SUB         R0,R0,R3
   \   00001914   111C               MOV         R1,R2
   \   00001916   ........           _BLF        ??div32_t,??rT??div32_t
   \   0000191A   5818               ADD         R0,R3,R1
   \   0000191C   5449               LDR         R1,??servo_update_auto_76+0x74  ;; pcm_line + 44
   \   0000191E   0860               STR         R0,[R1, #+0]
    598                            last_pwm[1] = servo_widths_mid[1];    
   \   00001920   5D49               LDR         R1,??servo_update_auto_76+0x9C  ;; pcm_line + 60
   \   00001922   0860               STR         R0,[R1, #+0]
    599                       }       
    600          //--------------------------3Í¨µÀÊÖ¿ØÖµ¼Óñî----------------------------------------------//
    601                  servo_widths[1] = servo_widths_mid[0]   +  servo_widths_mid[1]/2  - servo_widths_mid[2] + 2838;//roll 
   \                     ??servo_update_auto_81:
   \   00001924   5248               LDR         R0,??servo_update_auto_76+0x74  ;; pcm_line + 44
   \   00001926   0168               LDR         R1,[R0, #+0]
   \   00001928   C80F               LSR         R0,R1,#+31
   \   0000192A   4018               ADD         R0,R0,R1
   \   0000192C   4210               ASR         R2,R0,#+1
   \   0000192E   4F48               LDR         R0,??servo_update_auto_76+0x70  ;; pcm_line + 40
   \   00001930   0368               LDR         R3,[R0, #+0]
   \   00001932   5048               LDR         R0,??servo_update_auto_76+0x78  ;; pcm_line + 48
   \   00001934   0568               LDR         R5,[R0, #+0]
   \   00001936   594C               LDR         R4,??servo_update_auto_76+0xA0  ;; 0xb16
   \   00001938   9818               ADD         R0,R3,R2
   \   0000193A   401B               SUB         R0,R0,R5
   \   0000193C   0019               ADD         R0,R0,R4
   \   0000193E   584E               LDR         R6,??servo_update_auto_76+0xA4  ;; servo_widths + 4
   \   00001940   3060               STR         R0,[R6, #+0]
    602                  servo_widths[2] =                          servo_widths_mid[1]    + servo_widths_mid[2] + 2838;//pitch
   \   00001942   584E               LDR         R6,??servo_update_auto_76+0xA8  ;; servo_widths + 8
   \   00001944   4919               ADD         R1,R1,R5
   \   00001946   0919               ADD         R1,R1,R4
   \   00001948   3160               STR         R1,[R6, #+0]
    603                  servo_widths[6] = servo_widths_mid[0]   -  servo_widths_mid[1]/2  + servo_widths_mid[2] + 2838;//coll   
   \   0000194A   5749               LDR         R1,??servo_update_auto_76+0xAC  ;; servo_widths + 24
   \   0000194C   9A1A               SUB         R2,R3,R2
   \   0000194E   5219               ADD         R2,R2,R5
   \   00001950   1219               ADD         R2,R2,R4
   \   00001952   0A60               STR         R2,[R1, #+0]
    604                        
    605                        
    606                  servo_widths[1] = limit_int(servo_widths[1],1621,3927);//roll
   \   00001954   554D               LDR         R5,??servo_update_auto_76+0xB0  ;; 0x655
   \   00001956   564E               LDR         R6,??servo_update_auto_76+0xB4  ;; 0xf57
   \   00001958   321C               MOV         R2,R6
   \   0000195A   291C               MOV         R1,R5
   \   0000195C   ........           _BLF        ??limit_int,??limit_int??rT
   \   00001960   4F49               LDR         R1,??servo_update_auto_76+0xA4  ;; servo_widths + 4
   \   00001962   0860               STR         R0,[R1, #+0]
    607                  servo_widths[2] = limit_int(servo_widths[2],1621,3927);//pitch
   \   00001964   321C               MOV         R2,R6
   \   00001966   291C               MOV         R1,R5
   \   00001968   4E48               LDR         R0,??servo_update_auto_76+0xA8  ;; servo_widths + 8
   \   0000196A   0068               LDR         R0,[R0, #+0]
   \   0000196C   ........           _BLF        ??limit_int,??limit_int??rT
   \   00001970   4C49               LDR         R1,??servo_update_auto_76+0xA8  ;; servo_widths + 8
   \   00001972   0860               STR         R0,[R1, #+0]
    608                  servo_widths[6] = limit_int(servo_widths[6],1683,3927);//coll   	
   \   00001974   321C               MOV         R2,R6
   \   00001976   4F49               LDR         R1,??servo_update_auto_76+0xB8  ;; 0x693
   \   00001978   4B48               LDR         R0,??servo_update_auto_76+0xAC  ;; servo_widths + 24
   \   0000197A   0068               LDR         R0,[R0, #+0]
   \   0000197C   ........           _BLF        ??limit_int,??limit_int??rT
   \   00001980   4949               LDR         R1,??servo_update_auto_76+0xAC  ;; servo_widths + 24
   \   00001982   0860               STR         R0,[R1, #+0]
    609             
    610                 //yaw(Ô­±¾µÄgain,µÚÎåÍ¨µÀÊä³öÆ«º½Í¨µÀÒ¡¸ËÖµ,¿ÉÒÔ½Ógy401)     
    611          /********************************ËøÎ²Ëã·¨**********************************************/   
    612                  servo_widths[7] = limit_int(servo_widths_temp[4],1621,3865);;//limit_int(servo_widths_temp[4],1621,3865);//¿ÉÒÔÓÃÀ´½Ó401µÄyaw          
   \   00001984   3E3E               SUB         R6,#+62
   \   00001986   321C               MOV         R2,R6
   \   00001988   291C               MOV         R1,R5
   \   0000198A   4B48               LDR         R0,??servo_update_auto_76+0xBC  ;; servo_widths + 56
   \   0000198C   0068               LDR         R0,[R0, #+0]
   \   0000198E   ........           _BLF        ??limit_int,??limit_int??rT
   \   00001992   4A49               LDR         R1,??servo_update_auto_76+0xC0  ;; servo_widths + 28
   \   00001994   0860               STR         R0,[R1, #+0]
    613                  avcs(servo_widths_temp+4);  //2015-6-29 byM , ËøÎ²avcs 
   \   00001996   4848               LDR         R0,??servo_update_auto_76+0xBC  ;; servo_widths + 56
   \   00001998   ........           _BLF        ??avcs,??avcs??rT
    614                  servo_widths[4] = limit_int(servo_widths_temp[4],1621,3865);//yaw     
   \   0000199C   321C               MOV         R2,R6
   \   0000199E   291C               MOV         R1,R5
   \   000019A0   4548               LDR         R0,??servo_update_auto_76+0xBC  ;; servo_widths + 56
   \   000019A2   0068               LDR         R0,[R0, #+0]
   \   000019A4   ........           _BLF        ??limit_int,??limit_int??rT
   \   000019A8   4549               LDR         R1,??servo_update_auto_76+0xC4  ;; servo_widths + 16
   \   000019AA   0860               STR         R0,[R1, #+0]
    615                  servo_widths[5] = limit_int(servo_widths_temp[5],1621,3865);//gain        
   \   000019AC   321C               MOV         R2,R6
   \   000019AE   291C               MOV         R1,R5
   \   000019B0   4448               LDR         R0,??servo_update_auto_76+0xC8  ;; servo_widths + 60
   \   000019B2   0068               LDR         R0,[R0, #+0]
   \   000019B4   ........           _BLF        ??limit_int,??limit_int??rT
   \   000019B8   4349               LDR         R1,??servo_update_auto_76+0xCC  ;; servo_widths + 20
   \   000019BA   0860               STR         R0,[R1, #+0]
    616                  servo_widths[3] = limit_int(servo_widths_temp[3],1621,3865);//throttle
   \   000019BC   321C               MOV         R2,R6
   \   000019BE   291C               MOV         R1,R5
   \   000019C0   0F48               LDR         R0,??servo_update_auto_76+0x4  ;; servo_widths + 52
   \   000019C2   0068               LDR         R0,[R0, #+0]
   \   000019C4   ........           _BLF        ??limit_int,??limit_int??rT
   \   000019C8   4049               LDR         R1,??servo_update_auto_76+0xD0  ;; servo_widths + 12
   \   000019CA   0860               STR         R0,[R1, #+0]
    617                  
    618                  servo_widths[8] = 2838;//limit_int(servo_widths_temp[8],1621,3865);           
   \   000019CC   4048               LDR         R0,??servo_update_auto_76+0xD4  ;; servo_widths + 32
   \   000019CE   0460               STR         R4,[R0, #+0]
    619          
    620                  int pwm_sum = 0;
   \   000019D0   0020               MOV         R0,#+0
    621                  for(char i=1;i<9;i++)
   \   000019D2   0121               MOV         R1,#+1
   \   000019D4   3F4B               LDR         R3,??servo_update_auto_76+0xD8  ;; servo_widths
    622                  pwm_sum+=servo_widths_temp[i];
   \                     ??servo_update_auto_83:
   \   000019D6   8A00               LSL         R2,R1,#+2
   \   000019D8   9A18               ADD         R2,R3,R2
   \   000019DA   926A               LDR         R2,[R2, #+40]
   \   000019DC   8018               ADD         R0,R0,R2
   \   000019DE   491C               ADD         R1,R1,#+1
   \   000019E0   0A06               LSL         R2,R1,#+24
   \   000019E2   120E               LSR         R2,R2,#+24
   \   000019E4   092A               CMP         R2,#+9
   \   000019E6   F6D3               BCC         ??servo_update_auto_83
    623                  servo_widths[9]=srevo_period-servo_widths[0]-pwm_sum;  //keep 18ms period        
   \   000019E8   3B49               LDR         R1,??servo_update_auto_76+0xDC  ;; servo_widths + 36
   \   000019EA   3C4A               LDR         R2,??servo_update_auto_76+0xE0  ;; 0x837a
   \   000019EC   1B68               LDR         R3,[R3, #+0]
   \   000019EE   D21A               SUB         R2,R2,R3
   \   000019F0   101A               SUB         R0,R2,R0
   \   000019F2   0860               STR         R0,[R1, #+0]
    624          }
   \   000019F4   5DB0               ADD         SP,#+372
   \   000019F6   F0BC               POP         {R4-R7}
   \   000019F8   01BC               POP         {R0}
   \   000019FA   0047               BX          R0                 ;; return
   \                     ??servo_update_auto_76:
   \   000019FC   ........           DC32        ??dE + 8
   \   00001A00   ........           DC32        servo_widths + 52
   \   00001A04   99080000           DC32        0x899
   \   00001A08   ........           DC32        last_control_mode + 124
   \   00001A0C   ........           DC32        last_control_mode + 20
   \   00001A10   ........           DC32        pcm_line + 24
   \   00001A14   ........           DC32        roll_commend
   \   00001A18   ........           DC32        pitch_commend
   \   00001A1C   ........           DC32        pcm_line + 32
   \   00001A20   ........           DC32        pcm_line + 80
   \   00001A24   ........           DC32        last_control_mode + 36
   \   00001A28   9A999999           DC32        0x9999999a
   \   00001A2C   9999D93F           DC32        0x3fd99999
   \   00001A30   ........           DC32        in_loop_roll_PID
   \   00001A34   9850C1E1           DC32        0xe1c15098
   \   00001A38   0511A13F           DC32        0x3fa11105
   \   00001A3C   ........           DC32        pcm_line + 88
   \   00001A40   ........           DC32        last_control_mode + 44
   \   00001A44   ........           DC32        in_loop_pitch_PID
   \   00001A48   ........           DC32        last_control_mode + 1
   \   00001A4C   ........           DC32        last_control_mode
   \   00001A50   ........           DC32        servo_widths + 44
   \   00001A54   ........           DC32        last_control_mode + 28
   \   00001A58   ........           DC32        servo_widths + 48
   \   00001A5C   ........           DC32        last_control_mode + 32
   \   00001A60   ........           DC32        servo_widths + 64
   \   00001A64   ........           DC32        last_control_mode + 120
   \   00001A68   EAF4FFFF           DC32        0xfffff4ea
   \   00001A6C   ........           DC32        pcm_line + 40
   \   00001A70   ........           DC32        pcm_line + 44
   \   00001A74   ........           DC32        pcm_line + 48
   \   00001A78   00007E40           DC32        0x407e0000
   \   00001A7C   00007EC0           DC32        0xc07e0000
   \   00001A80   00308140           DC32        0x40813000
   \   00001A84   003081C0           DC32        0xc0813000
   \   00001A88   00407F40           DC32        0x407f4000
   \   00001A8C   00407FC0           DC32        0xc07f4000
   \   00001A90   ........           DC32        last_control_mode + 92
   \   00001A94   ........           DC32        pcm_line + 56
   \   00001A98   ........           DC32        pcm_line + 60
   \   00001A9C   160B0000           DC32        0xb16
   \   00001AA0   ........           DC32        servo_widths + 4
   \   00001AA4   ........           DC32        servo_widths + 8
   \   00001AA8   ........           DC32        servo_widths + 24
   \   00001AAC   55060000           DC32        0x655
   \   00001AB0   570F0000           DC32        0xf57
   \   00001AB4   93060000           DC32        0x693
   \   00001AB8   ........           DC32        servo_widths + 56
   \   00001ABC   ........           DC32        servo_widths + 28
   \   00001AC0   ........           DC32        servo_widths + 16
   \   00001AC4   ........           DC32        servo_widths + 60
   \   00001AC8   ........           DC32        servo_widths + 20
   \   00001ACC   ........           DC32        servo_widths + 12
   \   00001AD0   ........           DC32        servo_widths + 32
   \   00001AD4   ........           DC32        servo_widths
   \   00001AD8   ........           DC32        servo_widths + 36
   \   00001ADC   7A830000           DC32        0x837a

   \                                 In segment DATA_I, align 4, align-sorted
   \                     last_control_mode:
   \   00000000                      DS8 1
   \   00000001                      REQUIRE `?<Initializer for last_control_mode>`
   \                     control_mode:
   \   00000001                      DS8 1
   \   00000002                      REQUIRE `?<Initializer for control_mode>`
   \                     pcm_rece_flag:
   \   00000002                      DS8 1
   \   00000003                      REQUIRE `?<Initializer for pcm_rece_flag>`
   \                     pcm_update_flag:
   \   00000003                      DS8 1
   \   00000004                      REQUIRE `?<Initializer for pcm_update_flag>`
   \                     desired_x_rate:
   \   00000004                      DS8 8
   \   0000000C                      REQUIRE `?<Initializer for desired_x_rate>`
   \                     desired_y_rate:
   \   0000000C                      DS8 8
   \   00000014                      REQUIRE `?<Initializer for desired_y_rate>`
   \                     desired_d_rate:
   \   00000014                      DS8 8
   \   0000001C                      REQUIRE `?<Initializer for desired_d_rate>`
   \                     remote_median:
   \   0000001C                      DS8 8
   \   00000024                      REQUIRE `?<Initializer for remote_median>`
   \   00000024                      DS8 8
   \   0000002C                      REQUIRE `?<Initializer for roll_angle>`
   \   0000002C                      DS8 8
   \   00000034                      REQUIRE `?<Initializer for pitch_angle>`
   \   00000034                      DS8 8
   \   0000003C                      REQUIRE `?<Initializer for yaw_angle>`
   \   0000003C                      DS8 8
   \   00000044                      REQUIRE `?<Initializer for g>`
   \   00000044                      DS8 8
   \   0000004C                      REQUIRE `?<Initializer for N>`
   \   0000004C                      DS8 8
   \   00000054                      REQUIRE `?<Initializer for dN>`
   \   00000054                      DS8 8
   \   0000005C                      REQUIRE `?<Initializer for E>`
   \                     man2auto:
   \   0000005C                      DS8 4
   \   00000060                      REQUIRE `?<Initializer for man2auto>`
   \   00000060                      DS8 4
   \   00000064                      REQUIRE `?<Initializer for remote_missing>`
   \   00000064                      DS8 4
   \   00000068                      REQUIRE `?<Initializer for stage>`
   \   00000068                      DS8 4
   \   0000006C                      REQUIRE `?<Initializer for num>`
   \   0000006C                      DS8 4
   \   00000070                      REQUIRE `?<Initializer for lidar_state>`
   \   00000070                      DS8 4
   \   00000074                      REQUIRE `?<Initializer for lidar_miss>`
   \   00000074                      DS8 4
   \   00000078                      REQUIRE `?<Initializer for num_ld>`
   \   00000078                      DS8 4
   \   0000007C                      REQUIRE `?<Initializer for coll_mid>`
   \   0000007C                      DS8 4
   \   00000080                      REQUIRE `?<Initializer for throttle>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     amplify:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for amplify>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     servoAmplify:
   \   00000000                      DS8 32
   \   00000020                      REQUIRE `?<Initializer for servoAmplify>`

   \                                 In segment DATA_Z, align 4, align-sorted
   \                     ??dE:
   \   00000000                      DS8 8
   \   00000008                      DS8 8
   \   00000010                      DS8 8
   \   00000018                      DS8 8
   \   00000020                      DS8 8
   \   00000028                      DS8 8
   \   00000030                      DS8 8
   \   00000038                      DS8 8
   \   00000040                      DS8 8
   \   00000048                      DS8 8
   \   00000050                      DS8 8
   \   00000058                      DS8 8
   \   00000060                      DS8 8
   \   00000068                      DS8 8
   \   00000070                      DS8 8

   \                                 In segment DATA_Z, align 4, align-sorted
   \                     ??d_array:
   \   00000000                      DS8 240

   \                                 In segment DATA_Z, align 4, align-sorted
   \                     ??d_array_ld:
   \   00000000                      DS8 80

   \                                 In segment DATA_I, align 4, align-sorted
   \                     pcm_line:
   \   00000000                      DS8 24
   \   00000018                      REQUIRE `?<Initializer for pcm_line>`
   \   00000018                      DS8 16
   \   00000028                      REQUIRE `?<Initializer for even_point>`
   \                     servo_widths_mid:
   \   00000028                      DS8 16
   \   00000038                      REQUIRE `?<Initializer for servo_widths_mid>`
   \                     last_pwm:
   \   00000038                      DS8 16
   \   00000048                      REQUIRE `?<Initializer for last_pwm>`
   \   00000048                      DS8 8
   \   00000050                      REQUIRE `?<Initializer for desired_next_y_velocity>`
   \   00000050                      DS8 8
   \   00000058                      REQUIRE `?<Initializer for roll_old_error>`
   \   00000058                      DS8 8
   \   00000060                      REQUIRE `?<Initializer for pitch_old_error>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     last_servo_widths_temp:
   \   00000000                      DS8 28
   \   0000001C                      REQUIRE `?<Initializer for last_servo_widths_temp>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     lim_servo_widths_temp:
   \   00000000                      DS8 28
   \   0000001C                      REQUIRE `?<Initializer for lim_servo_widths_temp>`
    625          
    626          

   \                                 In segment CODE, align 4, keep-with-next
    627          void deal_groundtoarm_date_auto(void)
    628          {
   \                     ??deal_groundtoarm_date_auto:
   \   00000000   10B5               PUSH        {R4,LR}
   \   00000002   8BB0               SUB         SP,#+44
    629            char save_line[UPLOAD_NUM],*line=NULL;//11.01 ²»Ö¸¿Õ ËÀ»ú£¿
   \   00000004   0020               MOV         R0,#+0
   \   00000006   0090               STR         R0,[SP, #+0]
    630            strncpy( save_line, groundtoarm,UPLOAD_NUM );
   \   00000008   2822               MOV         R2,#+40
   \   0000000A   3A49               LDR         R1,??deal_groundtoarm_date_auto_1  ;; groundtoarm
   \   0000000C   01A8               ADD         R0,SP,#+4
   \   0000000E   ........           _BLF        strncpy,??strncpy??rT
    631            line=save_line;
    632            line++;// skip ,
   \   00000012   01A8               ADD         R0,SP,#+4
   \   00000014   401C               ADD         R0,R0,#+1
   \   00000016   0090               STR         R0,[SP, #+0]
    633            /*----PD kp KD-----------------------------roll----------------------*/ 
    634            in_loop_roll_PID[0]=strtod(line,&line);
   \   00000018   ....               LDR         R4,??DataTable0    ;; in_loop_roll_PID
   \   0000001A   0022               MOV         R2,#+0
   \   0000001C   6946               MOV         R1,SP
   \   0000001E   01A8               ADD         R0,SP,#+4
   \   00000020   401C               ADD         R0,R0,#+1
   \   00000022   ........           _BLF        _Stod,??_Stod??rT
   \   00000026   03C4               STMIA       R4!,{R0,R1}
   \   00000028   083C               SUB         R4,#+8
    635            line++;// skip ,
   \   0000002A   0098               LDR         R0,[SP, #+0]
   \   0000002C   401C               ADD         R0,R0,#+1
   \   0000002E   0090               STR         R0,[SP, #+0]
    636            in_loop_roll_PID[2]=strtod(line,&line);
   \   00000030   0022               MOV         R2,#+0
   \   00000032   6946               MOV         R1,SP
   \   00000034   ........           _BLF        _Stod,??_Stod??rT
   \   00000038   1034               ADD         R4,#+16
   \   0000003A   03C4               STMIA       R4!,{R0,R1}
    637            line++;// skip ,
   \   0000003C   0098               LDR         R0,[SP, #+0]
   \   0000003E   401C               ADD         R0,R0,#+1
   \   00000040   0090               STR         R0,[SP, #+0]
    638            /*----PD kp KD-------------------------pitch-----------------*/ 
    639            in_loop_pitch_PID[0]=-strtod(line,&line);
   \   00000042   ....               LDR         R4,??DataTable1    ;; in_loop_pitch_PID
   \   00000044   0022               MOV         R2,#+0
   \   00000046   6946               MOV         R1,SP
   \   00000048   ........           _BLF        _Stod,??_Stod??rT
   \   0000004C   8022               MOV         R2,#+128
   \   0000004E   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   00000050   5140               EOR         R1,R2
   \   00000052   03C4               STMIA       R4!,{R0,R1}
   \   00000054   083C               SUB         R4,#+8
    640            line++;// skip ,
   \   00000056   0098               LDR         R0,[SP, #+0]
   \   00000058   401C               ADD         R0,R0,#+1
   \   0000005A   0090               STR         R0,[SP, #+0]
    641            in_loop_pitch_PID[2]=-strtod(line,&line);
   \   0000005C   0022               MOV         R2,#+0
   \   0000005E   6946               MOV         R1,SP
   \   00000060   ........           _BLF        _Stod,??_Stod??rT
   \   00000064   8022               MOV         R2,#+128
   \   00000066   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   00000068   5140               EOR         R1,R2
   \   0000006A   1034               ADD         R4,#+16
   \   0000006C   03C4               STMIA       R4!,{R0,R1}
    642            line++;// skip ,
   \   0000006E   0098               LDR         R0,[SP, #+0]
   \   00000070   401C               ADD         R0,R0,#+1
   \   00000072   0090               STR         R0,[SP, #+0]
    643            out_loop_X_PID[0]=strtod(line,&line);
   \   00000074   ....               LDR         R4,??DataTable2    ;; out_loop_X_PID
   \   00000076   0022               MOV         R2,#+0
   \   00000078   6946               MOV         R1,SP
   \   0000007A   ........           _BLF        _Stod,??_Stod??rT
   \   0000007E   03C4               STMIA       R4!,{R0,R1}
   \   00000080   083C               SUB         R4,#+8
    644            line++;// skip ,
   \   00000082   0098               LDR         R0,[SP, #+0]
   \   00000084   401C               ADD         R0,R0,#+1
   \   00000086   0090               STR         R0,[SP, #+0]
    645            out_loop_X_PID[2]=strtod(line,&line);
   \   00000088   0022               MOV         R2,#+0
   \   0000008A   6946               MOV         R1,SP
   \   0000008C   ........           _BLF        _Stod,??_Stod??rT
   \   00000090   1034               ADD         R4,#+16
   \   00000092   03C4               STMIA       R4!,{R0,R1}
    646            line++;// skip ,
   \   00000094   0098               LDR         R0,[SP, #+0]
   \   00000096   401C               ADD         R0,R0,#+1
   \   00000098   0090               STR         R0,[SP, #+0]
    647            out_loop_Y_PID[0]=strtod(line,&line);
   \   0000009A   ....               LDR         R4,??DataTable3    ;; out_loop_Y_PID
   \   0000009C   0022               MOV         R2,#+0
   \   0000009E   6946               MOV         R1,SP
   \   000000A0   ........           _BLF        _Stod,??_Stod??rT
   \   000000A4   03C4               STMIA       R4!,{R0,R1}
   \   000000A6   083C               SUB         R4,#+8
    648            line++;// skip ,
   \   000000A8   0098               LDR         R0,[SP, #+0]
   \   000000AA   401C               ADD         R0,R0,#+1
   \   000000AC   0090               STR         R0,[SP, #+0]
    649            out_loop_Y_PID[2]=strtod(line,&line);
   \   000000AE   0022               MOV         R2,#+0
   \   000000B0   6946               MOV         R1,SP
   \   000000B2   ........           _BLF        _Stod,??_Stod??rT
   \   000000B6   1034               ADD         R4,#+16
   \   000000B8   03C4               STMIA       R4!,{R0,R1}
    650            line++;// skip ,
   \   000000BA   0098               LDR         R0,[SP, #+0]
   \   000000BC   401C               ADD         R0,R0,#+1
   \   000000BE   0090               STR         R0,[SP, #+0]
    651            out_loop_D_PID[0]=-strtod(line,&line);
   \   000000C0   ....               LDR         R4,??DataTable4    ;; out_loop_D_PID
   \   000000C2   0022               MOV         R2,#+0
   \   000000C4   6946               MOV         R1,SP
   \   000000C6   ........           _BLF        _Stod,??_Stod??rT
   \   000000CA   8022               MOV         R2,#+128
   \   000000CC   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   000000CE   5140               EOR         R1,R2
   \   000000D0   03C4               STMIA       R4!,{R0,R1}
   \   000000D2   083C               SUB         R4,#+8
    652            line++;// skip ,
   \   000000D4   0098               LDR         R0,[SP, #+0]
   \   000000D6   401C               ADD         R0,R0,#+1
   \   000000D8   0090               STR         R0,[SP, #+0]
    653            out_loop_D_PID[2]=-strtod(line,&line);
   \   000000DA   0022               MOV         R2,#+0
   \   000000DC   6946               MOV         R1,SP
   \   000000DE   ........           _BLF        _Stod,??_Stod??rT
   \   000000E2   8022               MOV         R2,#+128
   \   000000E4   1206               LSL         R2,R2,#+24         ;; #-2147483648
   \   000000E6   5140               EOR         R1,R2
   \   000000E8   1034               ADD         R4,#+16
   \   000000EA   03C4               STMIA       R4!,{R0,R1}
    654          }
   \   000000EC   0BB0               ADD         SP,#+44
   \   000000EE   10BC               POP         {R4}
   \   000000F0   01BC               POP         {R0}
   \   000000F2   0047               BX          R0                 ;; return
   \                     ??deal_groundtoarm_date_auto_1:
   \   000000F4   ........           DC32        groundtoarm

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   ........           DC32        in_loop_roll_PID

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   ........           DC32        in_loop_pitch_PID

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   ........           DC32        out_loop_X_PID

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   ........           DC32        out_loop_Y_PID

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable4:
   \   00000000   ........           DC32        out_loop_D_PID

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for servo_widths>`:
   \   00000000   DF040000730B       DC32 1247, 2931, 2898, 2823, 2872, 2805, 2938, 2805, 2805, 9973
   \              0000520B0000
   \              070B0000380B
   \              0000F50A0000
   \              7A0B0000F50A
   \              0000F50A0000
   \              F5260000    
   \                     `?<Initializer for servo_widths_temp>`:
   \   00000028   DF040000730B       DC32 1247, 2931, 2898, 2823, 2872, 2805, 2938, 2805, 2805, 9973
   \              0000520B0000
   \              070B0000380B
   \              0000F50A0000
   \              7A0B0000F50A
   \              0000F50A0000
   \              F5260000    

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for pwm_roll_mid>`:
   \   00000000   5E0B0000           DC32 2910

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for pwm_pitch_mid>`:
   \   00000000   81070000           DC32 1921

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for temp_pwm_coll_mid>`:
   \   00000000   55050000           DC32 1365

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for last_control_mode>`:
   \   00000000   00                 DC8 0
   \                     `?<Initializer for control_mode>`:
   \   00000001   00                 DC8 0
   \                     `?<Initializer for pcm_rece_flag>`:
   \   00000002   00                 DC8 0
   \                     `?<Initializer for pcm_update_flag>`:
   \   00000003   00                 DC8 0
   \                     `?<Initializer for desired_x_rate>`:
   \   00000004   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for desired_y_rate>`:
   \   0000000C   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for desired_d_rate>`:
   \   00000014   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for remote_median>`:
   \   0000001C   170B0000170B       DC32 2839, 2839
   \              0000        
   \                     `?<Initializer for roll_angle>`:
   \   00000024   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for pitch_angle>`:
   \   0000002C   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for yaw_angle>`:
   \   00000034   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for g>`:
   \   0000003C   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for N>`:
   \   00000044   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for dN>`:
   \   0000004C   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for E>`:
   \   00000054   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for man2auto>`:
   \   0000005C   64000000           DC32 100
   \                     `?<Initializer for remote_missing>`:
   \   00000060   00000000           DC32 0
   \                     `?<Initializer for stage>`:
   \   00000064   00000000           DC32 0
   \                     `?<Initializer for num>`:
   \   00000068   00000000           DC32 0
   \                     `?<Initializer for lidar_state>`:
   \   0000006C   00000000           DC32 0
   \                     `?<Initializer for lidar_miss>`:
   \   00000070   00000000           DC32 0
   \                     `?<Initializer for num_ld>`:
   \   00000074   00000000           DC32 0
   \                     `?<Initializer for coll_mid>`:
   \   00000078   710C0000           DC32 3185
   \                     `?<Initializer for throttle>`:
   \   0000007C   98080000           DC32 2200

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for amplify>`:
   \   00000000   3C000000           DC32 60

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for servoAmplify>`:
   \   00000000   14AE47E17AF8       DC32 0E147AE14H, 408CF87AH, 0F5C28F5CH, 408DDC28H, 0H, 0H, 0H
   \              8C405C8FC2F5
   \              28DC8D400000
   \              000000000000
   \              00000000    
   \   0000001C   00406B40           DC32 406B4000H

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for pcm_line>`:
   \   00000000   00                 DC8 ""
   \   00000001   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000000000  
   \                     `?<Initializer for even_point>`:
   \   00000018   000000000000       DC32 0H, 0H, 0H, 0H
   \              000000000000
   \              00000000    
   \                     `?<Initializer for servo_widths_mid>`:
   \   00000028   00000000           DC32 0
   \   0000002C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \                     `?<Initializer for last_pwm>`:
   \   00000038   CA080000CA08       DC32 2250, 2250, 2250, 2250
   \              0000CA080000
   \              CA080000    
   \                     `?<Initializer for desired_next_y_velocity>`:
   \   00000048   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for roll_old_error>`:
   \   00000050   000000000000       DC32 0H, 0H
   \              0000        
   \                     `?<Initializer for pitch_old_error>`:
   \   00000058   000000000000       DC32 0H, 0H
   \              0000        

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for last_servo_widths_temp>`:
   \   00000000   DF040000730B       DC32 1247, 2931, 2898, 2823, 2872, 2805, 2938
   \              0000520B0000
   \              070B0000380B
   \              0000F50A0000
   \              7A0B0000    

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for lim_servo_widths_temp>`:
   \   00000000   DF040000730B       DC32 1247, 2931, 2898, 2823, 2872, 2805, 2938
   \              0000520B0000
   \              070B0000380B
   \              0000F50A0000
   \              7A0B0000    

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   00000000           DC32 0
   \   00000004   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000014   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   000000000000       DC32 0H, 0H
   \              0000        
   \   00000008   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000018   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0
   \              0000        

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   00000000           DC32 0
   \   00000004   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000014   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
    655          
    656          
    657          //void servo_update(void)
    658          //{
    659          //    unsigned char * pcmline=NULL;
    660          //    long int pcm_temp[9]={0};
    661          //    int ppm_temp[9]={0};//11.01
    662          //    unsigned int decode_flag=0;
    663          //    double widths_temp;
    664          //	int outputWidths[3] = {0};
    665          //	int inputpwmMid[3]  = {0};
    666          //	int outputpwmMid[3] = {0};
    667          //	double temp[4]={0.0};   
    668          //    man2auto++;
    669          //    if (man2auto > 10000)
    670          //          man2auto = 100; 
    671          ////---------------------------ÏÞ·ù-------------------------------------------------------//
    672          ///*
    673          //       auto_servo_widths[0] = limit_int(auto_servo_widths[0],1683,3927);//1350 is 0.9ms
    674          //       auto_servo_widths[1] = limit_int(auto_servo_widths[1],1683,3927);//3150 is 2.1ms
    675          //       auto_servo_widths[2] = limit_int(auto_servo_widths[2],1683,3927);
    676          //       auto_servo_widths[3] = limit_int(auto_servo_widths[3],1683,3927); 
    677          //*/             
    678          //     if(pcm_rece_flag == 1)
    679          //    {
    680          //     	pcm_rece_flag=0;
    681          //        pcm_update_flag = 1;
    682          //              
    683          //        if ( (AVR_PCM[0] != '$') || (AVR_PCM[1] != '$') || AVR_PCM[PCM_NUM-2] != '\r' || AVR_PCM[PCM_NUM-1] != '\n')
    684          //       {
    685          //        	pcm_update_flag = 3;
    686          //       }
    687          //        else
    688          //       {
    689          //		uncharcpy(pcm_line, AVR_PCM+2,24 );
    690          // 	}
    691          //    } 
    692          //
    693          //	 pcmline=pcm_line;
    694          //	 
    695          //     	for(char i=1;i<9;i++)
    696          //       {
    697          //        	pcm_temp[i]=strntol((char*)pcmline,3,(char**)&pcmline,16);
    698          //            	if(pcm_temp[i]==0)
    699          //               {
    700          //                	decode_flag++;
    701          //               }
    702          //            ppm_temp[i] = (int)(0.8304* pcm_temp[i]-385.2857);
    703          //       }
    704          //        
    705          //	    if(pcm_temp[7] < 0x400)//ÊÖ×Ô¿ØÖµ¶þÖµ»¯
    706          //        	ppm_temp[7] = 0x028;
    707          //        else
    708          //            ppm_temp[7] = 0x3D8;
    709          //        if(pcm_temp[8] < 0x400)//ºãËÙÆ÷¿ª¹Ø¶þÖµ»¯
    710          //            ppm_temp[8] = 0x028;
    711          //        else
    712          //            ppm_temp[8] = 0x3D8;
    713          //                
    714          //        if( decode_flag == 0 )
    715          //       {
    716          //        	int pwm_sum=0;
    717          //			
    718          //            for(char i=1;i<9;i++)
    719          //           {
    720          //            	servo_widths_temp[i]=( int)((ppm_temp[i]*1.1718+920)*3/2);
    721          //                servo_widths_temp[i]=servo_widths_temp[i]*91/73;
    722          //                pwm_sum+=servo_widths_temp[i];
    723          //           }
    724          //	   
    725          // 		   
    726          //           servo_widths_temp[9]=srevo_period-servo_widths_temp[0]-pwm_sum;  //keep 18ms period
    727          //
    728          ////--------------------------------ÏÞÖÆÊÖ¿ØÖµÌø±äsyc------------------------------------//
    729          //			for(char i=1;i<7;i++)
    730          //	   	   { 
    731          //				widths_temp=last_servo_widths_temp[i]-servo_widths_temp[i];
    732          //			
    733          //				if(widths_temp < -1400 || widths_temp > 1400)
    734          //		       {
    735          //					lim_servo_widths_temp[i] = last_servo_widths_temp[i];
    736          //					if(i!=5)
    737          //						pcm_update_flag = 3;
    738          //		       }
    739          //				else
    740          //		   	   {
    741          //					lim_servo_widths_temp[i] = servo_widths_temp[i];
    742          //		       } 
    743          //					last_servo_widths_temp[i] = lim_servo_widths_temp[i];
    744          //		    }		
    745          ////-------------------------------ÊÖ×Ô¿ØÎ»¼ì²â--------------------------------------------//
    746          //         	last_control_mode=control_mode;
    747          //         	if(servo_widths_temp[7]<1877)
    748          //		        control_mode=1; //0x028 is mode 1 0x200 is mode 2
    749          //            if(servo_widths_temp[7]>3649)
    750          //		        control_mode=3;  //0x3d8 is mode 3;		
    751          ////------------------------------×Ô¿ØPWMÇÐ»»»º³å---------------------------------------//
    752          //          	if (control_mode==3 && last_control_mode==1)
    753          //          		man2auto = 0;
    754          //          	if (man2auto == 0)
    755          //           {
    756          //          	last_pwm[0] = servo_widths_temp[1];		//roll
    757          //            	last_pwm[1] = servo_widths_temp[2];		//pitch
    758          //            	last_pwm[2] = servo_widths_temp[4];		//yaw
    759          //            	last_pwm[3] = servo_widths_temp[6];		//coll
    760          //           }
    761          //          	if(man2auto < 20 )
    762          //           {
    763          //          		if (auto_servo_widths[0] > last_pwm[0])//roll
    764          //            		auto_servo_widths[0] = last_pwm[0] + (auto_servo_widths[0] - last_pwm[0]) / 20 ;
    765          //            	else 
    766          //                	auto_servo_widths[0] = last_pwm[0] - (last_pwm[0] - auto_servo_widths[0]) / 20 ;
    767          //                	last_pwm[0] = auto_servo_widths[0];
    768          //                    
    769          //            	if (auto_servo_widths[1] > last_pwm[1])//pitch
    770          //             		auto_servo_widths[1] = last_pwm[1] + (auto_servo_widths[1] - last_pwm[1]) / 20;
    771          //            	else 
    772          //                	auto_servo_widths[1] = last_pwm[1] - ( last_pwm[1] - auto_servo_widths[1]) / 20 ;
    773          //                	last_pwm[1] = auto_servo_widths[1];
    774          //                
    775          //            	if (auto_servo_widths[2] >  last_pwm[2])//yaw
    776          //                	auto_servo_widths[2] =  last_pwm[2] + (auto_servo_widths[2] - last_pwm[2]) / 20 ;
    777          //            	else 
    778          //                	auto_servo_widths[2] = last_pwm[2] - (  last_pwm[2] - auto_servo_widths[2]) / 20 ;
    779          //                	last_pwm[2] = auto_servo_widths[2];
    780          //                
    781          //            	if (auto_servo_widths[3] > last_pwm[3])//coll
    782          //                	auto_servo_widths[3] = last_pwm[3] + (auto_servo_widths[3] - last_pwm[3]) / 20 ;
    783          //            	else 
    784          //                	auto_servo_widths[3] =last_pwm[3] - ( last_pwm[3] - auto_servo_widths[3]) / 20 ;
    785          //                	last_pwm[3] = auto_servo_widths[3];
    786          //           }
    787          //       }//end of decode_flag == 0
    788          //	else 
    789          //         {
    790          //                  pcm_update_flag=2;
    791          //         }     
    792          //                    
    793          //            decode_flag=0;
    794          //	   
    795          ////------------------------×Ô¿ØÁ¿--------------------------------------------//	   
    796          //	   
    797          //    	temp[0] = limit(outputs[1]*servoAmplify[0],-561,561);	//LQR roll
    798          //    	temp[1] = limit(outputs[2]*servoAmplify[1],-748,748);	//LQR pitch
    799          //    	temp[2] = limit(outputs[3]*amplify*C_RAD2DEG,-1122,1122);//yaw
    800          //    	temp[3] = limit(outputs[0]*servoAmplify[3],-561,561);//coll    
    801          //		
    802          ////------------------------3Í¨µÀÊÖ¿ØÖµ½âñî-----------------------------------//
    803          //		
    804          //		inputpwmMid[0] = servo_widths_temp[6];//pitch
    805          //		inputpwmMid[1] = servo_widths_temp[1];//roll
    806          //		inputpwmMid[2] = servo_widths_temp[2];//coll
    807          //		
    808          //		DecoupingMatrix(outputpwmMid, inputpwmMid);
    809          //		
    810          //		manual_servo_widths[0] = outputpwmMid[1];//roll 
    811          //		manual_servo_widths[1] = outputpwmMid[2];//coll  
    812          //		manual_servo_widths[2] = outputpwmMid[0];//pitch 
    813          //	   
    814          ////--------------------------3Í¨µÀ×Ô¿ØÖµ¼Óñî----------------------------------------------//
    815          ////pitch	   
    816          //	if(auto_pitch_control_mode == '1' && control_mode == 3)//pitchµ¥Í¨µÀ×Ô¿Ø
    817          //        {
    818          //            auto_servo_widths_mid[0] = pwm_pitch_mid + (int)temp[1];
    819          //        }
    820          //        else
    821          //        {
    822          //            auto_servo_widths_mid[0] = manual_servo_widths[2];
    823          //        }
    824          //
    825          //	    //auto_servo_widths_mid[0] = manual_servo_widths[2];
    826          //	    //auto_servo_widths_mid[0] = manual_servo_widths[2] + (int)temp[1];
    827          //	    //auto_servo_widths_mid[0] = pwm_pitch_mid + (int)temp[1];
    828          ////roll
    829          //	if(auto_roll_control_mode == '1' && control_mode == 3)//rollµ¥Í¨µÀ×Ô¿Ø
    830          //        {
    831          //            auto_servo_widths_mid[1] = pwm_roll_mid + (int)temp[0];
    832          //        }
    833          //        else
    834          //        {
    835          //            auto_servo_widths_mid[1] = manual_servo_widths[0];
    836          //        }
    837          //
    838          //		//auto_servo_widths_mid[1] = manual_servo_widths[0];	   
    839          //	    //auto_servo_widths_mid[1] = manual_servo_widths[0] + (int)temp[0];
    840          //		//auto_servo_widths_mid[1] = pwm_roll_mid + (int)temp[0];
    841          ////coll
    842          //	if(auto_coll_control_mode == '1' && control_mode == 3)//collµ¥Í¨µÀ×Ô¿Ø
    843          //        {
    844          //            auto_servo_widths_mid[2] = pwm_coll_mid + (int)temp[3];
    845          //        }
    846          //        else
    847          //        {
    848          //            auto_servo_widths_mid[2] = manual_servo_widths[1];
    849          //        }
    850          //
    851          //	    //auto_servo_widths_mid[2] = manual_servo_widths[1];
    852          //		//auto_servo_widths_mid[2] = manual_servo_widths[1] + (int)temp[3];
    853          //		//auto_servo_widths_mid[2] = pwm_coll_mid + (int)temp[3];
    854          ////yaw
    855          //
    856          //		auto_servo_widths_mid[3] = pwm_yaw_mid + (int)temp[2];
    857          //		
    858          //		CoupingMatrix(outputWidths, auto_servo_widths_mid);
    859          //	   
    860          //	    auto_servo_widths[0] = outputWidths[1];//roll
    861          //	    auto_servo_widths[1] = outputWidths[2];//coll
    862          //	    auto_servo_widths[2] = pwm_yaw_mid + (int)temp[2];
    863          //	    auto_servo_widths[3] = outputWidths[0];//pitch   
    864          //
    865          ////---------ÊÖ¿Ø×Ô¿ØÖµÑ¡ÔñÊä³ö£¨Ê®×ÖÅÌÓÉH-1±ä³ÉHR3 collºÍpitch»¥»»Î»ÖÃ--------------//
    866          ///*
    867          ////roll
    868          //          if(auto_roll_control_mode == '1' && control_mode == 3)
    869          //          	servo_widths[1] = auto_servo_widths[0];
    870          //          else servo_widths[1]=limit(lim_servo_widths_temp[1],2119,3865);
    871          ////coll
    872          //          if(auto_pitch_control_mode == '1' && control_mode == 3)
    873          //          	servo_widths[2] = auto_servo_widths[1] ;
    874          //          else servo_widths[2] = limit(lim_servo_widths_temp[2],2244,3865);
    875          ////yaw
    876          //          if(auto_yaw_control_mode == '1' && control_mode == 3)  
    877          //          	servo_widths[4] = auto_servo_widths[2] ;
    878          //          else servo_widths[4] = limit(lim_servo_widths_temp[4],2119,3865);
    879          ////pitch
    880          //          if(auto_coll_control_mode=='1'&&control_mode==3)
    881          //          	servo_widths[6] = auto_servo_widths[3] ;
    882          //          else servo_widths[6]=limit(lim_servo_widths_temp[6],2119,3865);
    883          //*/
    884          //  	if(control_mode == 3)
    885          //	{	
    886          //		servo_widths[1] = limit_int(auto_servo_widths[0],1683,3927);
    887          //		servo_widths[2] = limit_int(auto_servo_widths[1],1683,3927);
    888          //		servo_widths[4] = limit_int(auto_servo_widths[2],1683,3927);
    889          //		servo_widths[6] = limit_int(auto_servo_widths[3],1683,3927);
    890          //	}
    891          //	else
    892          //	{
    893          //		servo_widths[1] = limit(lim_servo_widths_temp[1],1621,3865);
    894          //		servo_widths[2] = limit(lim_servo_widths_temp[2],1621,3865);
    895          //		servo_widths[4] = limit(lim_servo_widths_temp[4],1621,3865);
    896          //		servo_widths[6] = limit(lim_servo_widths_temp[6],1621,3865);	
    897          //	}
    898          //		  
    899          ////throttle
    900          //		servo_widths[3] = limit(lim_servo_widths_temp[3],1621,3865);
    901          ////lock tail
    902          //		servo_widths[5] = limit(servo_widths_temp[5],1621,3865);
    903          //                servo_widths[7] = limit(servo_widths_temp[7],1621,3865);
    904          //                servo_widths[8] = limit(servo_widths_temp[8],1621,3865);
    905          //                servo_widths[9] = limit(servo_widths_temp[9],2244,3865);
    906          //}
    907          
    908          
    909          
    910          //void deal_groundtoarm_date(void)
    911          //{
    912          //  char save_line[UPLOAD_NUM],*line=NULL;//11.01 ²»Ö¸¿Õ ËÀ»ú£¿
    913          //  strncpy( save_line, groundtoarm,UPLOAD_NUM );
    914          //  line=save_line;
    915          //  if(line[0]!='$'||line[UPLOAD_NUM-1]!='\n')
    916          //  {
    917          //    receive_index = false;
    918          //     AT91F_US_DisableIt(COM0,AT91C_US_RXBUFF  );
    919          //
    920          //     COM0->US_RCR = 0; 
    921          //     AT91F_US_EnableIt(COM0,AT91C_US_RXBUFF  );   
    922          //    return;
    923          //  }
    924          //
    925          //  
    926          //   if (!strncmp(line,"$TARG",5))
    927          //  {
    928          //     target_receive_flag = true;
    929          //     receive_index=true;
    930          //     line=line+6;// skip $PARA  target ÊÇÒ»¸öÏà¶ÔÓÚ³õÊ¼ÐüÍ£µãµÄÎ»ÖÃ
    931          //     target_command.get_command(line);
    932          //  }
    933          //
    934          //  if (!strncmp(line,"$PARA",5))
    935          //  {
    936          //   receive_index=true;
    937          //     line=line+6;// skip $PARA,
    938          //  
    939          //  auto_roll_control_mode=line[0];
    940          //  line++;
    941          //  auto_pitch_control_mode=line[0];
    942          //  line++;
    943          //  auto_yaw_control_mode=line[0];
    944          //  line++;
    945          //  auto_coll_control_mode=line[0];
    946          //  line++;
    947          //  line++;
    948          //  
    949          //  amplify = strntol(line,2,&line,10);
    950          //  //radius=strntol(line,2,&line,10);//·ÉÔ²ÓÃ
    951          //  line++;
    952          //  
    953          //  //PID middle
    954          //  pwm_roll_mid=strntol(line,3,&line,16);
    955          //  pwm_pitch_mid=strntol(line,3,&line,16);
    956          //  pwm_yaw_mid=strntol(line,3,&line,16);
    957          //  //pwm_coll_mid=strntol(line,3,&line,16);
    958          //  line+=3;//syc 4.16  ²»×Ô¼ºÈ·¶¨collÏî»ùÖµ Ìø¹ý
    959          //  line++;
    960          //  
    961          //  /*----PID X kp ki KD-----------------------------X"-"-------------------------*/                                  
    962          //  out_loop_X_PID[0]=-strtod(line,&line);
    963          //  line++;
    964          //  out_loop_X_PID[1]=-strtod(line,&line);
    965          //  line++;
    966          //  out_loop_X_PID[2]=-strtod(line,&line);
    967          //  
    968          //  /*----PID Y kp ki KD-----------------------------Y--------------------------*/ 
    969          //  line++;
    970          //  out_loop_Y_PID[0]=strtod(line,&line);
    971          //  line++;
    972          //  out_loop_Y_PID[1]=strtod(line,&line);
    973          //  line++;
    974          //  out_loop_Y_PID[2]=strtod(line,&line);
    975          //  //--------------------------------------syc
    976          //  /*----PID X kp ki KD-----------------------------D--------------------------*/ 
    977          //  line++;
    978          //  out_loop_D_PID[0]=-strtod(line,&line);
    979          //  line++;
    980          //  out_loop_D_PID[1]=-strtod(line,&line);
    981          //  line++;
    982          //  out_loop_D_PID[2]=-strtod(line,&line);
    983          //  
    984          //  /*----PID X kp ki KD-----------------------------pitch----------------------*/ 
    985          //  line++;
    986          //  LQR_pitchGain[0]=strtod(line,&line);
    987          //  line++;
    988          //  LQR_pitchGain[1]=strtod(line,&line);
    989          //  line++;
    990          //  LQR_pitchGain[2]=strtod(line,&line);
    991          //  
    992          //  /*----PID Y kp ki KD-----------------------------roll"-"-----------------*/ 
    993          //  line++;
    994          //  LQR_rollGain[0]=strtod(line,&line);
    995          //  line++;
    996          //  LQR_rollGain[1]=strtod(line,&line);
    997          //  line++;
    998          //  LQR_rollGain[2]=strtod(line,&line);
    999          //  
   1000          //  /*----PID YAW kp ki KD-----------------------------yaw"-"-------------------------*/ 
   1001          //  line++;
   1002          //  in_loop_yaw_PID[0]=-strtod(line,&line);
   1003          //  line++;
   1004          //  in_loop_yaw_PID[1]=-strtod(line,&line);
   1005          //  line++;
   1006          //  in_loop_yaw_PID[2]=-strtod(line,&line);
   1007          //  line++;
   1008          //  double temp = strtod(line,&line);
   1009          //   
   1010          //  temp=(-1)*(temp-5);
   1011          //
   1012          //  //if(radius>=10)
   1013          //  //{
   1014          //    
   1015          //  //    radius=(-1)*(radius-10);
   1016          //  //}
   1017          //  trajectory.com_theta[0]=temp*C_DEG2RAD;
   1018          //  trajectory.com_theta[1]=temp*C_DEG2RAD;
   1019          //  //if(trajectory.heli_step == 1)
   1020          //  //trajectory.yaw_com_theta=-radius;
   1021          //  //init_velocity_on_circle = (temp >=5.0? 5.0:temp);
   1022          //  //trajectory.top_speed[0]= (temp >=10.0? 10.0:temp);
   1023          //  }
   1024          //}
   1025          //
   1026          //

   Maximum stack usage in bytes:

     Function                     CSTACK
     --------                     ------
     deal_groundtoarm_date_auto()    52
     init_translator()                0
     servo_update_auto()            432


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     pwm_yaw_mid                       4
     pwm_coll_mid                      4
     manual_servo_widths              12
     target_receive_flag               1
     receive_index                     1
     servo_widths                     80
     pwm_roll_mid                      4
     pwm_pitch_mid                     4
     temp_pwm_coll_mid                 4
     auto_roll_control_mode            1
     auto_pitch_control_mode           1
     auto_yaw_control_mode             1
     auto_coll_control_mode            1
     init_translator()                88
     servo_update_auto()            6880
     last_control_mode               128
     amplify                           4
     servoAmplify                     32
     dE                              120
     d_array                         240
     d_array_ld                       80
     pcm_line                         96
     last_servo_widths_temp           28
     lim_servo_widths_temp            28
     deal_groundtoarm_date_auto()    248
     ??DataTable0                      4
     ??DataTable1                      4
     ??DataTable2                      4
     ??DataTable3                      4
     ??DataTable4                      4
     ?<Initializer for servo_widths>
                                      80
     ?<Initializer for pwm_roll_mid>
                                       4
     ?<Initializer for pwm_pitch_mid>
                                       4
     ?<Initializer for temp_pwm_coll_mid>
                                       4
     ?<Initializer for last_control_mode>
                                     128
     ?<Initializer for amplify>        4
     ?<Initializer for servoAmplify>
                                      32
     ?<Initializer for pcm_line>      96
     ?<Initializer for last_servo_widths_temp>
                                      28
     ?<Initializer for lim_servo_widths_temp>
                                      28
     ?<Constant {0}>                  36
     ?<Constant {(0.0)}>              32
     ?<Constant {0L}>                 36
      Others                         264

 
 7 476 bytes in segment CODE
   104 bytes in segment DATA_C
   408 bytes in segment DATA_I
   408 bytes in segment DATA_ID
   466 bytes in segment DATA_Z
    24 bytes in segment INITTAB
 
 7 236 bytes of CODE  memory (+ 264 bytes shared)
   512 bytes of CONST memory
   874 bytes of DATA  memory

Errors: none
Warnings: none
