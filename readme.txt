10.09.27
在规划程序trjectory.c中的路径规划函数里面的加速和减速程序里面各增加了一条语句
com_position[0]=-how_long[0];
实现位移的实时跟踪控制
10.10.28
在mat.c中的compass_heading( THETAm, compass )函数中修改COMPAS计算得到的航向角，这与芯片的安装位置有关。
10.10.28
在地面站程序中取消利用GPS星数和模式来判断GPS出错，引用状态标志位gps_update_flag来判断GPS信息是否中断。
10.10.28
在文件imu.c中增加对角速度的滑动窗口滤波,定义局部静态变量lengh_pqr,以区别该文件中另一局部静态变量lengh，
10.10.28
在文件ahrs.c中增加变量raw_ahrs_theta[3],以获得滤波前的角度信息，
11.1.18
此工程作为上位机使用。在其中增加了整合查分GPS部分，并对接受的每帧32个字符的PCM-DGPS信息重新做了排序处理。

syc

2011.10.10加入申文斌师兄的11阶kalman滤波函数：注意函数的输入输出值的处理，输入值要用ahrs_accel(均值滤波后的值)；

2011.10.10 compass_heading函数改――张铖；(为了改善航向角的跳变，但是没有效果)
2011.10.11 11阶kalman滤波用激光的q r pk阵（效果待定）；主频改到18hz才能用？？？
2011.10.11  把得到uvw的函数中用到的航向改成imu得到的航向：不用gps得到的航向（gps的航向不准）。

2011.10.21 加入新compass，用定时器T0来读取imu、compass、bmp，。注意标志位HDG。
2011.10.21 提高主频:60Mhz
2011.10.23 新的compass和加入气压计 省掉10ms延时。
2011.10.24 gps 调试 提高中断优先级。
2011.10.25 去掉gps差分部分 读取基站的遥控器信息格式为28字符$$/r/n.
2011 10.30 去掉compass spi读取的全部内容。
2011 10 31 该pcm.c中 pwm值的产生 主频提高后跳舵
2011.11.01 死机 ：注意数据类型的强制转换，指针初始时有没有指向空。

2011.11.08 气压计在定时器里面的动态变量赋值 类型错误导致死机
2011.11.08 气压计死循环在读写while (!(status & AT91C_TWI_TXRDY_MASTER))语句里面 在里面加入跳出语句 注意跳出计数数值大小。
2011.11.14 kalman
           用上一次预测四元素得到欧拉角时 注意用带象限的反三角函数atan2；
           fxu中去掉归一化Norm();
           h = obs - hx(Xhatkk_1) 要对航向角h【2】做象限转换;
           不对航向角平均值滤波;
2011.11.21 改pcm中手自控量为int型 放大系数amplify的值设为60；
2011.11.23 IMU 出现0出错
           改读取imu的定时器时间间隔
2011.11.24 kalman 11阶位置信息滤波 改观测值ahrs_theta\current_xyz和current_uvw为raw_ahrs_theta\raw_current_xyz和raw_current_uvw
          （注意程序其他用到current_xyz\current_uvw且需要变为raw_current_xyz和raw_current_uvw的地方）――因为gps刷新频率为5HZ而主程序频率为30HZ
    
           在kalman处： h = obs - hx(Xhatkk_1) 要对航向角h【2】做象限转换――注意加判断在是姿态角时才这样做。
2011.11.25 kalman滤波前后gps数据变量名改变后 在gps信号丢失时的数据处理？
           z向速度用气压计的高度差得到 弃用gps2uvw中的z向速度 
           调kalman位置信息参数 需要提高下传gps信息的数据精度     


2012.1.12 改pid运算内环角速度pqr项限幅值为30度每秒
           加入com_theta[3]作为内环阶跃响应给定值用
              ned到机体的转换矩阵换为标准矩阵
              去掉程序里的pqr accel【3】角速度和角加速度的滑动窗口滤波 为了加快自控时的响应速度
              高度项 用气压计得到 且做均值滤波 高度项速度 直接由高度差得到 有均值滤波
              遥控器和gps接受串口的波特率全部改为19200  
2012 2.28  gps的航向角（角度值转弧度） 水平速度 来计算飞机ned 机体下的速度 
           减少下传的数据量 防止串口在33ms内传不完数据导致程序紊乱
2012.3.06  修改 气压计高度 和速度的 均值滤波程序
2012.3.27 修改NED坐标和相应控制器
          0、师兄在海拔赋值那里出错 为什么用海拔值 ？？？？？？
          1、改coll项PID为负值，确保没有命令时（飞机悬停）为负反馈
          2、改上传点高度为负值，相对于当前点负  表示在当前点上方
          3、改路径规划里 高度计算 用当前值减目标值 为正表示要向上飞
          4、改速度计算里的高度项速度 与高度值反方向 向上飞 速度为负
          5、改飞机climbing_step 爬升步骤里面的 速度规划 和给定值计算
          6、计算气压计的高度 设置零点 把方向反 向下为正
2012.4.13  采用标准矩阵之后 路径规划需要做一些改变 ：保证航向角转成功之后才能前飞。改转向里面的程序。
           减小转向速度到15m/s――改变规划里面 每次转向0.009弧度。
           归零飞机悬停时姿态，我们目前的飞机 悬停时飞机pitch角度为-1度，roll角度为5度，在程序里做相应处理-――归零。
           用归零之后的矩阵对机体位置速度计算。
        
4.16  不用改高度基值。每次赋值手控时值
6.8  调试kalman参数 确保高度项悬停稳（数据延时大了飞机自控不稳）
     注意从NED到机体的转换矩阵――修正（标准的前飞不稳）
     在产生pwm值那个定时器里修改：确保4017每次都复位
     对NED到机体转换阵高度 做补偿――根据俯仰角度来定植补偿
     
7.12 改高度项路径规划 高度飞行有问题 按标准的NED坐标系来  //需要实验证明
     由于gps和遥控器信号出现跳变异常值，在程序里做异常值处理
7.21 imu输出值的中位点改为1FFF